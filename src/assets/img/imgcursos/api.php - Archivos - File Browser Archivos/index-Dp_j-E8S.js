const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.__prependStaticUrl("assets/Editor-DRoNs8Ir.js"),window.__prependStaticUrl("assets/i18n-CsiPK6b3.js"),window.__prependStaticUrl("assets/dayjs-1F5ai5TR.js"),window.__prependStaticUrl("assets/Preview-Cccw-F5J.js"),window.__prependStaticUrl("assets/Preview-D-XSvT3V.css")])))=>i.map(i=>d[i]);
import{d as ie,c as C,a as B,b as c,m as at,n as Pe,o as y,e as qe,r as G,f as ct,g as W,h as Oe,i as Fr,j as ne,w as we,k as Ea,t as In,l as Qu,p as jr,q as ka,s as Ca,u as Ct,v as m,x as Ar,y as Yu,z as Ot,A as te,B as J,C as Bt,T as ks,D as _o,E as Ce,F as Ge,G as Ne,H as Xu,I as Tn,J as Tt,K as Ue,L as Ju,M as gt,N as Ta,O as fe,P as Ve,Q as an,R as Zu,S as Se,U as re,V as g,W as Wo,X as xe,Y as ec,Z as Pa,_ as tc,$ as Aa,a0 as Vn,a1 as Qo,a2 as nc,a3 as Ke,a4 as Jr,a5 as Cs,a6 as rc,a7 as ke,a8 as Re,a9 as ye,aa as zr,ab as Zr,ac as oc,ad as sc,ae as Ts,af as Ps,ag as Ra,ah as Yo,ai as As,aj as Oa}from"./i18n-CsiPK6b3.js";import{h as Rs,j as ic,g as dt,k as ac,m as lc,n as uc}from"./dayjs-1F5ai5TR.js";function vT(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Xo=window.FileBrowser.Name||"File Browser",Da=window.FileBrowser.DisableExternal,cc=window.FileBrowser.DisableUsedPercentage,ot=window.FileBrowser.BaseURL,dc=window.FileBrowser.StaticURL,Pn=window.FileBrowser.ReCaptcha,fc=window.FileBrowser.ReCaptchaKey,Ua=window.FileBrowser.Signup,pc=window.FileBrowser.Version,La="".concat(dc,"/img/logo.svg"),hc=window.FileBrowser.TmpDir,An=window.FileBrowser.TrashDir,Ia=window.FileBrowser.QuotaExists,xa=window.FileBrowser.NoAuth;window.FileBrowser.AuthMethod;const mc=window.FileBrowser.AuthLogoutURL,Ba=window.FileBrowser.LoginPage,Na=window.FileBrowser.Theme,vc=window.FileBrowser.EnableThumbs,yT=window.FileBrowser.ResizePreview,ln=window.FileBrowser.EnableExec,eo=window.FileBrowser.TusSettings,gc="/api/tus";/*! vue-number-input v2.0.1 | (c) 2018-present Chen Fengyuan | MIT */const Dt=Number.isNaN||window.isNaN,bc=/^-?(?:\d+|\d+\.\d+|\.\d+)(?:[eE][-+]?\d+)?$/,yc=/\.\d*(?:0|9){10}\d*$/,Os=(e,t=1e11)=>yc.test(String(e))?Math.round(e*t)/t:e;var Rr=ie({name:"VueNumberInput",props:{attrs:{type:Object,default:void 0},center:Boolean,controls:Boolean,disabled:Boolean,inputtable:{type:Boolean,default:!0},inline:Boolean,max:{type:Number,default:1/0},min:{type:Number,default:-1/0},name:{type:String,default:void 0},placeholder:{type:String,default:void 0},readonly:Boolean,rounded:Boolean,size:{type:String,default:void 0},step:{type:Number,default:1},modelValue:{type:Number,default:NaN}},emits:["update:modelValue"],data(){return{value:NaN}},computed:{increasable(){return Dt(this.value)||this.value<this.max},decreasable(){return Dt(this.value)||this.value>this.min}},watch:{modelValue:{immediate:!0,handler(e,t){!(Dt(e)&&typeof t>"u")&&e!==this.value&&this.setValue(e)}}},methods:{isNaN:Dt,change(e){this.setValue(e.target.value)},paste(e){const t=e.clipboardData||window.clipboardData;t&&!bc.test(t.getData("text"))&&e.preventDefault()},decrease(){if(this.decreasable){let{value:e}=this;Dt(e)&&(e=0),this.setValue(Os(e-this.step))}},increase(){if(this.increasable){let{value:e}=this;Dt(e)&&(e=0),this.setValue(Os(e+this.step))}},setValue(e){const t=this.value;let n=typeof e!="number"?parseFloat(e):e;Dt(n)||(this.min<=this.max&&(n=Math.min(this.max,Math.max(this.min,n))),this.rounded&&(n=Math.round(n))),this.value=n,n===t&&(this.$refs.input.value=String(n)),this.$emit("update:modelValue",n,t)}}});const wc=["disabled"],_c=["name","value","min","max","step","readonly","disabled","placeholder"],$c=["disabled"];function Sc(e,t,n,r,s,i){return y(),C("div",{class:Pe(["vue-number-input",{"vue-number-input--inline":e.inline,"vue-number-input--center":e.center,"vue-number-input--controls":e.controls,["vue-number-input--".concat(e.size)]:e.size}])},[e.controls?(y(),C("button",{key:0,class:"vue-number-input__button vue-number-input__button--minus",type:"button",tabindex:"-1",disabled:e.disabled||e.readonly||!e.decreasable,onClick:t[0]||(t[0]=(...o)=>e.decrease&&e.decrease(...o))},null,8,wc)):B("v-if",!0),c("input",at({ref:"input",class:"vue-number-input__input"},e.attrs,{type:"number",name:e.name,value:isNaN(e.value)?"":e.value,min:e.min,max:e.max,step:e.step,readonly:e.readonly||!e.inputtable,disabled:e.disabled||!e.decreasable&&!e.increasable,placeholder:e.placeholder,autocomplete:"off",onChange:t[1]||(t[1]=(...o)=>e.change&&e.change(...o)),onPaste:t[2]||(t[2]=(...o)=>e.paste&&e.paste(...o))}),null,16,_c),e.controls?(y(),C("button",{key:1,class:"vue-number-input__button vue-number-input__button--plus",type:"button",tabindex:"-1",disabled:e.disabled||e.readonly||!e.increasable,onClick:t[3]||(t[3]=(...o)=>e.increase&&e.increase(...o))},null,8,$c)):B("v-if",!0)],2)}function Ec(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var kc='.vue-number-input[data-v-188efc8c]{display:block;font-size:0;max-width:100%;overflow:hidden;position:relative}.vue-number-input__button[data-v-188efc8c]{background-color:#fff;border:0;border-radius:.25rem;bottom:1px;position:absolute;top:1px;width:2.5rem;z-index:1}.vue-number-input__button[data-v-188efc8c]:focus{outline:none}.vue-number-input__button[data-v-188efc8c]:hover:after,.vue-number-input__button[data-v-188efc8c]:hover:before{background-color:#0074d9}.vue-number-input__button[data-v-188efc8c]:disabled{opacity:.65}.vue-number-input__button[data-v-188efc8c]:disabled:after,.vue-number-input__button[data-v-188efc8c]:disabled:before{background-color:#ddd}.vue-number-input__button[data-v-188efc8c]:after,.vue-number-input__button[data-v-188efc8c]:before{background-color:#111;content:"";left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);transition:background-color .15s}.vue-number-input__button[data-v-188efc8c]:before{height:1px;width:50%}.vue-number-input__button[data-v-188efc8c]:after{height:50%;width:1px}.vue-number-input__button--minus[data-v-188efc8c]{border-bottom-right-radius:0;border-right:1px solid #ddd;border-top-right-radius:0;left:1px}.vue-number-input__button--minus[data-v-188efc8c]:after{visibility:hidden}.vue-number-input__button--plus[data-v-188efc8c]{border-bottom-left-radius:0;border-left:1px solid #ddd;border-top-left-radius:0;right:1px}.vue-number-input__input[data-v-188efc8c]{-moz-appearance:textfield;background-color:#fff;border:1px solid #ddd;border-radius:.25rem;display:block;font-size:1rem;line-height:1.5;max-width:100%;min-height:1.5rem;min-width:3rem;padding:.4375rem .875rem;transition:border-color .15s;width:100%}.vue-number-input__input[data-v-188efc8c]::-webkit-inner-spin-button,.vue-number-input__input[data-v-188efc8c]::-webkit-outer-spin-button{-webkit-appearance:none}.vue-number-input__input[data-v-188efc8c]:focus{border-color:#0074d9;outline:none}.vue-number-input__input[data-v-188efc8c]:disabled,.vue-number-input__input[readonly][data-v-188efc8c]{background-color:#f8f8f8}.vue-number-input--inline[data-v-188efc8c]{display:inline-block}.vue-number-input--inline>input[data-v-188efc8c]{display:inline-block;width:12.5rem}.vue-number-input--center>input[data-v-188efc8c]{text-align:center}.vue-number-input--controls>input[data-v-188efc8c]{padding-left:3.375rem;padding-right:3.375rem}.vue-number-input--small>input[data-v-188efc8c]{border-radius:.1875rem;font-size:.875rem;padding:.25rem .5rem}.vue-number-input--small.vue-number-input--inline>input[data-v-188efc8c]{width:10rem}.vue-number-input--small.vue-number-input--controls>button[data-v-188efc8c]{width:2rem}.vue-number-input--small.vue-number-input--controls>input[data-v-188efc8c]{padding-left:2.5rem;padding-right:2.5rem}.vue-number-input--large>input[data-v-188efc8c]{border-radius:.3125rem;font-size:1.25rem;padding:.5rem 1rem}.vue-number-input--large.vue-number-input--inline>input[data-v-188efc8c]{width:15rem}.vue-number-input--large.vue-number-input--controls>button[data-v-188efc8c]{width:3rem}.vue-number-input--large.vue-number-input--controls>input[data-v-188efc8c]{padding-left:4rem;padding-right:4rem}';Ec(kc);Rr.render=Sc;Rr.__scopeId="data-v-188efc8c";/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */function Ma(e,t){return t={exports:{}},e(t,t.exports),t.exports}var $o=Ma(function(e){const t=Object.prototype.toString,n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;e.exports=(i,...o)=>{if(!s(i))throw new TypeError("expected the first argument to be an object");if(o.length===0||typeof Symbol!="function"||typeof r!="function")return i;for(let l of o){let a=r(l);for(let u of a)n.call(l,u)&&(i[u]=l[u])}return i};function s(i){return typeof i=="function"||t.call(i)==="[object Object]"||Array.isArray(i)}}),Ds=Object.freeze({__proto__:null,default:$o,__moduleExports:$o}),Cc=Ds&&$o||Ds,Us=Ma(function(e){const t=Object.prototype.toString,n=o=>o!=="__proto__"&&o!=="constructor"&&o!=="prototype",r=e.exports=(o,...l)=>{let a=0;for(i(o)&&(o=l[a++]),o||(o={});a<l.length;a++)if(s(l[a])){for(const u of Object.keys(l[a]))n(u)&&(s(o[u])&&s(l[a][u])?r(o[u],l[a][u]):o[u]=l[a][u]);Cc(o,l[a])}return o};function s(o){return typeof o=="function"||t.call(o)==="[object Object]"}function i(o){return typeof o=="object"?o===null:typeof o!="function"}});const At=typeof window<"u"&&window!==null,Ls=Tc();function Tc(){return At&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}const Ut={event:"event",observer:"observer"};function Rn(e,t){if(!e.length)return;const n=e.indexOf(t);if(n>-1)return e.splice(n,1)}function Is(e,t){if(e.tagName!=="IMG"||!e.getAttribute("data-srcset"))return"";let n=e.getAttribute("data-srcset").trim().split(",");const r=[],i=e.parentNode.offsetWidth*t;let o,l,a;n.forEach(f=>{f=f.trim(),o=f.lastIndexOf(" "),o===-1?(l=f,a=99999):(l=f.substr(0,o),a=parseInt(f.substr(o+1,f.length-o-2),10)),r.push([a,l])}),r.sort((f,p)=>{if(f[0]<p[0])return 1;if(f[0]>p[0])return-1;if(f[0]===p[0]){if(p[1].indexOf(".webp",p[1].length-5)!==-1)return 1;if(f[1].indexOf(".webp",f[1].length-5)!==-1)return-1}return 0});let u="",d;for(let f=0;f<r.length;f++){d=r[f],u=d[1];const p=r[f+1];if(p&&p[0]<i){u=d[1];break}else if(!p){u=d[1];break}}return u}const Pc=(e=1)=>At&&window.devicePixelRatio||e;function Ac(){if(!At)return!1;let e=!0;function t(n,r){const s={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},i=new Image;i.onload=function(){const o=i.width>0&&i.height>0;r(o)},i.onerror=function(){r(!1)},i.src="data:image/webp;base64,"+s[n]}return t("lossy",n=>{e=n}),t("lossless",n=>{e=n}),t("alpha",n=>{e=n}),t("animation",n=>{e=n}),e}function Rc(e,t){let n=null,r=0;return function(){if(n)return;const s=Date.now()-r,i=this,o=arguments,l=function(){r=Date.now(),n=!1,e.apply(i,o)};s>=t?l():n=setTimeout(l,t)}}function Oc(){if(!At)return!1;let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",Jo,t)}catch(t){}return e}const Dc=Oc(),Uc={on(e,t,n,r=!1){Dc?e.addEventListener(t,n,{capture:r,passive:!0}):e.addEventListener(t,n,r)},off(e,t,n,r=!1){e.removeEventListener(t,n,r)}},So=(e,t,n)=>{let r=new Image;if(!e||!e.src){const s=new Error("image src is required");return n(s)}e.cors&&(r.crossOrigin=e.cors),r.src=e.src,r.onload=function(){t({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src}),r=null},r.onerror=function(s){n(s)}},to=(e,t)=>typeof getComputedStyle<"u"?getComputedStyle(e,null).getPropertyValue(t):e.style[t],Lc=e=>to(e,"overflow")+to(e,"overflowY")+to(e,"overflowX"),Ic=e=>{if(!At)return;if(!(e instanceof Element))return window;let t=e;for(;t&&!(t===document.body||t===document.documentElement||!t.parentNode);){if(/(scroll|auto)/.test(Lc(t)))return t;t=t.parentNode}return window};function xc(e){return e!==null&&typeof e=="object"}function Jo(){}class Bc{constructor(t){this.max=t||100,this._caches=[]}has(t){return this._caches.indexOf(t)>-1}add(t){this.has(t)||(this._caches.push(t),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class Nc{constructor(t,n,r,s,i,o,l,a,u,d){this.el=t,this.src=n,this.error=r,this.loading=s,this.bindType=i,this.attempt=0,this.cors=a,this.naturalHeight=0,this.naturalWidth=0,this.options=l,this.rect={},this.$parent=o,this.elRenderer=u,this._imageCache=d,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(t){this.performanceData[t]=Date.now()}update(t){const n=this.src;this.src=t.src,this.loading=t.loading,this.error=t.error,this.filter(),n!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const t in this.options.filter)this.options.filter[t](this,this.options)}renderLoading(t){this.state.loading=!0,So({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,t()},()=>{t(),this.state.loading=!1,this.options.silent||console.warn("VueLazyload log: load failed with loading image(".concat(this.loading,")"))})}load(t=Jo){if(this.attempt>this.options.attempt-1&&this.state.error){this.options.silent||console.log("VueLazyload log: ".concat(this.src," tried too more than ").concat(this.options.attempt," times")),t();return}if(!(this.state.rendered&&this.state.loaded)){if(this._imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,t();this.renderLoading(()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),So({src:this.src,cors:this.cors},n=>{this.naturalHeight=n.naturalHeight,this.naturalWidth=n.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),t()},n=>{!this.options.silent&&console.error(n),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(t,n){this.elRenderer(this,t,n)}performance(){let t="loading",n=0;return this.state.loaded&&(t="loaded",n=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:n}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const xs="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Mc=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],Fc={rootMargin:"0px",threshold:0};class jc{constructor({preLoad:t,error:n,throttleWait:r,preLoadTop:s,dispatchEvent:i,loading:o,attempt:l,silent:a=!0,scale:u,listenEvents:d,filter:f,adapter:p,observer:h,observerOptions:$}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=Ut.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:a,dispatchEvent:!!i,throttleWait:r||200,preLoad:t||1.3,preLoadTop:s||0,error:n||xs,loading:o||xs,attempt:l||3,scale:u||Pc(u),listenEvents:d||Mc,supportWebp:Ac(),filter:f||{},adapter:p||{},observer:!!h,observerOptions:$||Fc},this._initEvent(),this._imageCache=new Bc(200),this.lazyLoadHandler=Rc(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?Ut.observer:Ut.event)}performance(){const t=[];return this.ListenerQueue.map(n=>t.push(n.performance())),t}addLazyBox(t){this.ListenerQueue.push(t),At&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}add(t,n,r){if(this.ListenerQueue.some(a=>a.el===t))return this.update(t,n),qe(this.lazyLoadHandler);let{src:s,loading:i,error:o,cors:l}=this._valueFormatter(n.value);qe(()=>{s=Is(t,this.options.scale)||s,this._observer&&this._observer.observe(t);const a=Object.keys(n.modifiers)[0];let u;a&&(u=n.instance.$refs[a],u=u?u.el||u:document.getElementById(a)),u||(u=Ic(t));const d=new Nc(t,s,o,i,n.arg,u,this.options,l,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(d),At&&(this._addListenerTarget(window),this._addListenerTarget(u)),qe(this.lazyLoadHandler)})}update(t,n,r){let{src:s,loading:i,error:o}=this._valueFormatter(n.value);s=Is(t,this.options.scale)||s;const l=this.ListenerQueue.find(a=>a.el===t);l?l.update({src:s,loading:i,error:o}):(t.getAttribute("lazy")!=="loaded"||t.dataset.src!==s)&&this.add(t,n,r),this._observer&&(this._observer.unobserve(t),this._observer.observe(t)),qe(this.lazyLoadHandler)}remove(t){if(!t)return;this._observer&&this._observer.unobserve(t);const n=this.ListenerQueue.find(r=>r.el===t);n&&(this._removeListenerTarget(n.$parent),this._removeListenerTarget(window),Rn(this.ListenerQueue,n),n.$destroy&&n.$destroy())}removeComponent(t){t&&(Rn(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}setMode(t){!Ls&&t===Ut.observer&&(t=Ut.event),this.mode=t,t===Ut.event?(this._observer&&(this.ListenerQueue.forEach(n=>{this._observer.unobserve(n.el)}),this._observer=null),this.TargetQueue.forEach(n=>{this._initListen(n.el,!0)})):(this.TargetQueue.forEach(n=>{this._initListen(n.el,!1)}),this._initIntersectionObserver())}_addListenerTarget(t){if(!t)return;let n=this.TargetQueue.find(r=>r.el===t);return n?n.childrenCount++:(n={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===Ut.event&&this._initListen(n.el,!0),this.TargetQueue.push(n)),this.TargetIndex}_removeListenerTarget(t){this.TargetQueue.forEach((n,r)=>{n.el===t&&(n.childrenCount--,n.childrenCount||(this._initListen(n.el,!1),this.TargetQueue.splice(r,1),n=null))})}_initListen(t,n){this.options.listenEvents.forEach(r=>Uc[n?"on":"off"](t,r,this.lazyLoadHandler))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(t,n)=>{this.Event.listeners[t]||(this.Event.listeners[t]=[]),this.Event.listeners[t].push(n)},this.$once=(t,n)=>{const r=this;function s(){r.$off(t,s),n.apply(r,arguments)}this.$on(t,s)},this.$off=(t,n)=>{if(!n){if(!this.Event.listeners[t])return;this.Event.listeners[t].length=0;return}Rn(this.Event.listeners[t],n)},this.$emit=(t,n,r)=>{this.Event.listeners[t]&&this.Event.listeners[t].forEach(s=>s(n,r))}}_lazyLoadHandler(){const t=[];this.ListenerQueue.forEach((n,r)=>{(!n.el||!n.el.parentNode||n.state.loaded)&&t.push(n),n.checkInView()&&(n.state.loaded||n.load())}),t.forEach(n=>{Rn(this.ListenerQueue,n),n.$destroy&&n.$destroy()})}_initIntersectionObserver(){Ls&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(t=>{this._observer.observe(t.el)}))}_observerHandler(t){t.forEach(n=>{n.isIntersecting&&this.ListenerQueue.forEach(r=>{if(r.el===n.target){if(r.state.loaded)return this._observer.unobserve(r.el);r.load()}})})}_elRenderer(t,n,r){if(!t.el)return;const{el:s,bindType:i}=t;let o;switch(n){case"loading":o=t.loading;break;case"error":o=t.error;break;default:o=t.src;break}if(i?s.style[i]='url("'+o+'")':s.getAttribute("src")!==o&&s.setAttribute("src",o),s.setAttribute("lazy",n),this.$emit(n,t,r),this.options.adapter[n]&&this.options.adapter[n](t,this.options),this.options.dispatchEvent){const l=new CustomEvent(n,{detail:t});s.dispatchEvent(l)}}_valueFormatter(t){return xc(t)?(!t.src&&!this.options.silent&&console.error("Vue Lazyload warning: miss src with "+t),{src:t.src,loading:t.loading||this.options.loading,error:t.error||this.options.error,cors:this.options.cors}):{src:t,loading:this.options.loading,error:this.options.error,cors:this.options.cors}}}const Fa=(e,t)=>{let n=ct({});const r=()=>{n=e.value.getBoundingClientRect()};return{rect:n,checkInView:()=>(r(),At&&n.top<window.innerHeight*t&&n.bottom>0&&n.left<window.innerWidth*t&&n.right>0)}};var zc=e=>ie({props:{tag:{type:String,default:"div"}},emits:["show"],setup(t,{emit:n,slots:r}){const s=G(),i=ct({loaded:!1,error:!1,attempt:0}),o=G(!1),{rect:l,checkInView:a}=Fa(s,e.options.preLoad),u=()=>{o.value=!0,i.loaded=!0,n("show",o.value)},d=W(()=>({el:s.value,rect:l,checkInView:a,load:u,state:i}));return Oe(()=>{e.addLazyBox(d.value),e.lazyLoadHandler()}),Fr(()=>{e.removeComponent(d.value)}),()=>{var f;return ne(t.tag,{ref:s},[o.value&&((f=r.default)===null||f===void 0?void 0:f.call(r))])}}});class Hc{constructor(t){this.lazy=t,t.lazyContainerMananger=this,this._queue=[]}bind(t,n,r){const s=new Vc(t,n,r,this.lazy);this._queue.push(s)}update(t,n,r){const s=this._queue.find(i=>i.el===t);s&&s.update(t,n)}unbind(t,n,r){const s=this._queue.find(i=>i.el===t);s&&(s.clear(),Rn(this._queue,s))}}const qc={selector:"img",error:"",loading:""};class Vc{constructor(t,n,r,s){this.el=t,this.vnode=r,this.binding=n,this.options={},this.lazy=s,this._queue=[],this.update(t,n)}update(t,n){this.el=t,this.options=Us({},qc,n.value),this.getImgs().forEach(s=>{this.lazy.add(s,Us({},this.binding,{value:{src:s.getAttribute("data-src")||s.dataset.src,error:s.getAttribute("data-error")||s.dataset.error||this.options.error,loading:s.getAttribute("data-loading")||s.dataset.loading||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(n=>this.lazy.remove(n)),this.vnode=null,this.binding=null,this.lazy=null}}var Gc=e=>ie({setup(t,{slots:n}){const r=G(),s=ct({src:"",error:"",loading:"",attempt:e.options.attempt}),i=ct({loaded:!1,error:!1,attempt:0}),{rect:o,checkInView:l}=Fa(r,e.options.preLoad),a=G(""),u=(p=Jo)=>{if(i.attempt>s.attempt-1&&i.error)return e.options.silent||console.log("VueLazyload log: ".concat(s.src," tried too more than ").concat(s.attempt," times")),p();const h=s.src;So({src:h},({src:$})=>{a.value=$,i.loaded=!0},()=>{i.attempt++,a.value=s.error,i.error=!0})},d=W(()=>({el:r.value,rect:o,checkInView:l,load:u,state:i}));Oe(()=>{e.addLazyBox(d.value),e.lazyLoadHandler()}),Fr(()=>{e.removeComponent(d.value)});const f=()=>{const{src:p,loading:h,error:$}=e._valueFormatter(t.src);i.loaded=!1,s.src=p,s.error=$,s.loading=h,a.value=s.loading};return we(()=>t.src,()=>{f(),e.addLazyBox(d.value),e.lazyLoadHandler()},{immediate:!0}),()=>{var p;return ne(t.tag||"img",{src:a.value,ref:r},[(p=n.default)===null||p===void 0?void 0:p.call(n)])}}}),Kc={install(e,t={}){const n=new jc(t),r=new Hc(n);if(Number(e.version.split(".")[0])<3)return new Error("Vue version at least 3.0");e.config.globalProperties.$Lazyload=n,e.provide("Lazyload",n),t.lazyComponent&&e.component("lazy-component",zc(n)),t.lazyImage&&e.component("lazy-image",Gc(n)),e.directive("lazy",{beforeMount:n.add.bind(n),beforeUpdate:n.update.bind(n),updated:n.lazyLoadHandler.bind(n),unmounted:n.remove.bind(n)}),e.directive("lazy-container",{beforeMount:r.bind.bind(r),updated:r.update.bind(r),unmounted:r.unbind.bind(r)})}};function ja(e){return ka()?(Ca(e),!0):!1}const Wc=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Qc=e=>e!=null,Yc=Object.prototype.toString,Xc=e=>Yc.call(e)==="[object Object]",Jc=()=>{};function Zc(e,t){function n(...r){return new Promise((s,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(i)})}return n}const za=e=>e();function ed(e=za,t={}){const{initialState:n="active"}=t,r=td(n==="active");function s(){r.value=!1}function i(){r.value=!0}const o=(...l)=>{r.value&&e(...l)};return{isActive:Ea(r),pause:s,resume:i,eventFilter:o}}function Ha(e){return jr()}function _r(e){return Array.isArray(e)?e:[e]}function td(...e){if(e.length!==1)return In(...e);const t=e[0];return typeof t=="function"?Ea(Qu(()=>({get:t,set:Jc}))):G(t)}function nd(e,t,n={}){const{eventFilter:r=za,...s}=n;return we(e,Zc(r,t),s)}function rd(e,t,n={}){const{eventFilter:r,initialState:s="active",...i}=n,{eventFilter:o,pause:l,resume:a,isActive:u}=ed(r,{initialState:s});return{stop:nd(e,t,{...i,eventFilter:o}),pause:l,resume:a,isActive:u}}function od(e,t=!0,n){Ha()?Oe(e,n):t?e():qe(e)}function sd(e,t){Ha()&&Fr(e,t)}function id(e,t,n){return we(e,t,{...n,immediate:!0})}const Eo=Wc?window:void 0;function qa(e){var t;const n=Ct(e);return(t=n==null?void 0:n.$el)!=null?t:n}function it(...e){const t=[],n=()=>{t.forEach(l=>l()),t.length=0},r=(l,a,u,d)=>(l.addEventListener(a,u,d),()=>l.removeEventListener(a,u,d)),s=W(()=>{const l=_r(Ct(e[0])).filter(a=>a!=null);return l.every(a=>typeof a!="string")?l:void 0}),i=id(()=>{var l,a;return[(a=(l=s.value)==null?void 0:l.map(u=>qa(u)))!=null?a:[Eo].filter(u=>u!=null),_r(Ct(s.value?e[1]:e[0])),_r(m(s.value?e[2]:e[1])),Ct(s.value?e[3]:e[2])]},([l,a,u,d])=>{if(n(),!(l!=null&&l.length)||!(a!=null&&a.length)||!(u!=null&&u.length))return;const f=Xc(d)?{...d}:d;t.push(...l.flatMap(p=>a.flatMap(h=>u.map($=>r(p,h,$,f)))))},{flush:"post"}),o=()=>{i(),n()};return ja(n),o}const pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hr="__vueuse_ssr_handlers__",ad=ld();function ld(){return hr in pr||(pr[hr]=pr[hr]||{}),pr[hr]}function ud(e,t){return ad[e]||t}function cd(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const dd={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Bs="vueuse-storage";function wT(e,t,n,r={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:l=!0,writeDefaults:a=!0,mergeDefaults:u=!1,shallow:d,window:f=Eo,eventFilter:p,onError:h=Q=>{console.error(Q)},initOnMounted:$}=r,v=(d?Ar:G)(typeof t=="function"?t():t),_=W(()=>Ct(e));if(!n)try{n=ud("getDefaultStorage",()=>{var Q;return(Q=Eo)==null?void 0:Q.localStorage})()}catch(Q){h(Q)}if(!n)return v;const S=Ct(t),k=cd(S),E=(s=r.serializer)!=null?s:dd[k],{pause:P,resume:T}=rd(v,()=>U(v.value),{flush:i,deep:o,eventFilter:p});we(_,()=>D(),{flush:i}),f&&l&&od(()=>{n instanceof Storage?it(f,"storage",D,{passive:!0}):it(f,Bs,K),$&&D()}),$||D();function x(Q,V){if(f){const A={key:_.value,oldValue:Q,newValue:V,storageArea:n};f.dispatchEvent(n instanceof Storage?new StorageEvent("storage",A):new CustomEvent(Bs,{detail:A}))}}function U(Q){try{const V=n.getItem(_.value);if(Q==null)x(V,null),n.removeItem(_.value);else{const A=E.write(Q);V!==A&&(n.setItem(_.value,A),x(V,A))}}catch(V){h(V)}}function z(Q){const V=Q?Q.newValue:n.getItem(_.value);if(V==null)return a&&S!=null&&n.setItem(_.value,E.write(S)),S;if(!Q&&u){const A=E.read(V);return typeof u=="function"?u(A,S):k==="object"&&!Array.isArray(A)?{...S,...A}:A}else return typeof V!="string"?V:E.read(V)}function D(Q){if(!(Q&&Q.storageArea!==n)){if(Q&&Q.key==null){v.value=S;return}if(!(Q&&Q.key!==_.value)){P();try{(Q==null?void 0:Q.newValue)!==E.write(v.value)&&(v.value=z(Q))}catch(V){h(V)}finally{Q?qe(T):T()}}}}function K(Q){D(Q.detail)}return v}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Va=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Or=Va.join(","),Ga=typeof Element>"u",Mt=Ga?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Dr=!Ga&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Ur=function e(t,n){var r;n===void 0&&(n=!0);var s=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=s===""||s==="true",o=i||n&&t&&e(t.parentNode);return o},fd=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Ka=function(t,n,r){if(Ur(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(Or));return n&&Mt.call(t,Or)&&s.unshift(t),s=s.filter(r),s},Wa=function e(t,n,r){for(var s=[],i=Array.from(t);i.length;){var o=i.shift();if(!Ur(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),a=l.length?l:o.children,u=e(a,!0,r);r.flatten?s.push.apply(s,u):s.push({scopeParent:o,candidates:u})}else{var d=Mt.call(o,Or);d&&r.filter(o)&&(n||!t.includes(o))&&s.push(o);var f=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),p=!Ur(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(f&&p){var h=e(f===!0?o.children:f.children,!0,r);r.flatten?s.push.apply(s,h):s.push({scopeParent:o,candidates:h})}else i.unshift.apply(i,o.children)}}return s},Qa=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Lt=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||fd(t))&&!Qa(t)?0:t.tabIndex},pd=function(t,n){var r=Lt(t);return r<0&&n&&!Qa(t)?0:r},hd=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Ya=function(t){return t.tagName==="INPUT"},md=function(t){return Ya(t)&&t.type==="hidden"},vd=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},gd=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},bd=function(t){if(!t.name)return!0;var n=t.form||Dr(t),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(t.name));else try{s=r(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=gd(s,t.form);return!i||i===t},yd=function(t){return Ya(t)&&t.type==="radio"},wd=function(t){return yd(t)&&!bd(t)},_d=function(t){var n,r=t&&Dr(t),s=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var o,l,a;for(i=!!((o=s)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(s)||t!=null&&(a=t.ownerDocument)!==null&&a!==void 0&&a.contains(t));!i&&s;){var u,d,f;r=Dr(s),s=(u=r)===null||u===void 0?void 0:u.host,i=!!((d=s)!==null&&d!==void 0&&(f=d.ownerDocument)!==null&&f!==void 0&&f.contains(s))}}return i},Ns=function(t){var n=t.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},$d=function(t,n){var r=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=Mt.call(t,"details>summary:first-of-type"),o=i?t.parentElement:t;if(Mt.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var l=t;t;){var a=t.parentElement,u=Dr(t);if(a&&!a.shadowRoot&&s(a)===!0)return Ns(t);t.assignedSlot?t=t.assignedSlot:!a&&u!==t.ownerDocument?t=u.host:t=a}t=l}if(_d(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ns(t);return!1},Sd=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return Mt.call(n,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}n=n.parentElement}return!1},Lr=function(t,n){return!(n.disabled||Ur(n)||md(n)||$d(n,t)||vd(n)||Sd(n))},ko=function(t,n){return!(wd(n)||Lt(n)<0||!Lr(t,n))},Ed=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},kd=function e(t){var n=[],r=[];return t.forEach(function(s,i){var o=!!s.scopeParent,l=o?s.scopeParent:s,a=pd(l,o),u=o?e(s.candidates):l;a===0?o?n.push.apply(n,u):n.push(l):r.push({documentOrder:i,tabIndex:a,item:s,isScope:o,content:u})}),r.sort(hd).reduce(function(s,i){return i.isScope?s.push.apply(s,i.content):s.push(i.content),s},[]).concat(n)},Cd=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Wa([t],n.includeContainer,{filter:ko.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Ed}):r=Ka(t,n.includeContainer,ko.bind(null,n)),kd(r)},Td=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Wa([t],n.includeContainer,{filter:Lr.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Ka(t,n.includeContainer,Lr.bind(null,n)),r},Jt=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Mt.call(t,Or)===!1?!1:ko(n,t)},Pd=Va.concat("iframe").join(","),no=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Mt.call(t,Pd)===!1?!1:Lr(n,t)};/*!
* focus-trap 7.6.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Co(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ad(e){if(Array.isArray(e))return Co(e)}function Rd(e,t,n){return(t=Id(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Od(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dd(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ms(Object(n),!0).forEach(function(r){Rd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ud(e){return Ad(e)||Od(e)||xd(e)||Dd()}function Ld(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Id(e){var t=Ld(e,"string");return typeof t=="symbol"?t:t+""}function xd(e,t){if(e){if(typeof e=="string")return Co(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Co(e,t):void 0}}var js={activateTrap:function(t,n){if(t.length>0){var r=t[t.length-1];r!==n&&r.pause()}var s=t.indexOf(n);s===-1||t.splice(s,1),t.push(n)},deactivateTrap:function(t,n){var r=t.indexOf(n);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}},Bd=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},Nd=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},xn=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},Md=function(t){return xn(t)&&!t.shiftKey},Fd=function(t){return xn(t)&&t.shiftKey},zs=function(t){return setTimeout(t,0)},Sn=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return typeof t=="function"?t.apply(void 0,r):t},mr=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},jd=[],zd=function(t,n){var r=(n==null?void 0:n.document)||document,s=(n==null?void 0:n.trapStack)||jd,i=Fs({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Md,isKeyBackward:Fd},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,a=function(A,j,L){return A&&A[j]!==void 0?A[j]:i[L||j]},u=function(A,j){var L=typeof(j==null?void 0:j.composedPath)=="function"?j.composedPath():void 0;return o.containerGroups.findIndex(function(w){var b=w.container,R=w.tabbableNodes;return b.contains(A)||(L==null?void 0:L.includes(b))||R.find(function(O){return O===A})})},d=function(A){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=j.hasFallback,w=L===void 0?!1:L,b=j.params,R=b===void 0?[]:b,O=i[A];if(typeof O=="function"&&(O=O.apply(void 0,Ud(R))),O===!0&&(O=void 0),!O){if(O===void 0||O===!1)return O;throw new Error("`".concat(A,"` was specified but was not a node, or did not return a node"))}var F=O;if(typeof O=="string"){try{F=r.querySelector(O)}catch(N){throw new Error("`".concat(A,'` appears to be an invalid selector; error="').concat(N.message,'"'))}if(!F&&!w)throw new Error("`".concat(A,"` as selector refers to no known node"))}return F},f=function(){var A=d("initialFocus",{hasFallback:!0});if(A===!1)return!1;if(A===void 0||A&&!no(A,i.tabbableOptions))if(u(r.activeElement)>=0)A=r.activeElement;else{var j=o.tabbableGroups[0],L=j&&j.firstTabbableNode;A=L||d("fallbackFocus")}else A===null&&(A=d("fallbackFocus"));if(!A)throw new Error("Your focus-trap needs to have at least one focusable element");return A},p=function(){if(o.containerGroups=o.containers.map(function(A){var j=Cd(A,i.tabbableOptions),L=Td(A,i.tabbableOptions),w=j.length>0?j[0]:void 0,b=j.length>0?j[j.length-1]:void 0,R=L.find(function(N){return Jt(N)}),O=L.slice().reverse().find(function(N){return Jt(N)}),F=!!j.find(function(N){return Lt(N)>0});return{container:A,tabbableNodes:j,focusableNodes:L,posTabIndexesFound:F,firstTabbableNode:w,lastTabbableNode:b,firstDomTabbableNode:R,lastDomTabbableNode:O,nextTabbableNode:function(Z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,se=j.indexOf(Z);return se<0?ae?L.slice(L.indexOf(Z)+1).find(function(be){return Jt(be)}):L.slice(0,L.indexOf(Z)).reverse().find(function(be){return Jt(be)}):j[se+(ae?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(A){return A.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!d("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(A){return A.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function(A){var j=A.activeElement;if(j)return j.shadowRoot&&j.shadowRoot.activeElement!==null?h(j.shadowRoot):j},$=function(A){if(A!==!1&&A!==h(document)){if(!A||!A.focus){$(f());return}A.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=A,Bd(A)&&A.select()}},v=function(A){var j=d("setReturnFocus",{params:[A]});return j||(j===!1?!1:A)},_=function(A){var j=A.target,L=A.event,w=A.isBackward,b=w===void 0?!1:w;j=j||mr(L),p();var R=null;if(o.tabbableGroups.length>0){var O=u(j,L),F=O>=0?o.containerGroups[O]:void 0;if(O<0)b?R=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:R=o.tabbableGroups[0].firstTabbableNode;else if(b){var N=o.tabbableGroups.findIndex(function(I){var X=I.firstTabbableNode;return j===X});if(N<0&&(F.container===j||no(j,i.tabbableOptions)&&!Jt(j,i.tabbableOptions)&&!F.nextTabbableNode(j,!1))&&(N=O),N>=0){var Z=N===0?o.tabbableGroups.length-1:N-1,ae=o.tabbableGroups[Z];R=Lt(j)>=0?ae.lastTabbableNode:ae.lastDomTabbableNode}else xn(L)||(R=F.nextTabbableNode(j,!1))}else{var se=o.tabbableGroups.findIndex(function(I){var X=I.lastTabbableNode;return j===X});if(se<0&&(F.container===j||no(j,i.tabbableOptions)&&!Jt(j,i.tabbableOptions)&&!F.nextTabbableNode(j))&&(se=O),se>=0){var be=se===o.tabbableGroups.length-1?0:se+1,ve=o.tabbableGroups[be];R=Lt(j)>=0?ve.firstTabbableNode:ve.firstDomTabbableNode}else xn(L)||(R=F.nextTabbableNode(j))}}else R=d("fallbackFocus");return R},S=function(A){var j=mr(A);if(!(u(j,A)>=0)){if(Sn(i.clickOutsideDeactivates,A)){l.deactivate({returnFocus:i.returnFocusOnDeactivate});return}Sn(i.allowOutsideClick,A)||A.preventDefault()}},k=function(A){var j=mr(A),L=u(j,A)>=0;if(L||j instanceof Document)L&&(o.mostRecentlyFocusedNode=j);else{A.stopImmediatePropagation();var w,b=!0;if(o.mostRecentlyFocusedNode)if(Lt(o.mostRecentlyFocusedNode)>0){var R=u(o.mostRecentlyFocusedNode),O=o.containerGroups[R].tabbableNodes;if(O.length>0){var F=O.findIndex(function(N){return N===o.mostRecentlyFocusedNode});F>=0&&(i.isKeyForward(o.recentNavEvent)?F+1<O.length&&(w=O[F+1],b=!1):F-1>=0&&(w=O[F-1],b=!1))}}else o.containerGroups.some(function(N){return N.tabbableNodes.some(function(Z){return Lt(Z)>0})})||(b=!1);else b=!1;b&&(w=_({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),$(w||o.mostRecentlyFocusedNode||f())}o.recentNavEvent=void 0},E=function(A){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=A;var L=_({event:A,isBackward:j});L&&(xn(A)&&A.preventDefault(),$(L))},P=function(A){(i.isKeyForward(A)||i.isKeyBackward(A))&&E(A,i.isKeyBackward(A))},T=function(A){Nd(A)&&Sn(i.escapeDeactivates,A)!==!1&&(A.preventDefault(),l.deactivate())},x=function(A){var j=mr(A);u(j,A)>=0||Sn(i.clickOutsideDeactivates,A)||Sn(i.allowOutsideClick,A)||(A.preventDefault(),A.stopImmediatePropagation())},U=function(){if(o.active)return js.activateTrap(s,l),o.delayInitialFocusTimer=i.delayInitialFocus?zs(function(){$(f())}):$(f()),r.addEventListener("focusin",k,!0),r.addEventListener("mousedown",S,{capture:!0,passive:!1}),r.addEventListener("touchstart",S,{capture:!0,passive:!1}),r.addEventListener("click",x,{capture:!0,passive:!1}),r.addEventListener("keydown",P,{capture:!0,passive:!1}),r.addEventListener("keydown",T),l},z=function(){if(o.active)return r.removeEventListener("focusin",k,!0),r.removeEventListener("mousedown",S,!0),r.removeEventListener("touchstart",S,!0),r.removeEventListener("click",x,!0),r.removeEventListener("keydown",P,!0),r.removeEventListener("keydown",T),l},D=function(A){var j=A.some(function(L){var w=Array.from(L.removedNodes);return w.some(function(b){return b===o.mostRecentlyFocusedNode})});j&&$(f())},K=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(D):void 0,Q=function(){K&&(K.disconnect(),o.active&&!o.paused&&o.containers.map(function(A){K.observe(A,{subtree:!0,childList:!0})}))};return l={get active(){return o.active},get paused(){return o.paused},activate:function(A){if(o.active)return this;var j=a(A,"onActivate"),L=a(A,"onPostActivate"),w=a(A,"checkCanFocusTrap");w||p(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,j==null||j();var b=function(){w&&p(),U(),Q(),L==null||L()};return w?(w(o.containers.concat()).then(b,b),this):(b(),this)},deactivate:function(A){if(!o.active)return this;var j=Fs({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},A);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,z(),o.active=!1,o.paused=!1,Q(),js.deactivateTrap(s,l);var L=a(j,"onDeactivate"),w=a(j,"onPostDeactivate"),b=a(j,"checkCanReturnFocus"),R=a(j,"returnFocus","returnFocusOnDeactivate");L==null||L();var O=function(){zs(function(){R&&$(v(o.nodeFocusedBeforeActivation)),w==null||w()})};return R&&b?(b(v(o.nodeFocusedBeforeActivation)).then(O,O),this):(O(),this)},pause:function(A){if(o.paused||!o.active)return this;var j=a(A,"onPause"),L=a(A,"onPostPause");return o.paused=!0,j==null||j(),z(),Q(),L==null||L(),this},unpause:function(A){if(!o.paused||!o.active)return this;var j=a(A,"onUnpause"),L=a(A,"onPostUnpause");return o.paused=!1,j==null||j(),p(),U(),Q(),L==null||L(),this},updateContainerElements:function(A){var j=[].concat(A).filter(Boolean);return o.containers=j.map(function(L){return typeof L=="string"?r.querySelector(L):L}),o.active&&p(),Q(),this}},l.updateContainerElements(t),l};function Hd(e,t={}){let n;const{immediate:r,...s}=t,i=Ar(!1),o=Ar(!1),l=p=>n&&n.activate(p),a=p=>n&&n.deactivate(p),u=()=>{n&&(n.pause(),o.value=!0)},d=()=>{n&&(n.unpause(),o.value=!1)},f=W(()=>{const p=Ct(e);return _r(p).map(h=>{const $=Ct(h);return typeof $=="string"?$:qa($)}).filter(Qc)});return we(f,p=>{p.length&&(n=zd(p,{...s,onActivate(){i.value=!0,t.onActivate&&t.onActivate()},onDeactivate(){i.value=!1,t.onDeactivate&&t.onDeactivate()}}),r&&l())},{flush:"post"}),ja(()=>a()),{hasFocus:i,isPaused:o,activate:l,deactivate:a,pause:u,unpause:d}}const qd=e=>(...t)=>{e&&(e==null||e(...t),e=null)},Gn=()=>{};function vr(e,t,n){return e>n?n:e<t?t:e}const Zo=e=>typeof e=="string";function ro(e,t){var n;const r=((n=On(e,t))==null?void 0:n[0])||t;e.push(r)}function On(e,t){const n=e.indexOf(t);if(n!==-1)return e.splice(n,1)}function Xa(e){return Object.entries(e)}const Vd={teleportTo:{type:[String,null,Boolean,Object],default:"body"},modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:e=>["if","show","visible"].includes(e)},hideOverlay:{type:Boolean,default:void 0},overlayBehavior:{type:String,default:"auto",validator:e=>["auto","persist"].includes(e)},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:e=>["interactive","non-interactive"].includes(e)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:e})=>1e3+2*e},swipeToClose:{type:String,default:"none",validator:e=>["none","up","right","down","left"].includes(e)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function Hs(e=!1){const t=G(e),n=G(t.value?0:void 0);return[t,n,{beforeEnter(){n.value=1},afterEnter(){n.value=0},beforeLeave(){n.value=3},afterLeave(){n.value=2}}]}function Gd(e,t){const{modelValueLocal:n,onEntering:r,onEnter:s,onLeaving:i,onLeave:o}=t,l=G(n.value),[a,u,d]=Hs(l.value),[f,p,h]=Hs(l.value),$=W(()=>typeof e.contentTransition=="string"?{name:e.contentTransition,appear:!0}:{appear:!0,...e.contentTransition}),v=W(()=>typeof e.overlayTransition=="string"?{name:e.overlayTransition,appear:!0}:{appear:!0,...e.overlayTransition}),_=W(()=>(e.hideOverlay||p.value===2)&&u.value===2);we(_,E=>{E&&(l.value=!1)}),we(u,E=>{if(E===1){if(!l.value)return;r==null||r()}else if(E===0){if(!l.value)return;s==null||s()}else E===3?i==null||i():E===2&&(o==null||o())});async function S(){l.value=!0,await qe(),a.value=!0,f.value=!0}function k(){a.value=!1,f.value=!1}return{visible:l,contentVisible:a,contentListeners:d,contentTransition:$,overlayVisible:f,overlayListeners:h,overlayTransition:v,enterTransition:S,leaveTransition:k}}function Kd(e,t,n){const{vfmRootEl:r,vfmContentEl:s,visible:i,modelValueLocal:o}=n,l=G();function a(){i.value&&e.escToClose&&(o.value=!1)}function u(f){l.value=f==null?void 0:f.target}function d(){var f;l.value===r.value&&(e.clickToClose?o.value=!1:((f=s.value)==null||f.focus(),t("clickOutside")))}return{onEsc:a,onMouseupRoot:d,onMousedown:u}}function Wd(e,t,n){let r=!1;const{open:s,close:i}=n,o=G(!1),l={get value(){return o.value},set value(u){a(u)}};function a(u){(u?s():i())?(o.value=u,u!==e.modelValue&&t("update:modelValue",u)):(r=!0,t("update:modelValue",!u),qe(()=>{r=!1}))}return we(()=>e.modelValue,u=>{r||(l.value=!!u)}),{modelValueLocal:l}}function Qd(e,t){if(e.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:n}=t,{hasFocus:r,activate:s,deactivate:i}=Hd(n,e.focusTrap);function o(){requestAnimationFrame(()=>{s()})}function l(){r.value&&i()}return{focus:o,blur:l}}let es=!1;if(typeof window<"u"){const e={get passive(){es=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}const Ja=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let kt=[],Ir=!1,$r=0,Za=-1,Bn,Nn;const Yd=e=>{if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["auto","scroll"].includes(t.overflowY)&&e.scrollHeight>e.clientHeight},Xd=(e,t)=>!(e.scrollTop===0&&t<0||e.scrollTop+e.clientHeight+t>=e.scrollHeight&&t>0),Jd=e=>{const t=[];for(;e;){if(t.push(e),e.classList.contains("vfm"))return t;e=e.parentElement}return t},Zd=(e,t)=>{let n=!1;return Jd(e).forEach(r=>{Yd(r)&&Xd(r,t)&&(n=!0)}),n},el=e=>kt.some(()=>Zd(e,-$r)),ts=e=>{const t=e||window.event;return el(t.target)||t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)},ef=e=>{if(Nn===void 0){const t=!!e&&e.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){const r=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);Nn=document.body.style.paddingRight,document.body.style.paddingRight="".concat(r+n,"px")}}Bn===void 0&&(Bn=document.body.style.overflow,document.body.style.overflow="hidden")},tf=()=>{Nn!==void 0&&(document.body.style.paddingRight=Nn,Nn=void 0),Bn!==void 0&&(document.body.style.overflow=Bn,Bn=void 0)},nf=e=>e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1,rf=(e,t)=>($r=e.targetTouches[0].clientY-Za,el(e.target)?!1:t&&t.scrollTop===0&&$r>0||nf(t)&&$r<0?ts(e):(e.stopPropagation(),!0)),of=(e,t)=>{if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(kt.some(r=>r.targetElement===e))return;const n={targetElement:e,options:t||{}};kt=[...kt,n],Ja?(e.ontouchstart=r=>{r.targetTouches.length===1&&(Za=r.targetTouches[0].clientY)},e.ontouchmove=r=>{r.targetTouches.length===1&&rf(r,e)},Ir||(document.addEventListener("touchmove",ts,es?{passive:!1}:void 0),Ir=!0)):ef(t)},sf=e=>{if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}kt=kt.filter(t=>t.targetElement!==e),Ja?(e.ontouchstart=null,e.ontouchmove=null,Ir&&kt.length===0&&(document.removeEventListener("touchmove",ts,es?{passive:!1}:void 0),Ir=!1)):kt.length||tf()};function af(e,t){const{lockScrollEl:n,modelValueLocal:r}=t;let s;we(n,l=>{l&&(s=l)},{immediate:!0}),we(()=>e.lockScroll,l=>{l?o():i()}),Ot(()=>{i()});function i(){s&&sf(s)}function o(){r.value&&e.lockScroll&&s&&of(s,{reserveScrollBarGap:e.reserveScrollBarGap,allowTouchMove:l=>{for(;l&&l!==document.body;){if(l.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;l=l.parentElement}return!1}})}return{enableBodyScroll:i,disableBodyScroll:o}}function lf(e){const t=G();function n(s){var i;t.value=(i=e.zIndexFn)==null?void 0:i.call(e,{index:s<=-1?0:s})}function r(){t.value=void 0}return{zIndex:t,refreshZIndex:n,resetZIndex:r}}const oo={beforeMount(e,{value:t},{transition:n}){e._vov=e.style.visibility==="hidden"?"":e.style.visibility,n&&t?n.beforeEnter(e):En(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),En(e,!0),r.enter(e)):r.leave(e,()=>{En(e,!1)}):En(e,t))},beforeUnmount(e,{value:t}){En(e,t)}};function En(e,t){e.style.visibility=t?e._vov:"hidden"}const qs=e=>{if(e instanceof MouseEvent){const{clientX:t,clientY:n}=e;return{x:t,y:n}}else{const{clientX:t,clientY:n}=e.targetTouches[0];return{x:t,y:n}}};function uf(e){if(!e)return!1;let t=!1;const n={get passive(){return t=!0,!1}};return e.addEventListener("x",Gn,n),e.removeEventListener("x",Gn),t}function cf(e,{threshold:t=0,onSwipeStart:n,onSwipe:r,onSwipeEnd:s,passive:i=!0}){const o=ct({x:0,y:0}),l=ct({x:0,y:0}),a=W(()=>o.x-l.x),u=W(()=>o.y-l.y),{max:d,abs:f}=Math,p=W(()=>d(f(a.value),f(u.value))>=t),h=G(!1),$=W(()=>p.value?f(a.value)>f(u.value)?a.value>0?"left":"right":u.value>0?"up":"down":"none"),v=(U,z)=>{o.x=U,o.y=z},_=(U,z)=>{l.x=U,l.y=z};let S,k;function E(U){S.capture&&!S.passive&&U.preventDefault();const{x:z,y:D}=qs(U);v(z,D),_(z,D),n==null||n(U),k=[it(e,"mousemove",P,S),it(e,"touchmove",P,S),it(e,"mouseup",T,S),it(e,"touchend",T,S),it(e,"touchcancel",T,S)]}function P(U){const{x:z,y:D}=qs(U);_(z,D),!h.value&&p.value&&(h.value=!0),h.value&&(r==null||r(U))}function T(U){h.value&&(s==null||s(U,$.value)),h.value=!1,k.forEach(z=>z())}let x=[];return Oe(()=>{const U=uf(window==null?void 0:window.document);i?S=U?{passive:!0}:{capture:!1}:S=U?{passive:!1,capture:!0}:{capture:!0},x=[it(e,"mousedown",E,S),it(e,"touchstart",E,S)]}),{isSwiping:h,direction:$,coordsStart:o,coordsEnd:l,lengthX:a,lengthY:u,stop:()=>{x.forEach(U=>U()),k.forEach(U=>U())}}}function df(e,t){const{vfmContentEl:n,modelValueLocal:r}=t,s=.1,i=300,o=G(),l=W(()=>{if(!(e.swipeToClose===void 0||e.swipeToClose==="none"))return e.showSwipeBanner?o.value:n.value}),a=G(0),u=G(!0);let d=Gn,f=!0,p,h=!1;const{lengthX:$,lengthY:v,direction:_,isSwiping:S}=cf(l,{threshold:e.threshold,onSwipeStart(T){d=it(document,"selectionchange",()=>{var x;u.value=(x=window.getSelection())==null?void 0:x.isCollapsed}),p=new Date().getTime(),h=P(T==null?void 0:T.target)},onSwipe(){var T,x,U,z;if(h&&u.value&&_.value===e.swipeToClose){if(_.value==="up"){const D=vr(Math.abs(v.value||0),0,((T=l.value)==null?void 0:T.offsetHeight)||0)-(e.threshold||0);a.value=D}else if(_.value==="down"){const D=vr(Math.abs(v.value||0),0,((x=l.value)==null?void 0:x.offsetHeight)||0)-(e.threshold||0);a.value=-D}else if(_.value==="right"){const D=vr(Math.abs($.value||0),0,((U=l.value)==null?void 0:U.offsetWidth)||0)-(e.threshold||0);a.value=-D}else if(_.value==="left"){const D=vr(Math.abs($.value||0),0,((z=l.value)==null?void 0:z.offsetWidth)||0)-(e.threshold||0);a.value=D}}},onSwipeEnd(T,x){if(d(),!u.value){u.value=!0;return}const U=new Date().getTime(),z=x===e.swipeToClose,D=(()=>{var Q,V;if(x==="up"||x==="down")return Math.abs((v==null?void 0:v.value)||0)>s*(((Q=l.value)==null?void 0:Q.offsetHeight)||0);if(x==="left"||x==="right")return Math.abs(($==null?void 0:$.value)||0)>s*(((V=l.value)==null?void 0:V.offsetWidth)||0)})(),K=U-p<=i;if(f&&h&&z&&(D||K)){r.value=!1;return}a.value=0}}),k=W(()=>{if(e.swipeToClose==="none")return;const T=(()=>{switch(e.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!S.value},style:{transform:"".concat(T,"(").concat(-a.value,"px)")}}});we(()=>u.value,T=>{T||(a.value=0)}),we(()=>r.value,T=>{T&&(a.value=0)}),we(()=>a.value,(T,x)=>{switch(e.swipeToClose){case"down":case"right":f=T<x;break;case"up":case"left":f=T>x;break}});function E(T){e.preventNavigationGestures&&T.preventDefault()}function P(T){const x=T==null?void 0:T.tagName;if(!x||["INPUT","TEXTAREA"].includes(x))return!1;const U=(()=>{switch(e.swipeToClose){case"up":return(T==null?void 0:T.scrollTop)+(T==null?void 0:T.clientHeight)===(T==null?void 0:T.scrollHeight);case"left":return(T==null?void 0:T.scrollLeft)+(T==null?void 0:T.clientWidth)===(T==null?void 0:T.scrollWidth);case"down":return(T==null?void 0:T.scrollTop)===0;case"right":return(T==null?void 0:T.scrollLeft)===0;default:return!1}})();return T===l.value?U:U&&P(T==null?void 0:T.parentElement)}return{vfmContentEl:n,swipeBannerEl:o,bindSwipe:k,onTouchStartSwipeBanner:E}}const tl=Symbol("vfm");let It;const ff=e=>It=e,pf={install:Gn,modals:[],openedModals:[],openedModalOverlays:[],dynamicModals:[],modalsContainers:G([]),get:()=>{},toggle:()=>{},open:()=>{},close:()=>{},closeAll:()=>Promise.allSettled([])},hf=()=>jr()&&Se(tl,pf)||It;function mf(){const e=Tn([]),t=Tn([]),n=Tn([]),r=Tn([]),s=G([]),i=Tt({install(o){o.provide(tl,i),o.config.globalProperties.$vfm=i},modals:e,openedModals:t,openedModalOverlays:n,dynamicModals:r,modalsContainers:s,get(o){return e.find(l=>{var a,u;return((u=(a=Mn(l))==null?void 0:a.value.modalId)==null?void 0:u.value)===o})},toggle(o,l){var a;const u=i.get(o);return(a=Mn(u))==null?void 0:a.value.toggle(l)},open(o){return i.toggle(o,!0)},close(o){return i.toggle(o,!1)},closeAll(){return Promise.allSettled(t.reduce((o,l)=>{const a=Mn(l),u=a==null?void 0:a.value.toggle(!1);return u&&o.push(u),o},[]))}});return ff(i),i}function Mn(e){var t;return(t=e==null?void 0:e.exposed)==null?void 0:t.modalExposed}const vf=ie({inheritAttrs:!1}),nl=ie({...vf,__name:"VueFinalModal",props:Vd,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(e,{expose:t,emit:n}){const r=e,s=n,i=Yu(),o=jr(),{modals:l,openedModals:a,openedModalOverlays:u}=Fn(),d=G(),f=G(),{focus:p,blur:h}=Qd(r,{focusEl:d}),{zIndex:$,refreshZIndex:v,resetZIndex:_}=lf(r),{modelValueLocal:S}=Wd(r,s,{open:N,close:Z}),{enableBodyScroll:k,disableBodyScroll:E}=af(r,{lockScrollEl:d,modelValueLocal:S});let P=Gn;const{visible:T,contentVisible:x,contentListeners:U,contentTransition:z,overlayVisible:D,overlayListeners:K,overlayTransition:Q,enterTransition:V,leaveTransition:A}=Gd(r,{modelValueLocal:S,onEntering(){qe(()=>{E(),p()})},onEnter(){s("opened"),P("opened")},onLeave(){On(a,o),_(),k(),s("closed"),P("closed")}}),{onEsc:j,onMouseupRoot:L,onMousedown:w}=Kd(r,s,{vfmRootEl:d,vfmContentEl:f,visible:T,modelValueLocal:S}),{swipeBannerEl:b,bindSwipe:R,onTouchStartSwipeBanner:O}=df(r,{vfmContentEl:f,modelValueLocal:S}),F=W(()=>o?a.indexOf(o):-1);we([()=>r.zIndexFn,F],()=>{T.value&&v(F.value)}),Oe(()=>{ro(l,o)}),r.modelValue&&(S.value=!0);function N(){let H=!1;return s("beforeOpen",{stop:()=>H=!0}),H?!1:(ro(a,o),ro(u,o),se(),V(),!0)}function Z(){let H=!1;return s("beforeClose",{stop:()=>H=!0}),H?!1:(On(u,o),se(),h(),A(),!0)}function ae(){S.value=!1}Ot(()=>{k(),On(l,o),On(a,o),h(),se()});async function se(){await qe();const H=u.filter(Y=>{var le;const pe=Mn(Y);return(pe==null?void 0:pe.value.overlayBehavior.value)==="auto"&&!((le=pe==null?void 0:pe.value.hideOverlay)!=null&&le.value)});H.forEach((Y,le)=>{const pe=Mn(Y);pe!=null&&pe.value&&(pe.value.overlayVisible.value=le===H.length-1)})}const be=In(()=>r.modalId),ve=In(()=>r.hideOverlay),I=In(()=>r.overlayBehavior),X=W(()=>({modalId:be,hideOverlay:ve,overlayBehavior:I,overlayVisible:D,toggle(H){return new Promise(Y=>{P=qd(pe=>Y(pe));const le=typeof H=="boolean"?H:!S.value;S.value=le})}}));return t({modalExposed:X}),(H,Y)=>(y(),te(Xu,{to:H.teleportTo?H.teleportTo:void 0,disabled:!H.teleportTo},[H.displayDirective!=="if"||m(T)?J((y(),C("div",at({key:0},m(i),{ref_key:"vfmRootEl",ref:d,class:["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":H.background==="interactive"}],style:{zIndex:m($)},role:"dialog","aria-modal":"true",onKeydown:Y[7]||(Y[7]=Ne(()=>m(j)(),["esc"])),onMouseup:Y[8]||(Y[8]=Ge(()=>m(L)(),["self"])),onMousedown:Y[9]||(Y[9]=Ge(le=>m(w)(le),["self"]))}),[ve.value?B("",!0):(y(),te(ks,at({key:0},m(Q),_o(m(K))),{default:Ce(()=>[H.displayDirective!=="if"||m(D)?J((y(),C("div",{key:0,class:Pe(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",H.overlayClass]),style:Ve(H.overlayStyle),"aria-hidden":"true"},null,6)),[[Bt,H.displayDirective!=="show"||m(D)],[m(oo),H.displayDirective!=="visible"||m(D)]]):B("",!0)]),_:1},16)),ne(ks,at(m(z),_o(m(U))),{default:Ce(()=>[H.displayDirective!=="if"||m(x)?J((y(),C("div",at({key:0,ref_key:"vfmContentEl",ref:f,class:["vfm__content vfm--outline-none",[H.contentClass,{"vfm--prevent-auto":H.background==="interactive"}]],style:H.contentStyle,tabindex:"0"},m(R),{onMousedown:Y[6]||(Y[6]=()=>m(w)())}),[an(H.$slots,"default",Ta(Zu({close:ae}))),H.showSwipeBanner?(y(),C("div",{key:0,ref_key:"swipeBannerEl",ref:b,class:"vfm-swipe-banner-container",onTouchstart:Y[2]||(Y[2]=le=>m(O)(le))},[an(H.$slots,"swipe-banner",{},()=>[c("div",{class:"vfm-swipe-banner-back",onTouchstart:Y[0]||(Y[0]=le=>H.swipeToClose==="left"&&le.preventDefault())},null,32),c("div",{class:"vfm-swipe-banner-forward",onTouchstart:Y[1]||(Y[1]=le=>H.swipeToClose==="right"&&le.preventDefault())},null,32)])],544)):!H.showSwipeBanner&&H.preventNavigationGestures?(y(),C("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:Y[5]||(Y[5]=le=>m(O)(le))},[c("div",{class:"vfm-swipe-banner-back",onTouchstart:Y[3]||(Y[3]=le=>H.swipeToClose==="left"&&le.preventDefault())},null,32),c("div",{class:"vfm-swipe-banner-forward",onTouchstart:Y[4]||(Y[4]=le=>H.swipeToClose==="right"&&le.preventDefault())},null,32)],32)):B("",!0)],16)),[[Bt,H.displayDirective!=="show"||m(x)],[m(oo),H.displayDirective!=="visible"||m(x)]]):B("",!0)]),_:3},16)],16)),[[Bt,H.displayDirective!=="show"||m(T)],[m(oo),H.displayDirective!=="visible"||m(T)]]):B("",!0)],8,["to","disabled"]))}});function Fn(){const e=hf();if(!e)throw new Error("[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?\n	const vfm = createVfm()\n	app.use(vfm)\nThis will fail in production.");return e}function Vs(e,t=nl){const{component:n,slots:r,...s}=e,i=typeof r>"u"?{}:Object.fromEntries(Xa(r).map(([o,l])=>Zo(l)?[o,l]:xr(l)?[o,{...l,component:Tt(l.component)}]:[o,Tt(l)]));return{...s,component:Tt(n||t),slots:i}}function gf(e){const t=ct({id:Symbol("useModal"),modelValue:!!(e!=null&&e.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...Vs(e)});sd(()=>{t!=null&&t.keepAlive||l()}),t.modelValue===!0&&(It?It==null||It.dynamicModals.push(t):qe(()=>{const a=Fn();a==null||a.dynamicModals.push(t)}));async function n(){let a;return It?a=It:(await qe(),a=Fn()),t.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(l(),t.modelValue=!0,a.dynamicModals.push(t),new Promise(u=>{t.resolveOpened=()=>u("opened")}))}function r(){return t.modelValue?(t.modelValue=!1,new Promise(a=>{t.resolveClosed=()=>a("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function s(a){const{slots:u,...d}=Vs(a,t.component);a.defaultModelValue!==void 0&&(t.defaultModelValue=a.defaultModelValue),(a==null?void 0:a.keepAlive)!==void 0&&(t.keepAlive=a==null?void 0:a.keepAlive),i(t,d),u&&Xa(u).forEach(([f,p])=>{const h=t.slots[f];Zo(h)?t.slots[f]=p:xr(h)&&xr(p)?i(h,p):t.slots[f]=p})}function i(a,u){u.component&&(a.component=u.component),u.attrs&&o(a.attrs,u.attrs)}function o(a,u){return Object.entries(u).forEach(([d,f])=>{a[d]=f}),a}function l(){const a=Fn(),u=a.dynamicModals.indexOf(t);u!==-1&&a.dynamicModals.splice(u,1)}return{options:t,open:n,close:r,patchOptions:s,destroy:l}}function xr(e){return typeof e=="object"&&e!==null?"component"in e:!1}const bf=["innerHTML"],yf=ie({__name:"ModalsContainer",setup(e){const{modalsContainers:t,dynamicModals:n}=Fn(),r=Symbol("ModalsContainer"),s=W(()=>{var l;return r===((l=t.value)==null?void 0:l[0])});t.value.push(r),Ot(()=>{t.value=t.value.filter(l=>l!==r)});function i(l){var a,u,d;(u=(a=n[l])==null?void 0:a.resolveClosed)==null||u.call(a),(d=n[l])!=null&&d.keepAlive||n.splice(l,1)}function o(l){var a,u;(u=(a=n[l])==null?void 0:a.resolveOpened)==null||u.call(a)}return(l,a)=>s.value?(y(!0),C(fe,{key:0},Ue(m(n),(u,d)=>(y(),te(gt(u.component),at({key:u.id},{displayDirective:u!=null&&u.keepAlive?"show":void 0,...typeof u.attrs=="object"?u.attrs:{}},{modelValue:u.modelValue,"onUpdate:modelValue":f=>u.modelValue=f,onClosed:()=>i(d),onOpened:()=>o(d)}),Ju({_:2},[Ue(u.slots,(f,p)=>({name:p,fn:Ce(()=>[m(Zo)(f)?(y(),C("div",{key:0,innerHTML:f},null,8,bf)):m(xr)(f)?(y(),te(gt(f.component),Ta(at({key:1},f.attrs)),null,16)):(y(),te(gt(f),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):B("",!0)}});var wf=Object.defineProperty,Gs=Object.getOwnPropertySymbols,_f=Object.prototype.hasOwnProperty,$f=Object.prototype.propertyIsEnumerable,Ks=(e,t,n)=>t in e?wf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rl=(e,t)=>{for(var n in t||(t={}))_f.call(t,n)&&Ks(e,n,t[n]);if(Gs)for(var n of Gs(t))$f.call(t,n)&&Ks(e,n,t[n]);return e},Hr=e=>typeof e=="function",qr=e=>typeof e=="string",ol=e=>qr(e)&&e.trim().length>0,Sf=e=>typeof e=="number",xt=e=>typeof e>"u",Kn=e=>typeof e=="object"&&e!==null,Ef=e=>ut(e,"tag")&&ol(e.tag),sl=e=>window.TouchEvent&&e instanceof TouchEvent,il=e=>ut(e,"component")&&al(e.component),kf=e=>Hr(e)||Kn(e),al=e=>!xt(e)&&(qr(e)||kf(e)||il(e)),Ws=e=>Kn(e)&&["height","width","right","left","top","bottom"].every(t=>Sf(e[t])),ut=(e,t)=>(Kn(e)||Hr(e))&&t in e,Cf=(e=>()=>e++)(0);function so(e){return sl(e)?e.targetTouches[0].clientX:e.clientX}function Qs(e){return sl(e)?e.targetTouches[0].clientY:e.clientY}var Tf=e=>{xt(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},ur=e=>il(e)?ur(e.component):Ef(e)?ie({render(){return e}}):typeof e=="string"?e:Wo(m(e)),Pf=e=>{if(typeof e=="string")return e;const t=ut(e,"props")&&Kn(e.props)?e.props:{},n=ut(e,"listeners")&&Kn(e.listeners)?e.listeners:{};return{component:ur(e),props:t,listeners:n}},Af=()=>typeof window<"u",ns=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(r=>r(t))}},Rf=e=>["on","off","emit"].every(t=>ut(e,t)&&Hr(e[t])),Qe;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(Qe||(Qe={}));var Wn;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(Wn||(Wn={}));var Ye;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(Ye||(Ye={}));var tt="Vue-Toastification",et={type:{type:String,default:Qe.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},ll={type:et.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Sr={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:et.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},To={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},ul={transition:{type:[Object,String],default:"".concat(tt,"__bounce")}},Of={position:{type:String,default:Wn.TOP_RIGHT},draggable:et.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:et.trueBoolean,pauseOnHover:et.trueBoolean,closeOnClick:et.trueBoolean,timeout:To.timeout,hideProgressBar:To.hideProgressBar,toastClassName:et.classNames,bodyClassName:et.classNames,icon:ll.customIcon,closeButton:Sr.component,closeButtonClassName:Sr.classNames,showCloseButtonOnHover:Sr.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new ns}},Df={id:{type:[String,Number],required:!0,default:0},type:et.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Uf={container:{type:[Object,Function],default:()=>document.body},newestOnTop:et.trueBoolean,maxToasts:{type:Number,default:20},transition:ul.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:et.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},bt={CORE_TOAST:Of,TOAST:Df,CONTAINER:Uf,PROGRESS_BAR:To,ICON:ll,TRANSITION:ul,CLOSE_BUTTON:Sr},cl=ie({name:"VtProgressBar",props:bt.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:"".concat(this.timeout,"ms"),animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?"".concat(tt,"__progress-bar"):""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Lf(e,t){return y(),C("div",{style:Ve(e.style),class:Pe(e.cpClass)},null,6)}cl.render=Lf;var If=cl,dl=ie({name:"VtCloseButton",props:bt.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?ur(this.component):"button"},classes(){const e=["".concat(tt,"__close-button")];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),xf=re(" × ");function Bf(e,t){return y(),te(gt(e.buttonComponent),at({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:Ce(()=>[xf]),_:1},16,["aria-label","class"])}dl.render=Bf;var Nf=dl,fl={},Mf={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ff=c("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),jf=[Ff];function zf(e,t){return y(),C("svg",Mf,jf)}fl.render=zf;var Hf=fl,pl={},qf={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Vf=c("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Gf=[Vf];function Kf(e,t){return y(),C("svg",qf,Gf)}pl.render=Kf;var Ys=pl,hl={},Wf={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Qf=c("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Yf=[Qf];function Xf(e,t){return y(),C("svg",Wf,Yf)}hl.render=Xf;var Jf=hl,ml={},Zf={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},ep=c("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),tp=[ep];function np(e,t){return y(),C("svg",Zf,tp)}ml.render=np;var rp=ml,vl=ie({name:"VtIcon",props:bt.ICON,computed:{customIconChildren(){return ut(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return qr(this.customIcon)?this.trimValue(this.customIcon):ut(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return ut(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:al(this.customIcon)?ur(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[Qe.DEFAULT]:Ys,[Qe.INFO]:Ys,[Qe.SUCCESS]:Hf,[Qe.ERROR]:rp,[Qe.WARNING]:Jf}[this.type]},iconClasses(){const e=["".concat(tt,"__icon")];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return ol(e)?e.trim():t}}});function op(e,t){return y(),te(gt(e.component),{class:Pe(e.iconClasses)},{default:Ce(()=>[re(g(e.customIconChildren),1)]),_:1},8,["class"])}vl.render=op;var sp=vl,gl=ie({name:"VtToast",components:{ProgressBar:If,CloseButton:Nf,Icon:sp},inheritAttrs:!1,props:Object.assign({},bt.CORE_TOAST,bt.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=["".concat(tt,"__toast"),"".concat(tt,"__toast--").concat(this.type),"".concat(this.position)].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push("".concat(tt,"__toast--rtl")),e},bodyClasses(){return["".concat(tt,"__toast-").concat(qr(this.content)?"body":"component-body")].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:"translateX(".concat(this.dragDelta,"px)"),opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Ws(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:ut,getVueComponentFromObj:ur,closeToast(){this.eventBus.emit(Ye.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:so(e),y:Qs(e)},this.dragStart=so(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:so(e),y:Qs(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Ws(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),ip=["role"];function ap(e,t){const n=xe("Icon"),r=xe("CloseButton"),s=xe("ProgressBar");return y(),C("div",{class:Pe(e.classes),style:Ve(e.draggableStyle),onClick:t[0]||(t[0]=(...i)=>e.clickHandler&&e.clickHandler(...i)),onMouseenter:t[1]||(t[1]=(...i)=>e.hoverPause&&e.hoverPause(...i)),onMouseleave:t[2]||(t[2]=(...i)=>e.hoverPlay&&e.hoverPlay(...i))},[e.icon?(y(),te(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):B("v-if",!0),c("div",{role:e.accessibility.toastRole||"alert",class:Pe(e.bodyClasses)},[typeof e.content=="string"?(y(),C(fe,{key:0},[re(g(e.content),1)],2112)):(y(),te(gt(e.getVueComponentFromObj(e.content)),at({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},_o(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,ip),e.closeButton?(y(),te(r,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:Ge(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):B("v-if",!0),e.timeout?(y(),te(s,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):B("v-if",!0)],38)}gl.render=ap;var lp=gl,bl=ie({name:"VtTransition",props:bt.TRANSITION,emits:["leave"],methods:{hasProp:ut,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function up(e,t){return y(),te(ec,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:"".concat(e.transition,"-enter-active"),"move-class":e.transition.move?e.transition.move:"".concat(e.transition,"-move"),"leave-active-class":e.transition.leave?e.transition.leave:"".concat(e.transition,"-leave-active"),onLeave:e.leave},{default:Ce(()=>[an(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}bl.render=up;var cp=bl,yl=ie({name:"VueToastification",devtools:{hide:!0},components:{Toast:lp,VtTransition:cp},props:Object.assign({},bt.CORE_TOAST,bt.CONTAINER,bt.TRANSITION),data(){return{count:0,positions:Object.values(Wn),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(Ye.ADD,this.addToast),e.on(Ye.CLEAR,this.clearToasts),e.on(Ye.DISMISS,this.dismissToast),e.on(Ye.UPDATE,this.updateToast),e.on(Ye.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Hr(e)&&(e=await e()),Tf(this.$el),e.appendChild(this.$el)},setToast(e){xt(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=Pf(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];!xt(t)&&!xt(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(n=>n.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){xt(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return["".concat(tt,"__container"),e].concat(this.defaults.containerClassName)}}});function dp(e,t){const n=xe("Toast"),r=xe("VtTransition");return y(),C("div",null,[(y(!0),C(fe,null,Ue(e.positions,s=>(y(),C("div",{key:s},[ne(r,{transition:e.defaults.transition,class:Pe(e.getClasses(s))},{default:Ce(()=>[(y(!0),C(fe,null,Ue(e.getPositionToasts(s),i=>(y(),te(n,at({key:i.id},i),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}yl.render=dp;var fp=yl,Xs=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new ns;t&&qe(()=>{const i=Pa(fp,rl({},e)),o=i.mount(document.createElement("div")),l=e.onMounted;if(xt(l)||l(o,i),e.shareAppContext){const a=e.shareAppContext;a===!0?console.warn("[".concat(tt,"] App to share context with was not provided.")):(i._context.components=a._context.components,i._context.directives=a._context.directives,i._context.mixins=a._context.mixins,i._context.provides=a._context.provides,i.config.globalProperties=a.config.globalProperties)}});const r=(i,o)=>{const l=Object.assign({},{id:Cf(),type:Qe.DEFAULT},o,{content:i});return n.emit(Ye.ADD,l),l.id};r.clear=()=>n.emit(Ye.CLEAR,void 0),r.updateDefaults=i=>{n.emit(Ye.UPDATE_DEFAULTS,i)},r.dismiss=i=>{n.emit(Ye.DISMISS,i)};function s(i,{content:o,options:l},a=!1){const u=Object.assign({},l,{content:o});n.emit(Ye.UPDATE,{id:i,options:u,create:a})}return r.update=s,r.success=(i,o)=>r(i,Object.assign({},o,{type:Qe.SUCCESS})),r.info=(i,o)=>r(i,Object.assign({},o,{type:Qe.INFO})),r.error=(i,o)=>r(i,Object.assign({},o,{type:Qe.ERROR})),r.warning=(i,o)=>r(i,Object.assign({},o,{type:Qe.WARNING})),r},pp=()=>{const e=()=>console.warn("[".concat(tt,"] This plugin does not support SSR!"));return new Proxy(e,{get(){return e}})};function wl(e){return Af()?Rf(e)?Xs({eventBus:e},!1):Xs(e,!0):pp()}var _l=Symbol("VueToastification"),$l=new ns,hp=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const n=wl(rl({eventBus:$l},t));e.provide(_l,n)},Sl=e=>{const t=jr()?Se(_l,void 0):void 0;return t||wl($l)},mp=hp;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let El;const Vr=e=>El=e,kl=Symbol();function Po(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var jn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(jn||(jn={}));function vp(){const e=Aa(!0),t=e.run(()=>G({}));let n=[],r=[];const s=Tt({install(i){Vr(s),s._a=i,i.provide(kl,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Cl=()=>{};function Js(e,t,n,r=Cl){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&ka()&&Ca(s),s}function Zt(e,...t){e.slice().forEach(n=>{n(...t)})}const gp=e=>e(),Zs=Symbol(),io=Symbol();function Ao(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];Po(s)&&Po(r)&&e.hasOwnProperty(n)&&!Vn(r)&&!Qo(r)?e[n]=Ao(s,r):e[n]=r}return e}const bp=Symbol();function yp(e){return!Po(e)||!e.hasOwnProperty(bp)}const{assign:St}=Object;function wp(e){return!!(Vn(e)&&e.effect)}function _p(e,t,n,r){const{state:s,actions:i,getters:o}=t,l=n.state.value[e];let a;function u(){l||(n.state.value[e]=s?s():{});const d=nc(n.state.value[e]);return St(d,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=Tt(W(()=>{Vr(n);const h=n._s.get(e);return o[p].call(h,h)})),f),{}))}return a=Tl(e,u,t,n,r,!0),a}function Tl(e,t,n={},r,s,i){let o;const l=St({actions:{}},n),a={deep:!0};let u,d,f=[],p=[],h;const $=r.state.value[e];!i&&!$&&(r.state.value[e]={}),G({});let v;function _(z){let D;u=d=!1,typeof z=="function"?(z(r.state.value[e]),D={type:jn.patchFunction,storeId:e,events:h}):(Ao(r.state.value[e],z),D={type:jn.patchObject,payload:z,storeId:e,events:h});const K=v=Symbol();qe().then(()=>{v===K&&(u=!0)}),d=!0,Zt(f,D,r.state.value[e])}const S=i?function(){const{state:D}=n,K=D?D():{};this.$patch(Q=>{St(Q,K)})}:Cl;function k(){o.stop(),f=[],p=[],r._s.delete(e)}const E=(z,D="")=>{if(Zs in z)return z[io]=D,z;const K=function(){Vr(r);const Q=Array.from(arguments),V=[],A=[];function j(b){V.push(b)}function L(b){A.push(b)}Zt(p,{args:Q,name:K[io],store:T,after:j,onError:L});let w;try{w=z.apply(this&&this.$id===e?this:T,Q)}catch(b){throw Zt(A,b),b}return w instanceof Promise?w.then(b=>(Zt(V,b),b)).catch(b=>(Zt(A,b),Promise.reject(b))):(Zt(V,w),w)};return K[Zs]=!0,K[io]=D,K},P={_p:r,$id:e,$onAction:Js.bind(null,p),$patch:_,$reset:S,$subscribe(z,D={}){const K=Js(f,z,D.detached,()=>Q()),Q=o.run(()=>we(()=>r.state.value[e],V=>{(D.flush==="sync"?d:u)&&z({storeId:e,type:jn.direct,events:h},V)},St({},a,D)));return K},$dispose:k},T=ct(P);r._s.set(e,T);const U=(r._a&&r._a.runWithContext||gp)(()=>r._e.run(()=>(o=Aa()).run(()=>t({action:E}))));for(const z in U){const D=U[z];if(Vn(D)&&!wp(D)||Qo(D))i||($&&yp(D)&&(Vn(D)?D.value=$[z]:Ao(D,$[z])),r.state.value[e][z]=D);else if(typeof D=="function"){const K=E(D,z);U[z]=K,l.actions[z]=D}}return St(T,U),St(Wo(T),U),Object.defineProperty(T,"$state",{get:()=>r.state.value[e],set:z=>{_(D=>{St(D,z)})}}),r._p.forEach(z=>{St(T,o.run(()=>z({store:T,app:r._a,pinia:r,options:l})))}),$&&i&&n.hydrate&&n.hydrate(T.$state,$),u=!0,d=!0,T}/*! #__NO_SIDE_EFFECTS__ */function Vt(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function o(l,a){const u=tc();return l=l||(u?Se(kl,null):null),l&&Vr(l),l=El,l._s.has(r)||(i?Tl(r,t,s,l):_p(r,s,l)),l._s.get(r)}return o.$id=r,o}function Fe(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const s=e(this.$pinia),i=t[r];return typeof i=="function"?i.call(this,s):s[i]},n),{})}function He(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...s){return e(this.$pinia)[r](...s)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...s){return e(this.$pinia)[t[r]](...s)},n),{})}function Gr(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(s){return e(this.$pinia)[r]=s}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(s){return e(this.$pinia)[t[r]]=s}},n),{})}function un(e){{const t=Wo(e),n={};for(const r in t){const s=t[r];s.effect?n[r]=W({get:()=>e[r],set(i){e[r]=i}}):(Vn(s)||Qo(s))&&(n[r]=In(e,r))}return n}}function $p(e){const t=vp();return t.use(({store:n})=>{n.router=Tt(e)}),t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const tn=typeof document<"u";function Pl(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Sp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Pl(e.default)}const _e=Object.assign;function ao(e,t){const n={};for(const r in t){const s=t[r];n[r]=nt(s)?s.map(e):e(s)}return n}const zn=()=>{},nt=Array.isArray,Al=/#/g,Ep=/&/g,kp=/\//g,Cp=/=/g,Tp=/\?/g,Rl=/\+/g,Pp=/%5B/g,Ap=/%5D/g,Ol=/%5E/g,Rp=/%60/g,Dl=/%7B/g,Op=/%7C/g,Ul=/%7D/g,Dp=/%20/g;function rs(e){return encodeURI(""+e).replace(Op,"|").replace(Pp,"[").replace(Ap,"]")}function Up(e){return rs(e).replace(Dl,"{").replace(Ul,"}").replace(Ol,"^")}function Ro(e){return rs(e).replace(Rl,"%2B").replace(Dp,"+").replace(Al,"%23").replace(Ep,"%26").replace(Rp,"`").replace(Dl,"{").replace(Ul,"}").replace(Ol,"^")}function Lp(e){return Ro(e).replace(Cp,"%3D")}function Ip(e){return rs(e).replace(Al,"%23").replace(Tp,"%3F")}function xp(e){return e==null?"":Ip(e).replace(kp,"%2F")}function Qn(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const Bp=/\/$/,Np=e=>e.replace(Bp,"");function lo(e,t,n="/"){let r,s={},i="",o="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(r=t.slice(0,a),i=t.slice(a+1,l>-1?l:t.length),s=e(i)),l>-1&&(r=r||t.slice(0,l),o=t.slice(l,t.length)),r=zp(r!=null?r:t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Qn(o)}}function Mp(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ei(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Fp(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&cn(t.matched[r],n.matched[s])&&Ll(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function cn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ll(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!jp(e[n],t[n]))return!1;return!0}function jp(e,t){return nt(e)?ti(e,t):nt(t)?ti(t,e):e===t}function ti(e,t){return nt(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function zp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const $t={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Yn;(function(e){e.pop="pop",e.push="push"})(Yn||(Yn={}));var Hn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Hn||(Hn={}));function Hp(e){if(!e)if(tn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Np(e)}const qp=/^[^#]+#/;function Vp(e,t){return e.replace(qp,"#")+t}function Gp(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Kr=()=>({left:window.scrollX,top:window.scrollY});function Kp(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Gp(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ni(e,t){return(history.state?history.state.position-t:-1)+e}const Oo=new Map;function Wp(e,t){Oo.set(e,t)}function Qp(e){const t=Oo.get(e);return Oo.delete(e),t}let Yp=()=>location.protocol+"//"+location.host;function Il(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let l=s.includes(e.slice(i))?e.slice(i).length:1,a=s.slice(l);return a[0]!=="/"&&(a="/"+a),ei(a,"")}return ei(n,e)+r+s}function Xp(e,t,n,r){let s=[],i=[],o=null;const l=({state:p})=>{const h=Il(e,location),$=n.value,v=t.value;let _=0;if(p){if(n.value=h,t.value=p,o&&o===$){o=null;return}_=v?p.position-v.position:0}else r(h);s.forEach(S=>{S(n.value,$,{delta:_,type:Yn.pop,direction:_?_>0?Hn.forward:Hn.back:Hn.unknown})})};function a(){o=n.value}function u(p){s.push(p);const h=()=>{const $=s.indexOf(p);$>-1&&s.splice($,1)};return i.push(h),h}function d(){const{history:p}=window;p.state&&p.replaceState(_e({},p.state,{scroll:Kr()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:a,listen:u,destroy:f}}function ri(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Kr():null}}function Jp(e){const{history:t,location:n}=window,r={value:Il(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(a,u,d){const f=e.indexOf("#"),p=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+a:Yp()+e+a;try{t[d?"replaceState":"pushState"](u,"",p),s.value=u}catch(h){console.error(h),n[d?"replace":"assign"](p)}}function o(a,u){const d=_e({},t.state,ri(s.value.back,a,s.value.forward,!0),u,{position:s.value.position});i(a,d,!0),r.value=a}function l(a,u){const d=_e({},s.value,t.state,{forward:a,scroll:Kr()});i(d.current,d,!0);const f=_e({},ri(r.value,a,null),{position:d.position+1},u);i(a,f,!1),r.value=a}return{location:r,state:s,push:l,replace:o}}function Zp(e){e=Hp(e);const t=Jp(e),n=Xp(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=_e({location:"",base:e,go:r,createHref:Vp.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function eh(e){return typeof e=="string"||e&&typeof e=="object"}function xl(e){return typeof e=="string"||typeof e=="symbol"}const Bl=Symbol("");var oi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(oi||(oi={}));function dn(e,t){return _e(new Error,{type:e,[Bl]:!0},t)}function pt(e,t){return e instanceof Error&&Bl in e&&(t==null||!!(e.type&t))}const si="[^/]+?",th={sensitive:!1,strict:!1,start:!0,end:!0},nh=/[.+*?^${}()[\]/\\]/g;function rh(e,t){const n=_e({},th,t),r=[];let s=n.start?"^":"";const i=[];for(const u of e){const d=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const p=u[f];let h=40+(n.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(nh,"\\$&"),h+=40;else if(p.type===1){const{value:$,repeatable:v,optional:_,regexp:S}=p;i.push({name:$,repeatable:v,optional:_});const k=S||si;if(k!==si){h+=10;try{new RegExp("(".concat(k,")"))}catch(P){throw new Error('Invalid custom RegExp for param "'.concat($,'" (').concat(k,"): ")+P.message)}}let E=v?"((?:".concat(k,")(?:/(?:").concat(k,"))*)"):"(".concat(k,")");f||(E=_&&u.length<2?"(?:/".concat(E,")"):"/"+E),_&&(E+="?"),s+=E,h+=20,_&&(h+=-8),v&&(h+=-20),k===".*"&&(h+=-50)}d.push(h)}r.push(d)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function l(u){const d=u.match(o),f={};if(!d)return null;for(let p=1;p<d.length;p++){const h=d[p]||"",$=i[p-1];f[$.name]=h&&$.repeatable?h.split("/"):h}return f}function a(u){let d="",f=!1;for(const p of e){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const h of p)if(h.type===0)d+=h.value;else if(h.type===1){const{value:$,repeatable:v,optional:_}=h,S=$ in u?u[$]:"";if(nt(S)&&!v)throw new Error('Provided param "'.concat($,'" is an array but it is not repeatable (* or + modifiers)'));const k=nt(S)?S.join("/"):S;if(!k)if(_)p.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error('Missing required param "'.concat($,'"'));d+=k}}return d||"/"}return{re:o,score:r,keys:i,parse:l,stringify:a}}function oh(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Nl(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=oh(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(ii(r))return 1;if(ii(s))return-1}return s.length-r.length}function ii(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const sh={type:0,value:""},ih=/[a-zA-Z0-9_]/;function ah(e){if(!e)return[[]];if(e==="/")return[[sh]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(h){throw new Error("ERR (".concat(n,')/"').concat(u,'": ').concat(h))}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let l=0,a,u="",d="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(a==="*"||a==="+")&&t("A repeatable param (".concat(u,") must be alone in its segment. eg: '/:ids+.")),i.push({type:1,value:u,regexp:d,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),u="")}function p(){u+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(u&&f(),o()):a===":"?(f(),n=1):p();break;case 4:p(),n=r;break;case 1:a==="("?n=2:ih.test(a)?p():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+a:n=3:d+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,d="";break;default:t("Unknown state");break}}return n===2&&t('Unfinished custom RegExp for param "'.concat(u,'"')),f(),o(),s}function lh(e,t,n){const r=rh(ah(e.path),n),s=_e(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function uh(e,t){const n=[],r=new Map;t=ci({strict:!1,end:!0,sensitive:!1},t);function s(f){return r.get(f)}function i(f,p,h){const $=!h,v=li(f);v.aliasOf=h&&h.record;const _=ci(t,f),S=[v];if("alias"in f){const P=typeof f.alias=="string"?[f.alias]:f.alias;for(const T of P)S.push(li(_e({},v,{components:h?h.record.components:v.components,path:T,aliasOf:h?h.record:v})))}let k,E;for(const P of S){const{path:T}=P;if(p&&T[0]!=="/"){const x=p.record.path,U=x[x.length-1]==="/"?"":"/";P.path=p.record.path+(T&&U+T)}if(k=lh(P,p,_),h?h.alias.push(k):(E=E||k,E!==k&&E.alias.push(k),$&&f.name&&!ui(k)&&o(f.name)),Ml(k)&&a(k),v.children){const x=v.children;for(let U=0;U<x.length;U++)i(x[U],k,h&&h.children[U])}h=h||k}return E?()=>{o(E)}:zn}function o(f){if(xl(f)){const p=r.get(f);p&&(r.delete(f),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(f);p>-1&&(n.splice(p,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function l(){return n}function a(f){const p=fh(f,n);n.splice(p,0,f),f.record.name&&!ui(f)&&r.set(f.record.name,f)}function u(f,p){let h,$={},v,_;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw dn(1,{location:f});_=h.record.name,$=_e(ai(p.params,h.keys.filter(E=>!E.optional).concat(h.parent?h.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),f.params&&ai(f.params,h.keys.map(E=>E.name))),v=h.stringify($)}else if(f.path!=null)v=f.path,h=n.find(E=>E.re.test(v)),h&&($=h.parse(v),_=h.record.name);else{if(h=p.name?r.get(p.name):n.find(E=>E.re.test(p.path)),!h)throw dn(1,{location:f,currentLocation:p});_=h.record.name,$=_e({},p.params,f.params),v=h.stringify($)}const S=[];let k=h;for(;k;)S.unshift(k.record),k=k.parent;return{name:_,path:v,params:$,matched:S,meta:dh(S)}}e.forEach(f=>i(f));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:l,getRecordMatcher:s}}function ai(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function li(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:ch(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function ch(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function ui(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function dh(e){return e.reduce((t,n)=>_e(t,n.meta),{})}function ci(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function fh(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Nl(e,t[i])<0?r=i:n=i+1}const s=ph(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function ph(e){let t=e;for(;t=t.parent;)if(Ml(t)&&Nl(e,t)===0)return t}function Ml({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function hh(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Rl," "),o=i.indexOf("="),l=Qn(o<0?i:i.slice(0,o)),a=o<0?null:Qn(i.slice(o+1));if(l in t){let u=t[l];nt(u)||(u=t[l]=[u]),u.push(a)}else t[l]=a}return t}function di(e){let t="";for(let n in e){const r=e[n];if(n=Lp(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(nt(r)?r.map(i=>i&&Ro(i)):[r&&Ro(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function mh(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=nt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const vh=Symbol(""),fi=Symbol(""),Wr=Symbol(""),os=Symbol(""),Do=Symbol("");function kn(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Et(e,t,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,a)=>{const u=p=>{p===!1?a(dn(4,{from:n,to:t})):p instanceof Error?a(p):eh(p)?a(dn(2,{from:t,to:p})):(o&&r.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),l())},d=i(()=>e.call(r&&r.instances[s],t,n,u));let f=Promise.resolve(d);e.length<3&&(f=f.then(u)),f.catch(p=>a(p))})}function uo(e,t,n,r,s=i=>i()){const i=[];for(const o of e)for(const l in o.components){let a=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(Pl(a)){const d=(a.__vccOpts||a)[t];d&&i.push(Et(d,n,r,o,l,s))}else{let u=a();i.push(()=>u.then(d=>{if(!d)throw new Error("Couldn't resolve component \"".concat(l,'" at "').concat(o.path,'"'));const f=Sp(d)?d.default:d;o.mods[l]=d,o.components[l]=f;const h=(f.__vccOpts||f)[t];return h&&Et(h,n,r,o,l,s)()}))}}return i}function pi(e){const t=Se(Wr),n=Se(os),r=W(()=>{const a=m(e.to);return t.resolve(a)}),s=W(()=>{const{matched:a}=r.value,{length:u}=a,d=a[u-1],f=n.matched;if(!d||!f.length)return-1;const p=f.findIndex(cn.bind(null,d));if(p>-1)return p;const h=hi(a[u-2]);return u>1&&hi(d)===h&&f[f.length-1].path!==h?f.findIndex(cn.bind(null,a[u-2])):p}),i=W(()=>s.value>-1&&_h(n.params,r.value.params)),o=W(()=>s.value>-1&&s.value===n.matched.length-1&&Ll(n.params,r.value.params));function l(a={}){if(wh(a)){const u=t[m(e.replace)?"replace":"push"](m(e.to)).catch(zn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:W(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}function gh(e){return e.length===1?e[0]:e}const bh=ie({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:pi,setup(e,{slots:t}){const n=ct(pi(e)),{options:r}=Se(Wr),s=W(()=>({[mi(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[mi(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&gh(t.default(n));return e.custom?i:Ke("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),yh=bh;function wh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function _h(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!nt(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function hi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const mi=(e,t,n)=>e!=null?e:t!=null?t:n,$h=ie({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Se(Do),s=W(()=>e.route||r.value),i=Se(fi,0),o=W(()=>{let u=m(i);const{matched:d}=s.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),l=W(()=>s.value.matched[o.value]);Jr(fi,W(()=>o.value+1)),Jr(vh,l),Jr(Do,s);const a=G();return we(()=>[a.value,l.value,e.name],([u,d,f],[p,h,$])=>{d&&(d.instances[f]=u,h&&h!==d&&u&&u===p&&(d.leaveGuards.size||(d.leaveGuards=h.leaveGuards),d.updateGuards.size||(d.updateGuards=h.updateGuards))),u&&d&&(!h||!cn(d,h)||!p)&&(d.enterCallbacks[f]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=s.value,d=e.name,f=l.value,p=f&&f.components[d];if(!p)return vi(n.default,{Component:p,route:u});const h=f.props[d],$=h?h===!0?u.params:typeof h=="function"?h(u):h:null,_=Ke(p,_e({},$,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(f.instances[d]=null)},ref:a}));return vi(n.default,{Component:_,route:u})||_}}});function vi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Sh=$h;function Eh(e){const t=uh(e.routes,e),n=e.parseQuery||hh,r=e.stringifyQuery||di,s=e.history,i=kn(),o=kn(),l=kn(),a=Ar($t);let u=$t;tn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=ao.bind(null,I=>""+I),f=ao.bind(null,xp),p=ao.bind(null,Qn);function h(I,X){let H,Y;return xl(I)?(H=t.getRecordMatcher(I),Y=X):Y=I,t.addRoute(Y,H)}function $(I){const X=t.getRecordMatcher(I);X&&t.removeRoute(X)}function v(){return t.getRoutes().map(I=>I.record)}function _(I){return!!t.getRecordMatcher(I)}function S(I,X){if(X=_e({},X||a.value),typeof I=="string"){const M=lo(n,I,X.path),q=t.resolve({path:M.path},X),oe=s.createHref(M.fullPath);return _e(M,q,{params:p(q.params),hash:Qn(M.hash),redirectedFrom:void 0,href:oe})}let H;if(I.path!=null)H=_e({},I,{path:lo(n,I.path,X.path).path});else{const M=_e({},I.params);for(const q in M)M[q]==null&&delete M[q];H=_e({},I,{params:f(M)}),X.params=f(X.params)}const Y=t.resolve(H,X),le=I.hash||"";Y.params=d(p(Y.params));const pe=Mp(r,_e({},I,{hash:Up(le),path:Y.path})),ce=s.createHref(pe);return _e({fullPath:pe,hash:le,query:r===di?mh(I.query):I.query||{}},Y,{redirectedFrom:void 0,href:ce})}function k(I){return typeof I=="string"?lo(n,I,a.value.path):_e({},I)}function E(I,X){if(u!==I)return dn(8,{from:X,to:I})}function P(I){return U(I)}function T(I){return P(_e(k(I),{replace:!0}))}function x(I){const X=I.matched[I.matched.length-1];if(X&&X.redirect){const{redirect:H}=X;let Y=typeof H=="function"?H(I):H;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=k(Y):{path:Y},Y.params={}),_e({query:I.query,hash:I.hash,params:Y.path!=null?{}:I.params},Y)}}function U(I,X){const H=u=S(I),Y=a.value,le=I.state,pe=I.force,ce=I.replace===!0,M=x(H);if(M)return U(_e(k(M),{state:typeof M=="object"?_e({},le,M.state):le,force:pe,replace:ce}),X||H);const q=H;q.redirectedFrom=X;let oe;return!pe&&Fp(r,Y,H)&&(oe=dn(16,{to:q,from:Y}),N(Y,Y,!0,!1)),(oe?Promise.resolve(oe):K(q,Y)).catch(ee=>pt(ee)?pt(ee,2)?ee:F(ee):R(ee,q,Y)).then(ee=>{if(ee){if(pt(ee,2))return U(_e({replace:ce},k(ee.to),{state:typeof ee.to=="object"?_e({},le,ee.to.state):le,force:pe}),X||q)}else ee=V(q,Y,!0,ce,le);return Q(q,Y,ee),ee})}function z(I,X){const H=E(I,X);return H?Promise.reject(H):Promise.resolve()}function D(I){const X=se.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(I):I()}function K(I,X){let H;const[Y,le,pe]=kh(I,X);H=uo(Y.reverse(),"beforeRouteLeave",I,X);for(const M of Y)M.leaveGuards.forEach(q=>{H.push(Et(q,I,X))});const ce=z.bind(null,I,X);return H.push(ce),ve(H).then(()=>{H=[];for(const M of i.list())H.push(Et(M,I,X));return H.push(ce),ve(H)}).then(()=>{H=uo(le,"beforeRouteUpdate",I,X);for(const M of le)M.updateGuards.forEach(q=>{H.push(Et(q,I,X))});return H.push(ce),ve(H)}).then(()=>{H=[];for(const M of pe)if(M.beforeEnter)if(nt(M.beforeEnter))for(const q of M.beforeEnter)H.push(Et(q,I,X));else H.push(Et(M.beforeEnter,I,X));return H.push(ce),ve(H)}).then(()=>(I.matched.forEach(M=>M.enterCallbacks={}),H=uo(pe,"beforeRouteEnter",I,X,D),H.push(ce),ve(H))).then(()=>{H=[];for(const M of o.list())H.push(Et(M,I,X));return H.push(ce),ve(H)}).catch(M=>pt(M,8)?M:Promise.reject(M))}function Q(I,X,H){l.list().forEach(Y=>D(()=>Y(I,X,H)))}function V(I,X,H,Y,le){const pe=E(I,X);if(pe)return pe;const ce=X===$t,M=tn?history.state:{};H&&(Y||ce?s.replace(I.fullPath,_e({scroll:ce&&M&&M.scroll},le)):s.push(I.fullPath,le)),a.value=I,N(I,X,H,ce),F()}let A;function j(){A||(A=s.listen((I,X,H)=>{if(!be.listening)return;const Y=S(I),le=x(Y);if(le){U(_e(le,{replace:!0,force:!0}),Y).catch(zn);return}u=Y;const pe=a.value;tn&&Wp(ni(pe.fullPath,H.delta),Kr()),K(Y,pe).catch(ce=>pt(ce,12)?ce:pt(ce,2)?(U(_e(k(ce.to),{force:!0}),Y).then(M=>{pt(M,20)&&!H.delta&&H.type===Yn.pop&&s.go(-1,!1)}).catch(zn),Promise.reject()):(H.delta&&s.go(-H.delta,!1),R(ce,Y,pe))).then(ce=>{ce=ce||V(Y,pe,!1),ce&&(H.delta&&!pt(ce,8)?s.go(-H.delta,!1):H.type===Yn.pop&&pt(ce,20)&&s.go(-1,!1)),Q(Y,pe,ce)}).catch(zn)}))}let L=kn(),w=kn(),b;function R(I,X,H){F(I);const Y=w.list();return Y.length?Y.forEach(le=>le(I,X,H)):console.error(I),Promise.reject(I)}function O(){return b&&a.value!==$t?Promise.resolve():new Promise((I,X)=>{L.add([I,X])})}function F(I){return b||(b=!I,j(),L.list().forEach(([X,H])=>I?H(I):X()),L.reset()),I}function N(I,X,H,Y){const{scrollBehavior:le}=e;if(!tn||!le)return Promise.resolve();const pe=!H&&Qp(ni(I.fullPath,0))||(Y||!H)&&history.state&&history.state.scroll||null;return qe().then(()=>le(I,X,pe)).then(ce=>ce&&Kp(ce)).catch(ce=>R(ce,I,X))}const Z=I=>s.go(I);let ae;const se=new Set,be={currentRoute:a,listening:!0,addRoute:h,removeRoute:$,clearRoutes:t.clearRoutes,hasRoute:_,getRoutes:v,resolve:S,options:e,push:P,replace:T,go:Z,back:()=>Z(-1),forward:()=>Z(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:w.add,isReady:O,install(I){const X=this;I.component("RouterLink",yh),I.component("RouterView",Sh),I.config.globalProperties.$router=X,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>m(a)}),tn&&!ae&&a.value===$t&&(ae=!0,P(s.location).catch(le=>{}));const H={};for(const le in $t)Object.defineProperty(H,le,{get:()=>a.value[le],enumerable:!0});I.provide(Wr,X),I.provide(os,Tn(H)),I.provide(Do,a);const Y=I.unmount;se.add(I),I.unmount=function(){se.delete(I),se.size<1&&(u=$t,A&&A(),A=null,a.value=$t,ae=!1,b=!1),Y()}}};function ve(I){return I.reduce((X,H)=>X.then(()=>D(H)),Promise.resolve())}return be}function kh(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(e.matched.find(u=>cn(u,l))?r.push(l):n.push(l));const a=e.matched[o];a&&(t.matched.find(u=>cn(u,a))||s.push(a))}return[n,r,s]}function vn(){return Se(Wr)}function Xe(e){return Se(os)}var Fl=typeof global=="object"&&global&&global.Object===Object&&global,Ch=typeof self=="object"&&self&&self.Object===Object&&self,st=Fl||Ch||Function("return this")(),fn=st.Symbol,jl=Object.prototype,Th=jl.hasOwnProperty,Ph=jl.toString,Cn=fn?fn.toStringTag:void 0;function Ah(e){var t=Th.call(e,Cn),n=e[Cn];try{e[Cn]=void 0;var r=!0}catch(i){}var s=Ph.call(e);return r&&(t?e[Cn]=n:delete e[Cn]),s}var Rh=Object.prototype,Oh=Rh.toString;function Dh(e){return Oh.call(e)}var Uh="[object Null]",Lh="[object Undefined]",gi=fn?fn.toStringTag:void 0;function gn(e){return e==null?e===void 0?Lh:Uh:gi&&gi in Object(e)?Ah(e):Dh(e)}function bn(e){return e!=null&&typeof e=="object"}var Ih="[object Symbol]";function xh(e){return typeof e=="symbol"||bn(e)&&gn(e)==Ih}var ss=Array.isArray,Bh=/\s/;function Nh(e){for(var t=e.length;t--&&Bh.test(e.charAt(t)););return t}var Mh=/^\s+/;function Fh(e){return e&&e.slice(0,Nh(e)+1).replace(Mh,"")}function Rt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var bi=NaN,jh=/^[-+]0x[0-9a-f]+$/i,zh=/^0b[01]+$/i,Hh=/^0o[0-7]+$/i,qh=parseInt;function yi(e){if(typeof e=="number")return e;if(xh(e))return bi;if(Rt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Rt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Fh(e);var n=zh.test(e);return n||Hh.test(e)?qh(e.slice(2),n?2:8):jh.test(e)?bi:+e}var Vh="[object AsyncFunction]",Gh="[object Function]",Kh="[object GeneratorFunction]",Wh="[object Proxy]";function zl(e){if(!Rt(e))return!1;var t=gn(e);return t==Gh||t==Kh||t==Vh||t==Wh}var co=st["__core-js_shared__"],wi=function(){var e=/[^.]+$/.exec(co&&co.keys&&co.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Qh(e){return!!wi&&wi in e}var Yh=Function.prototype,Xh=Yh.toString;function Gt(e){if(e!=null){try{return Xh.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Jh=/[\\^$.*+?()[\]{}|]/g,Zh=/^\[object .+?Constructor\]$/,em=Function.prototype,tm=Object.prototype,nm=em.toString,rm=tm.hasOwnProperty,om=RegExp("^"+nm.call(rm).replace(Jh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sm(e){if(!Rt(e)||Qh(e))return!1;var t=zl(e)?om:Zh;return t.test(Gt(e))}function im(e,t){return e==null?void 0:e[t]}function Kt(e,t){var n=im(e,t);return sm(n)?n:void 0}var Uo=Kt(st,"WeakMap"),_i=Object.create,am=function(){function e(){}return function(t){if(!Rt(t))return{};if(_i)return _i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),$i=function(){try{var e=Kt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();function lm(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var um=9007199254740991,cm=/^(?:0|[1-9]\d*)$/;function dm(e,t){var n=typeof e;return t=t==null?um:t,!!t&&(n=="number"||n!="symbol"&&cm.test(e))&&e>-1&&e%1==0&&e<t}function fm(e,t,n){t=="__proto__"&&$i?$i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Hl(e,t){return e===t||e!==e&&t!==t}var pm=Object.prototype,hm=pm.hasOwnProperty;function mm(e,t,n){var r=e[t];(!(hm.call(e,t)&&Hl(r,n))||n===void 0&&!(t in e))&&fm(e,t,n)}var vm=9007199254740991;function ql(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vm}function gm(e){return e!=null&&ql(e.length)&&!zl(e)}var bm=Object.prototype;function Vl(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||bm;return e===n}function ym(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var wm="[object Arguments]";function Si(e){return bn(e)&&gn(e)==wm}var Gl=Object.prototype,_m=Gl.hasOwnProperty,$m=Gl.propertyIsEnumerable,Sm=Si(function(){return arguments}())?Si:function(e){return bn(e)&&_m.call(e,"callee")&&!$m.call(e,"callee")};function Em(){return!1}var Kl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ei=Kl&&typeof module=="object"&&module&&!module.nodeType&&module,km=Ei&&Ei.exports===Kl,ki=km?st.Buffer:void 0,Cm=ki?ki.isBuffer:void 0,Wl=Cm||Em,Tm="[object Arguments]",Pm="[object Array]",Am="[object Boolean]",Rm="[object Date]",Om="[object Error]",Dm="[object Function]",Um="[object Map]",Lm="[object Number]",Im="[object Object]",xm="[object RegExp]",Bm="[object Set]",Nm="[object String]",Mm="[object WeakMap]",Fm="[object ArrayBuffer]",jm="[object DataView]",zm="[object Float32Array]",Hm="[object Float64Array]",qm="[object Int8Array]",Vm="[object Int16Array]",Gm="[object Int32Array]",Km="[object Uint8Array]",Wm="[object Uint8ClampedArray]",Qm="[object Uint16Array]",Ym="[object Uint32Array]",Ae={};Ae[zm]=Ae[Hm]=Ae[qm]=Ae[Vm]=Ae[Gm]=Ae[Km]=Ae[Wm]=Ae[Qm]=Ae[Ym]=!0;Ae[Tm]=Ae[Pm]=Ae[Fm]=Ae[Am]=Ae[jm]=Ae[Rm]=Ae[Om]=Ae[Dm]=Ae[Um]=Ae[Lm]=Ae[Im]=Ae[xm]=Ae[Bm]=Ae[Nm]=Ae[Mm]=!1;function Xm(e){return bn(e)&&ql(e.length)&&!!Ae[gn(e)]}function is(e){return function(t){return e(t)}}var Ql=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qn=Ql&&typeof module=="object"&&module&&!module.nodeType&&module,Jm=qn&&qn.exports===Ql,fo=Jm&&Fl.process,pn=function(){try{var e=qn&&qn.require&&qn.require("util").types;return e||fo&&fo.binding&&fo.binding("util")}catch(t){}}(),Ci=pn&&pn.isTypedArray,Zm=Ci?is(Ci):Xm,ev=Object.prototype,tv=ev.hasOwnProperty;function nv(e,t){var n=ss(e),r=!n&&Sm(e),s=!n&&!r&&Wl(e),i=!n&&!r&&!s&&Zm(e),o=n||r||s||i,l=o?ym(e.length,String):[],a=l.length;for(var u in e)tv.call(e,u)&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||dm(u,a)))&&l.push(u);return l}function Yl(e,t){return function(n){return e(t(n))}}var rv=Yl(Object.keys,Object),ov=Object.prototype,sv=ov.hasOwnProperty;function iv(e){if(!Vl(e))return rv(e);var t=[];for(var n in Object(e))sv.call(e,n)&&n!="constructor"&&t.push(n);return t}function av(e){return gm(e)?nv(e):iv(e)}var Xn=Kt(Object,"create");function lv(){this.__data__=Xn?Xn(null):{},this.size=0}function uv(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var cv="__lodash_hash_undefined__",dv=Object.prototype,fv=dv.hasOwnProperty;function pv(e){var t=this.__data__;if(Xn){var n=t[e];return n===cv?void 0:n}return fv.call(t,e)?t[e]:void 0}var hv=Object.prototype,mv=hv.hasOwnProperty;function vv(e){var t=this.__data__;return Xn?t[e]!==void 0:mv.call(t,e)}var gv="__lodash_hash_undefined__";function bv(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xn&&t===void 0?gv:t,this}function Ft(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ft.prototype.clear=lv;Ft.prototype.delete=uv;Ft.prototype.get=pv;Ft.prototype.has=vv;Ft.prototype.set=bv;function yv(){this.__data__=[],this.size=0}function Qr(e,t){for(var n=e.length;n--;)if(Hl(e[n][0],t))return n;return-1}var wv=Array.prototype,_v=wv.splice;function $v(e){var t=this.__data__,n=Qr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():_v.call(t,n,1),--this.size,!0}function Sv(e){var t=this.__data__,n=Qr(t,e);return n<0?void 0:t[n][1]}function Ev(e){return Qr(this.__data__,e)>-1}function kv(e,t){var n=this.__data__,r=Qr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function _t(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_t.prototype.clear=yv;_t.prototype.delete=$v;_t.prototype.get=Sv;_t.prototype.has=Ev;_t.prototype.set=kv;var Jn=Kt(st,"Map");function Cv(){this.size=0,this.__data__={hash:new Ft,map:new(Jn||_t),string:new Ft}}function Tv(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Yr(e,t){var n=e.__data__;return Tv(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Pv(e){var t=Yr(this,e).delete(e);return this.size-=t?1:0,t}function Av(e){return Yr(this,e).get(e)}function Rv(e){return Yr(this,e).has(e)}function Ov(e,t){var n=Yr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function yn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yn.prototype.clear=Cv;yn.prototype.delete=Pv;yn.prototype.get=Av;yn.prototype.has=Rv;yn.prototype.set=Ov;function Dv(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var Uv=Yl(Object.getPrototypeOf,Object);function Lv(){this.__data__=new _t,this.size=0}function Iv(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function xv(e){return this.__data__.get(e)}function Bv(e){return this.__data__.has(e)}var Nv=200;function Mv(e,t){var n=this.__data__;if(n instanceof _t){var r=n.__data__;if(!Jn||r.length<Nv-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yn(r)}return n.set(e,t),this.size=n.size,this}function wn(e){var t=this.__data__=new _t(e);this.size=t.size}wn.prototype.clear=Lv;wn.prototype.delete=Iv;wn.prototype.get=xv;wn.prototype.has=Bv;wn.prototype.set=Mv;var Xl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ti=Xl&&typeof module=="object"&&module&&!module.nodeType&&module,Fv=Ti&&Ti.exports===Xl,Pi=Fv?st.Buffer:void 0;Pi&&Pi.allocUnsafe;function jv(e,t){return e.slice()}function zv(e,t){for(var n=-1,r=e==null?0:e.length,s=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[s++]=o)}return i}function Hv(){return[]}var qv=Object.prototype,Vv=qv.propertyIsEnumerable,Ai=Object.getOwnPropertySymbols,Gv=Ai?function(e){return e==null?[]:(e=Object(e),zv(Ai(e),function(t){return Vv.call(e,t)}))}:Hv;function Kv(e,t,n){var r=t(e);return ss(e)?r:Dv(r,n(e))}function Wv(e){return Kv(e,av,Gv)}var Lo=Kt(st,"DataView"),Io=Kt(st,"Promise"),xo=Kt(st,"Set"),Ri="[object Map]",Qv="[object Object]",Oi="[object Promise]",Di="[object Set]",Ui="[object WeakMap]",Li="[object DataView]",Yv=Gt(Lo),Xv=Gt(Jn),Jv=Gt(Io),Zv=Gt(xo),eg=Gt(Uo),ht=gn;(Lo&&ht(new Lo(new ArrayBuffer(1)))!=Li||Jn&&ht(new Jn)!=Ri||Io&&ht(Io.resolve())!=Oi||xo&&ht(new xo)!=Di||Uo&&ht(new Uo)!=Ui)&&(ht=function(e){var t=gn(e),n=t==Qv?e.constructor:void 0,r=n?Gt(n):"";if(r)switch(r){case Yv:return Li;case Xv:return Ri;case Jv:return Oi;case Zv:return Di;case eg:return Ui}return t});var tg=Object.prototype,ng=tg.hasOwnProperty;function rg(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&ng.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Ii=st.Uint8Array;function as(e){var t=new e.constructor(e.byteLength);return new Ii(t).set(new Ii(e)),t}function og(e,t){var n=as(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var sg=/\w*$/;function ig(e){var t=new e.constructor(e.source,sg.exec(e));return t.lastIndex=e.lastIndex,t}var xi=fn?fn.prototype:void 0,Bi=xi?xi.valueOf:void 0;function ag(e){return Bi?Object(Bi.call(e)):{}}function lg(e,t){var n=as(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}var ug="[object Boolean]",cg="[object Date]",dg="[object Map]",fg="[object Number]",pg="[object RegExp]",hg="[object Set]",mg="[object String]",vg="[object Symbol]",gg="[object ArrayBuffer]",bg="[object DataView]",yg="[object Float32Array]",wg="[object Float64Array]",_g="[object Int8Array]",$g="[object Int16Array]",Sg="[object Int32Array]",Eg="[object Uint8Array]",kg="[object Uint8ClampedArray]",Cg="[object Uint16Array]",Tg="[object Uint32Array]";function Pg(e,t,n){var r=e.constructor;switch(t){case gg:return as(e);case ug:case cg:return new r(+e);case bg:return og(e);case yg:case wg:case _g:case $g:case Sg:case Eg:case kg:case Cg:case Tg:return lg(e);case dg:return new r;case fg:case mg:return new r(e);case pg:return ig(e);case hg:return new r;case vg:return ag(e)}}function Ag(e){return typeof e.constructor=="function"&&!Vl(e)?am(Uv(e)):{}}var Rg="[object Map]";function Og(e){return bn(e)&&ht(e)==Rg}var Ni=pn&&pn.isMap,Dg=Ni?is(Ni):Og,Ug="[object Set]";function Lg(e){return bn(e)&&ht(e)==Ug}var Mi=pn&&pn.isSet,Ig=Mi?is(Mi):Lg,Jl="[object Arguments]",xg="[object Array]",Bg="[object Boolean]",Ng="[object Date]",Mg="[object Error]",Zl="[object Function]",Fg="[object GeneratorFunction]",jg="[object Map]",zg="[object Number]",eu="[object Object]",Hg="[object RegExp]",qg="[object Set]",Vg="[object String]",Gg="[object Symbol]",Kg="[object WeakMap]",Wg="[object ArrayBuffer]",Qg="[object DataView]",Yg="[object Float32Array]",Xg="[object Float64Array]",Jg="[object Int8Array]",Zg="[object Int16Array]",eb="[object Int32Array]",tb="[object Uint8Array]",nb="[object Uint8ClampedArray]",rb="[object Uint16Array]",ob="[object Uint32Array]",Te={};Te[Jl]=Te[xg]=Te[Wg]=Te[Qg]=Te[Bg]=Te[Ng]=Te[Yg]=Te[Xg]=Te[Jg]=Te[Zg]=Te[eb]=Te[jg]=Te[zg]=Te[eu]=Te[Hg]=Te[qg]=Te[Vg]=Te[Gg]=Te[tb]=Te[nb]=Te[rb]=Te[ob]=!0;Te[Mg]=Te[Zl]=Te[Kg]=!1;function Er(e,t,n,r,s,i){var o;if(o!==void 0)return o;if(!Rt(e))return e;var l=ss(e);if(l)o=rg(e);else{var a=ht(e),u=a==Zl||a==Fg;if(Wl(e))return jv(e);if(a==eu||a==Jl||u&&!s)o=u?{}:Ag(e);else{if(!Te[a])return s?e:{};o=Pg(e,a)}}i||(i=new wn);var d=i.get(e);if(d)return d;i.set(e,o),Ig(e)?e.forEach(function(h){o.add(Er(h,t,n,h,e,i))}):Dg(e)&&e.forEach(function(h,$){o.set($,Er(h,t,n,$,e,i))});var f=Wv,p=l?void 0:f(e);return lm(p||e,function(h,$){p&&($=h,h=e[$]),mm(o,$,Er(h,t,n,$,e,i))}),o}var sb=1,ib=4;function ab(e){return Er(e,sb|ib)}var po=function(){return st.Date.now()},lb="Expected a function",ub=Math.max,cb=Math.min;function db(e,t,n){var r,s,i,o,l,a,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(lb);t=yi(t)||0,Rt(n)&&(d=!!n.leading,f="maxWait"in n,i=f?ub(yi(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function h(x){var U=r,z=s;return r=s=void 0,u=x,o=e.apply(z,U),o}function $(x){return u=x,l=setTimeout(S,t),d?h(x):o}function v(x){var U=x-a,z=x-u,D=t-U;return f?cb(D,i-z):D}function _(x){var U=x-a,z=x-u;return a===void 0||U>=t||U<0||f&&z>=i}function S(){var x=po();if(_(x))return k(x);l=setTimeout(S,v(x))}function k(x){return l=void 0,p&&r?h(x):(r=s=void 0,o)}function E(){l!==void 0&&clearTimeout(l),u=0,r=a=s=l=void 0}function P(){return l===void 0?o:k(po())}function T(){var x=po(),U=_(x);if(r=arguments,s=this,a=x,U){if(l===void 0)return $(a);if(f)return clearTimeout(l),l=setTimeout(S,t),h(a)}return l===void 0&&(l=setTimeout(S,t)),o}return T.cancel=E,T.flush=P,T}var fb="Expected a function";function Zn(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(fb);return Rt(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),db(e,t,{leading:r,maxWait:t,trailing:s})}const Le=Vt("auth",{state:()=>({user:null,jwt:""}),getters:{isLoggedIn:e=>e.user!==null},actions:{setUser(e){if(e===null){this.user=null;return}Cs(e.locale||rc()),this.user=e},updateUser(e){e.locale&&Cs(e.locale),this.user={...this.user,...ab(e)}},clearUser(){this.$reset()}}});class Dn extends Error{}Dn.prototype.name="InvalidTokenError";function pb(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function hb(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return pb(t)}catch(n){return atob(t)}}function mb(e,t){if(typeof e!="string")throw new Dn("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new Dn("Invalid token specified: missing part #".concat(n+1));let s;try{s=hb(r)}catch(i){throw new Dn("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(i.message,")"))}try{return JSON.parse(s)}catch(i){throw new Dn("Invalid token specified: invalid json for part #".concat(n+1," (").concat(i.message,")"))}}function tu(e){const t=mb(e);document.cookie="auth=".concat(e,"; Path=/; SameSite=Strict;"),localStorage.setItem("jwt",e);const n=Le();n.jwt=e,n.setUser(t.user)}async function vb(){try{localStorage.getItem("jwt")&&await ru(localStorage.getItem("jwt"))}catch(e){throw console.warn("Invalid JWT token in storage"),e}}async function nu(e,t,n){const r={username:e,password:t,recaptcha:n},s=await fetch("".concat(ot,"/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),i=await s.text();if(s.status===200)tu(i);else throw new wt(i||"".concat(s.status," ").concat(s.statusText),s.status)}async function ru(e){const t=await fetch("".concat(ot,"/api/renew"),{method:"POST",headers:{"X-Auth":e}}),n=await t.text();if(t.status===200)tu(n);else throw new wt(n||"".concat(t.status," ").concat(t.statusText),t.status)}async function gb(e,t){const n={username:e,password:t},r=await fetch("".concat(ot,"/api/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(r.status!==200)throw new wt("".concat(r.status," ").concat(r.statusText),r.status)}function ou(){document.cookie="auth=; Max-Age=0; Path=/; SameSite=Strict;",Le().clearUser(),localStorage.setItem("jwt",""),xa?window.location.reload():fr.push({path:"/login"})}function bb(e){const t=e.split("/");return t.pop()===""&&t.pop(),t.join("/")}function yb(e){return encodeURIComponent(e).replace(/['()*]/g,t=>"%".concat(t.charCodeAt(0).toString(16).toUpperCase())).replace(/%(7C|60|5E)/g,(t,n)=>String.fromCharCode(parseInt(n,16)))}function su(e){return e.split("/").map(t=>encodeURIComponent(t)).join("/")}const rt={encodeRFC5987ValueChars:yb,removeLastDir:bb,encodePath:su};class wt extends Error{constructor(t,n){super(t),this.status=n,this.name="StatusError"}}async function Je(e,t,n=!0){const r=Le();t=t||{},t.headers=t.headers||{};const{headers:s,...i}=t;let o;try{o=await fetch("".concat(ot).concat(e),{headers:{"X-Auth":r.jwt,...s},...i})}catch(l){throw new wt("000 No connection",0)}if(n&&o.headers.get("X-Renew-Token")==="true"&&await ru(r.jwt),o.status<200||o.status>299){const l=await o.text(),a=new wt(l||"".concat(o.status," ").concat(o.statusText),o.status);throw n&&o.status==401&&ou(),a}return o}async function Wt(e,t){const n=await Je(e,t);if(n.status===200)return n.json();throw new wt("".concat(n.status," ").concat(n.statusText),n.status)}function We(e){return e=e.split("/").splice(2).join("/"),e===""&&(e="/"),e[0]!=="/"&&(e="/"+e),e}function cr(e,t={},n=!0){const r=Le();let s=ot;s.endsWith("/")||(s=s+"/");const i=new URL(s+su(e),origin),o={...n&&{auth:r.jwt},...t};for(const l in o)i.searchParams.set(l,o[l]);return i.toString()}const wb=["src"],_b={key:0,class:"wrong"},$b=["placeholder"],Sb=["placeholder"],Eb=["placeholder"],kb={key:2,id:"recaptcha"},Cb=["value"],Tb=ie({__name:"Login",setup(e){const t=G(!1),n=G(""),r=G(""),s=G(""),i=G(""),o=Xe(),l=vn(),{t:a}=ke({}),u=()=>t.value=!t.value,d=Se("$showError"),f=async p=>{p.preventDefault(),p.stopPropagation();const h=o.query.redirect||"/files/";let $="";if(Pn&&($=window.grecaptcha.getResponse(),$==="")){n.value=a("login.wrongCredentials");return}if(t.value&&s.value!==i.value){n.value=a("login.passwordsDontMatch");return}try{t.value&&await gb(r.value,s.value),await nu(r.value,s.value,$),l.push({path:h})}catch(v){v instanceof wt&&(v.status===409?n.value=a("login.usernameTaken"):v.status===403?n.value=a("login.wrongCredentials"):d(v))}};return Oe(()=>{Pn&&window.grecaptcha.ready(function(){window.grecaptcha.render("recaptcha",{sitekey:fc})})}),(p,h)=>(y(),C("div",{id:"login",class:Pe({recaptcha:m(Pn)})},[c("form",{onSubmit:f},[c("img",{src:m(La),alt:"File Browser"},null,8,wb),c("h1",null,g(m(Xo)),1),n.value!==""?(y(),C("div",_b,g(n.value),1)):B("",!0),J(c("input",{autofocus:"",class:"input input--block",type:"text",autocapitalize:"off","onUpdate:modelValue":h[0]||(h[0]=$=>r.value=$),placeholder:m(a)("login.username")},null,8,$b),[[Re,r.value]]),J(c("input",{class:"input input--block",type:"password","onUpdate:modelValue":h[1]||(h[1]=$=>s.value=$),placeholder:m(a)("login.password")},null,8,Sb),[[Re,s.value]]),t.value?J((y(),C("input",{key:1,class:"input input--block",type:"password","onUpdate:modelValue":h[2]||(h[2]=$=>i.value=$),placeholder:m(a)("login.passwordConfirm")},null,8,Eb)),[[Re,i.value]]):B("",!0),m(Pn)?(y(),C("div",kb)):B("",!0),c("input",{class:"button button--block",type:"submit",value:t.value?m(a)("login.signup"):m(a)("login.submit")},null,8,Cb),m(Ua)?(y(),C("p",{key:3,onClick:u},g(t.value?m(a)("login.loginInstead"):m(a)("login.createAnAccount")),1)):B("",!0)],32)],2))}}),ue=Vt("layout",{state:()=>({loading:!1,prompts:[],showShell:!1}),getters:{currentPrompt(e){return e.prompts.length>0?e.prompts[e.prompts.length-1]:null},currentPromptName(){var e;return(e=this.currentPrompt)==null?void 0:e.prompt}},actions:{toggleShell(){this.showShell=!this.showShell},setCloseOnPrompt(e,t){const n=this.prompts.find(r=>r.prompt===t);n&&(n.close=e)},showHover(e){if(typeof e!="object"){this.prompts.push({prompt:e,confirm:null,action:void 0,props:null,close:null});return}this.prompts.push({prompt:e.prompt,confirm:e==null?void 0:e.confirm,action:e==null?void 0:e.action,props:e==null?void 0:e.props,close:e==null?void 0:e.close})},showError(){this.prompts.push({prompt:"error",confirm:null,action:void 0,props:null,close:null})},showSuccess(){this.prompts.push({prompt:"success",confirm:null,action:void 0,props:null,close:null})},closeHovers(){var e,t;(t=(e=this.prompts.shift())==null?void 0:e.close)==null||t.call(e)},clearLayout(){this.$reset()}}}),Ee=Vt("file",{state:()=>({req:null,oldReq:null,reload:!1,selected:[],multiple:!1,isFiles:!1,diskUsages:new Map}),getters:{selectedCount:e=>e.selected.length,isListing:e=>{var t;return e.isFiles&&((t=e==null?void 0:e.req)==null?void 0:t.isDir)},onlyArchivesSelected:e=>{var r;const t=[".zip",".tar",".gz",".bz2",".xz",".lz4",".sz"],n=(r=e.req)==null?void 0:r.items;if(!n||e.selected.length<1)return!1;for(const s of e.selected){const i=n[s];if(i.isDir||!t.includes(i.extension))return!1}return!0}},actions:{toggleMultiple(){this.multiple=!this.multiple},updateRequest(e){var n;const t=this.selected.map(r=>{var s;return(s=this.req)==null?void 0:s.items[r]});this.oldReq=this.req,this.req=e,this.selected=[],(n=this.req)!=null&&n.items&&(this.selected=this.req.items.filter(r=>t.some(s=>(s==null?void 0:s.url)===r.url)).map(r=>r.index))},removeSelected(e){const t=this.selected.indexOf(e);t!==-1&&this.selected.splice(t,1)},clearFile(){this.$reset()},addDiskUsage(e,t){e[e.length-1]=="/"&&(e=e.slice(0,-1)),this.diskUsages.set(e,t)}}});function Bo(e){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(e)}function Pb(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function Ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rb(e,t,n){return t=tr(t),Ob(e,ls()?Reflect.construct(t,n||[],tr(e).constructor):t.apply(e,n))}function Ob(e,t){if(t&&(Bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Db(e)}function Db(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ub(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&er(e,t)}function No(e){var t=typeof Map=="function"?new Map:void 0;return No=function(r){if(r===null||!Ib(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,s)}function s(){return Lb(r,arguments,tr(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),er(s,r)},No(e)}function Lb(e,t,n){if(ls())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var s=new(e.bind.apply(e,r));return n&&er(s,n.prototype),s}function ls(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ls=function(){return!!e})()}function Ib(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch(t){return typeof e=="function"}}function er(e,t){return er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},er(e,t)}function tr(e){return tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tr(e)}var gr=function(e){function t(n){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(Ab(this,t),r=Rb(this,t,[n]),r.originalRequest=i,r.originalResponse=o,r.causingError=s,s!=null&&(n+=", caused by ".concat(s.toString())),i!=null){var l=i.getHeader("X-Request-ID")||"n/a",a=i.getMethod(),u=i.getURL(),d=o?o.getStatus():"n/a",f=o?o.getBody()||"":"n/a";n+=", originated from request (method: ".concat(a,", url: ").concat(u,", response code: ").concat(d,", response text: ").concat(f,", request id: ").concat(l,")")}return r.message=n,r}return Ub(t,e),Pb(t)}(No(Error));function nr(e){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(e)}function xb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mb(r.key),r)}}function Nb(e,t,n){return t&&Bb(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mb(e){var t=Fb(e,"string");return nr(t)=="symbol"?t:t+""}function Fb(e,t){if(nr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jb=function(){function e(){xb(this,e)}return Nb(e,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(n){return Promise.resolve([])}},{key:"removeUpload",value:function(n){return Promise.resolve()}},{key:"addUpload",value:function(n,r){return Promise.resolve(null)}}])}();const iu="3.7.7",zb=iu,_n=typeof Buffer=="function",Fi=typeof TextDecoder=="function"?new TextDecoder:void 0,ji=typeof TextEncoder=="function"?new TextEncoder:void 0,Hb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Un=Array.prototype.slice.call(Hb),br=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Un),qb=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,je=String.fromCharCode.bind(String),zi=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),au=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),lu=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),uu=e=>{let t,n,r,s,i="";const o=e.length%3;for(let l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(s=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|s,i+=Un[t>>18&63]+Un[t>>12&63]+Un[t>>6&63]+Un[t&63]}return o?i.slice(0,o-3)+"===".substring(o):i},us=typeof btoa=="function"?e=>btoa(e):_n?e=>Buffer.from(e,"binary").toString("base64"):uu,Mo=_n?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,s=e.length;r<s;r+=4096)n.push(je.apply(null,e.subarray(r,r+4096)));return us(n.join(""))},kr=(e,t=!1)=>t?au(Mo(e)):Mo(e),Vb=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?je(192|t>>>6)+je(128|t&63):je(224|t>>>12&15)+je(128|t>>>6&63)+je(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return je(240|t>>>18&7)+je(128|t>>>12&63)+je(128|t>>>6&63)+je(128|t&63)}},Gb=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,cu=e=>e.replace(Gb,Vb),Hi=_n?e=>Buffer.from(e,"utf8").toString("base64"):ji?e=>Mo(ji.encode(e)):e=>us(cu(e)),sn=(e,t=!1)=>t?au(Hi(e)):Hi(e),qi=e=>sn(e,!0),Kb=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Wb=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return je((n>>>10)+55296)+je((n&1023)+56320);case 3:return je((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return je((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},du=e=>e.replace(Kb,Wb),fu=e=>{if(e=e.replace(/\s+/g,""),!qb.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,s;for(let i=0;i<e.length;)t=br[e.charAt(i++)]<<18|br[e.charAt(i++)]<<12|(r=br[e.charAt(i++)])<<6|(s=br[e.charAt(i++)]),n+=r===64?je(t>>16&255):s===64?je(t>>16&255,t>>8&255):je(t>>16&255,t>>8&255,t&255);return n},cs=typeof atob=="function"?e=>atob(lu(e)):_n?e=>Buffer.from(e,"base64").toString("binary"):fu,pu=_n?e=>zi(Buffer.from(e,"base64")):e=>zi(cs(e).split("").map(t=>t.charCodeAt(0))),hu=e=>pu(mu(e)),Qb=_n?e=>Buffer.from(e,"base64").toString("utf8"):Fi?e=>Fi.decode(pu(e)):e=>du(cs(e)),mu=e=>lu(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Fo=e=>Qb(mu(e)),Yb=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},vu=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),gu=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,vu(n));e("fromBase64",function(){return Fo(this)}),e("toBase64",function(t){return sn(this,t)}),e("toBase64URI",function(){return sn(this,!0)}),e("toBase64URL",function(){return sn(this,!0)}),e("toUint8Array",function(){return hu(this)})},bu=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,vu(n));e("toBase64",function(t){return kr(this,t)}),e("toBase64URI",function(){return kr(this,!0)}),e("toBase64URL",function(){return kr(this,!0)})},Xb=()=>{gu(),bu()},ds={version:iu,VERSION:zb,atob:cs,atobPolyfill:fu,btoa:us,btoaPolyfill:uu,fromBase64:Fo,toBase64:sn,encode:sn,encodeURI:qi,encodeURL:qi,utob:cu,btou:du,decode:Fo,isValid:Yb,fromUint8Array:kr,toUint8Array:hu,extendString:gu,extendUint8Array:bu,extendBuiltins:Xb};var ho,Vi;function Jb(){return Vi||(Vi=1,ho=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}),ho}var yr={},Gi;function Zb(){if(Gi)return yr;Gi=1;var e=Object.prototype.hasOwnProperty,t;function n(o){try{return decodeURIComponent(o.replace(/\+/g," "))}catch(l){return null}}function r(o){try{return encodeURIComponent(o)}catch(l){return null}}function s(o){for(var l=/([^=?#&]+)=?([^&]*)/g,a={},u;u=l.exec(o);){var d=n(u[1]),f=n(u[2]);d===null||f===null||d in a||(a[d]=f)}return a}function i(o,l){l=l||"";var a=[],u,d;typeof l!="string"&&(l="?");for(d in o)if(e.call(o,d)){if(u=o[d],!u&&(u===null||u===t||isNaN(u))&&(u=""),d=r(d),u=r(u),d===null||u===null)continue;a.push(d+"="+u)}return a.length?l+a.join("&"):""}return yr.stringify=i,yr.parse=s,yr}var mo,Ki;function ey(){if(Ki)return mo;Ki=1;var e=Jb(),t=Zb(),n=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,r=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/:\d+$/,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function a(k){return(k||"").toString().replace(n,"")}var u=[["#","hash"],["?","query"],function(E,P){return p(P.protocol)?E.replace(/\\/g,"/"):E},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function f(k){var E;typeof window<"u"?E=window:typeof Rs<"u"?E=Rs:typeof self<"u"?E=self:E={};var P=E.location||{};k=k||P;var T={},x=typeof k,U;if(k.protocol==="blob:")T=new v(unescape(k.pathname),{});else if(x==="string"){T=new v(k,{});for(U in d)delete T[U]}else if(x==="object"){for(U in k)U in d||(T[U]=k[U]);T.slashes===void 0&&(T.slashes=s.test(k.href))}return T}function p(k){return k==="file:"||k==="ftp:"||k==="http:"||k==="https:"||k==="ws:"||k==="wss:"}function h(k,E){k=a(k),k=k.replace(r,""),E=E||{};var P=o.exec(k),T=P[1]?P[1].toLowerCase():"",x=!!P[2],U=!!P[3],z=0,D;return x?U?(D=P[2]+P[3]+P[4],z=P[2].length+P[3].length):(D=P[2]+P[4],z=P[2].length):U?(D=P[3]+P[4],z=P[3].length):D=P[4],T==="file:"?z>=2&&(D=D.slice(2)):p(T)?D=P[4]:T?x&&(D=D.slice(2)):z>=2&&p(E.protocol)&&(D=P[4]),{protocol:T,slashes:x||p(T),slashesCount:z,rest:D}}function $(k,E){if(k==="")return E;for(var P=(E||"/").split("/").slice(0,-1).concat(k.split("/")),T=P.length,x=P[T-1],U=!1,z=0;T--;)P[T]==="."?P.splice(T,1):P[T]===".."?(P.splice(T,1),z++):z&&(T===0&&(U=!0),P.splice(T,1),z--);return U&&P.unshift(""),(x==="."||x==="..")&&P.push(""),P.join("/")}function v(k,E,P){if(k=a(k),k=k.replace(r,""),!(this instanceof v))return new v(k,E,P);var T,x,U,z,D,K,Q=u.slice(),V=typeof E,A=this,j=0;for(V!=="object"&&V!=="string"&&(P=E,E=null),P&&typeof P!="function"&&(P=t.parse),E=f(E),x=h(k||"",E),T=!x.protocol&&!x.slashes,A.slashes=x.slashes||T&&E.slashes,A.protocol=x.protocol||E.protocol||"",k=x.rest,(x.protocol==="file:"&&(x.slashesCount!==2||l.test(k))||!x.slashes&&(x.protocol||x.slashesCount<2||!p(A.protocol)))&&(Q[3]=[/(.*)/,"pathname"]);j<Q.length;j++){if(z=Q[j],typeof z=="function"){k=z(k,A);continue}U=z[0],K=z[1],U!==U?A[K]=k:typeof U=="string"?(D=U==="@"?k.lastIndexOf(U):k.indexOf(U),~D&&(typeof z[2]=="number"?(A[K]=k.slice(0,D),k=k.slice(D+z[2])):(A[K]=k.slice(D),k=k.slice(0,D)))):(D=U.exec(k))&&(A[K]=D[1],k=k.slice(0,D.index)),A[K]=A[K]||T&&z[3]&&E[K]||"",z[4]&&(A[K]=A[K].toLowerCase())}P&&(A.query=P(A.query)),T&&E.slashes&&A.pathname.charAt(0)!=="/"&&(A.pathname!==""||E.pathname!=="")&&(A.pathname=$(A.pathname,E.pathname)),A.pathname.charAt(0)!=="/"&&p(A.protocol)&&(A.pathname="/"+A.pathname),e(A.port,A.protocol)||(A.host=A.hostname,A.port=""),A.username=A.password="",A.auth&&(D=A.auth.indexOf(":"),~D?(A.username=A.auth.slice(0,D),A.username=encodeURIComponent(decodeURIComponent(A.username)),A.password=A.auth.slice(D+1),A.password=encodeURIComponent(decodeURIComponent(A.password))):A.username=encodeURIComponent(decodeURIComponent(A.auth)),A.auth=A.password?A.username+":"+A.password:A.username),A.origin=A.protocol!=="file:"&&p(A.protocol)&&A.host?A.protocol+"//"+A.host:"null",A.href=A.toString()}function _(k,E,P){var T=this;switch(k){case"query":typeof E=="string"&&E.length&&(E=(P||t.parse)(E)),T[k]=E;break;case"port":T[k]=E,e(E,T.protocol)?E&&(T.host=T.hostname+":"+E):(T.host=T.hostname,T[k]="");break;case"hostname":T[k]=E,T.port&&(E+=":"+T.port),T.host=E;break;case"host":T[k]=E,i.test(E)?(E=E.split(":"),T.port=E.pop(),T.hostname=E.join(":")):(T.hostname=E,T.port="");break;case"protocol":T.protocol=E.toLowerCase(),T.slashes=!P;break;case"pathname":case"hash":if(E){var x=k==="pathname"?"/":"#";T[k]=E.charAt(0)!==x?x+E:E}else T[k]=E;break;case"username":case"password":T[k]=encodeURIComponent(E);break;case"auth":var U=E.indexOf(":");~U?(T.username=E.slice(0,U),T.username=encodeURIComponent(decodeURIComponent(T.username)),T.password=E.slice(U+1),T.password=encodeURIComponent(decodeURIComponent(T.password))):T.username=encodeURIComponent(decodeURIComponent(E))}for(var z=0;z<u.length;z++){var D=u[z];D[4]&&(T[D[1]]=T[D[1]].toLowerCase())}return T.auth=T.password?T.username+":"+T.password:T.username,T.origin=T.protocol!=="file:"&&p(T.protocol)&&T.host?T.protocol+"//"+T.host:"null",T.href=T.toString(),T}function S(k){(!k||typeof k!="function")&&(k=t.stringify);var E,P=this,T=P.host,x=P.protocol;x&&x.charAt(x.length-1)!==":"&&(x+=":");var U=x+(P.protocol&&P.slashes||p(P.protocol)?"//":"");return P.username?(U+=P.username,P.password&&(U+=":"+P.password),U+="@"):P.password?(U+=":"+P.password,U+="@"):P.protocol!=="file:"&&p(P.protocol)&&!T&&P.pathname!=="/"&&(U+="@"),(T[T.length-1]===":"||i.test(P.hostname)&&!P.port)&&(T+=":"),U+=T+P.pathname,E=typeof P.query=="object"?k(P.query):P.query,E&&(U+=E.charAt(0)!=="?"?"?"+E:E),P.hash&&(U+=P.hash),U}return v.prototype={set:_,toString:S},v.extractProtocol=h,v.location=f,v.trimLeft=a,v.qs=t,mo=v,mo}var ty=ey();const ny=ic(ty);function ry(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function jo(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jo=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(w,b,R){w[b]=R.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(w,b,R){return Object.defineProperty(w,b,{value:R,enumerable:!0,configurable:!0,writable:!0}),w[b]}try{u({},"")}catch(w){u=function(R,O,F){return R[O]=F}}function d(w,b,R,O){var F=b&&b.prototype instanceof S?b:S,N=Object.create(F.prototype),Z=new j(O||[]);return s(N,"_invoke",{value:K(w,R,Z)}),N}function f(w,b,R){try{return{type:"normal",arg:w.call(b,R)}}catch(O){return{type:"throw",arg:O}}}t.wrap=d;var p="suspendedStart",h="suspendedYield",$="executing",v="completed",_={};function S(){}function k(){}function E(){}var P={};u(P,o,function(){return this});var T=Object.getPrototypeOf,x=T&&T(T(L([])));x&&x!==n&&r.call(x,o)&&(P=x);var U=E.prototype=S.prototype=Object.create(P);function z(w){["next","throw","return"].forEach(function(b){u(w,b,function(R){return this._invoke(b,R)})})}function D(w,b){function R(F,N,Z,ae){var se=f(w[F],w,N);if(se.type!=="throw"){var be=se.arg,ve=be.value;return ve&&jt(ve)=="object"&&r.call(ve,"__await")?b.resolve(ve.__await).then(function(I){R("next",I,Z,ae)},function(I){R("throw",I,Z,ae)}):b.resolve(ve).then(function(I){be.value=I,Z(be)},function(I){return R("throw",I,Z,ae)})}ae(se.arg)}var O;s(this,"_invoke",{value:function(N,Z){function ae(){return new b(function(se,be){R(N,Z,se,be)})}return O=O?O.then(ae,ae):ae()}})}function K(w,b,R){var O=p;return function(F,N){if(O===$)throw Error("Generator is already running");if(O===v){if(F==="throw")throw N;return{value:e,done:!0}}for(R.method=F,R.arg=N;;){var Z=R.delegate;if(Z){var ae=Q(Z,R);if(ae){if(ae===_)continue;return ae}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(O===p)throw O=v,R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);O=$;var se=f(w,b,R);if(se.type==="normal"){if(O=R.done?v:h,se.arg===_)continue;return{value:se.arg,done:R.done}}se.type==="throw"&&(O=v,R.method="throw",R.arg=se.arg)}}}function Q(w,b){var R=b.method,O=w.iterator[R];if(O===e)return b.delegate=null,R==="throw"&&w.iterator.return&&(b.method="return",b.arg=e,Q(w,b),b.method==="throw")||R!=="return"&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+R+"' method")),_;var F=f(O,w.iterator,b.arg);if(F.type==="throw")return b.method="throw",b.arg=F.arg,b.delegate=null,_;var N=F.arg;return N?N.done?(b[w.resultName]=N.value,b.next=w.nextLoc,b.method!=="return"&&(b.method="next",b.arg=e),b.delegate=null,_):N:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,_)}function V(w){var b={tryLoc:w[0]};1 in w&&(b.catchLoc=w[1]),2 in w&&(b.finallyLoc=w[2],b.afterLoc=w[3]),this.tryEntries.push(b)}function A(w){var b=w.completion||{};b.type="normal",delete b.arg,w.completion=b}function j(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(V,this),this.reset(!0)}function L(w){if(w||w===""){var b=w[o];if(b)return b.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var R=-1,O=function F(){for(;++R<w.length;)if(r.call(w,R))return F.value=w[R],F.done=!1,F;return F.value=e,F.done=!0,F};return O.next=O}}throw new TypeError(jt(w)+" is not iterable")}return k.prototype=E,s(U,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:k,configurable:!0}),k.displayName=u(E,a,"GeneratorFunction"),t.isGeneratorFunction=function(w){var b=typeof w=="function"&&w.constructor;return!!b&&(b===k||(b.displayName||b.name)==="GeneratorFunction")},t.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,E):(w.__proto__=E,u(w,a,"GeneratorFunction")),w.prototype=Object.create(U),w},t.awrap=function(w){return{__await:w}},z(D.prototype),u(D.prototype,l,function(){return this}),t.AsyncIterator=D,t.async=function(w,b,R,O,F){F===void 0&&(F=Promise);var N=new D(d(w,b,R,O),F);return t.isGeneratorFunction(b)?N:N.next().then(function(Z){return Z.done?Z.value:N.next()})},z(U),u(U,a,"Generator"),u(U,o,function(){return this}),u(U,"toString",function(){return"[object Generator]"}),t.keys=function(w){var b=Object(w),R=[];for(var O in b)R.push(O);return R.reverse(),function F(){for(;R.length;){var N=R.pop();if(N in b)return F.value=N,F.done=!1,F}return F.done=!0,F}},t.values=L,j.prototype={constructor:j,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!b)for(var R in this)R.charAt(0)==="t"&&r.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=e)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var R=this;function O(be,ve){return Z.type="throw",Z.arg=b,R.next=be,ve&&(R.method="next",R.arg=e),!!ve}for(var F=this.tryEntries.length-1;F>=0;--F){var N=this.tryEntries[F],Z=N.completion;if(N.tryLoc==="root")return O("end");if(N.tryLoc<=this.prev){var ae=r.call(N,"catchLoc"),se=r.call(N,"finallyLoc");if(ae&&se){if(this.prev<N.catchLoc)return O(N.catchLoc,!0);if(this.prev<N.finallyLoc)return O(N.finallyLoc)}else if(ae){if(this.prev<N.catchLoc)return O(N.catchLoc,!0)}else{if(!se)throw Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return O(N.finallyLoc)}}}},abrupt:function(b,R){for(var O=this.tryEntries.length-1;O>=0;--O){var F=this.tryEntries[O];if(F.tryLoc<=this.prev&&r.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var N=F;break}}N&&(b==="break"||b==="continue")&&N.tryLoc<=R&&R<=N.finallyLoc&&(N=null);var Z=N?N.completion:{};return Z.type=b,Z.arg=R,N?(this.method="next",this.next=N.finallyLoc,_):this.complete(Z)},complete:function(b,R){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&R&&(this.next=R),_},finish:function(b){for(var R=this.tryEntries.length-1;R>=0;--R){var O=this.tryEntries[R];if(O.finallyLoc===b)return this.complete(O.completion,O.afterLoc),A(O),_}},catch:function(b){for(var R=this.tryEntries.length-1;R>=0;--R){var O=this.tryEntries[R];if(O.tryLoc===b){var F=O.completion;if(F.type==="throw"){var N=F.arg;A(O)}return N}}throw Error("illegal catch attempt")},delegateYield:function(b,R,O){return this.delegate={iterator:L(b),resultName:R,nextLoc:O},this.method==="next"&&(this.arg=e),_}},t}function Wi(e,t,n,r,s,i,o){try{var l=e[i](o),a=l.value}catch(u){n(u);return}l.done?t(a):Promise.resolve(a).then(r,s)}function oy(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(a){Wi(i,r,s,o,l,"next",a)}function l(a){Wi(i,r,s,o,l,"throw",a)}o(void 0)})}}function yu(e,t){return ay(e)||iy(e,t)||wu(e,t)||sy()}function sy(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iy(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],a=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(a=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);a=!0);}catch(d){u=!0,s=d}finally{try{if(!a&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function ay(e){if(Array.isArray(e))return e}function jt(e){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function ly(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wu(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,o=!1,l;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){o=!0,l=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}}}function wu(e,t){if(e){if(typeof e=="string")return Qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qi(e,t)}}function Qi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yi(Object(n),!0).forEach(function(r){uy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uy(e,t,n){return t=_u(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_u(r.key),r)}}function dy(e,t,n){return t&&Xi(e.prototype,t),n&&Xi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _u(e){var t=fy(e,"string");return jt(t)=="symbol"?t:t+""}function fy(e,t){if(jt(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cr="tus-v1",Tr="ietf-draft-03",Ln="ietf-draft-05",py={endpoint:null,uploadUrl:null,metadata:{},metadataForPartialUploads:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:$u,chunkSize:Number.POSITIVE_INFINITY,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null,protocol:Cr},Br=function(){function e(t,n){cy(this,e),"resume"in n&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=n,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=t,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return dy(e,[{key:"findPreviousUploads",value:function(){var n=this;return this.options.fingerprint(this.file,this.options).then(function(r){return n._urlStorage.findUploadsByFingerprint(r)})}},{key:"resumeFromPreviousUpload",value:function(n){this.url=n.uploadUrl||null,this._parallelUploadUrls=n.parallelUploadUrls||null,this._urlStorageKey=n.urlStorageKey}},{key:"start",value:function(){var n=this,r=this.file;if(!r){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(![Cr,Tr,Ln].includes(this.options.protocol)){this._emitError(new Error("tus: unsupported protocol ".concat(this.options.protocol)));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var s=this.options.retryDelays;if(s!=null&&Object.prototype.toString.call(s)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var i=0,o=["uploadUrl","uploadSize","uploadLengthDeferred"];i<o.length;i++){var l=o[i];if(this.options[l]){this._emitError(new Error("tus: cannot use the ".concat(l," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(r,this.options).then(function(a){return n._fingerprint=a,n._source?n._source:n.options.fileReader.openFile(r,n.options.chunkSize)}).then(function(a){if(n._source=a,n.options.uploadLengthDeferred)n._size=null;else if(n.options.uploadSize!=null){if(n._size=Number(n.options.uploadSize),Number.isNaN(n._size)){n._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(n._size=n._source.size,n._size==null){n._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}n.options.parallelUploads>1||n._parallelUploadUrls!=null?n._startParallelUpload():n._startSingleUpload()}).catch(function(a){n._emitError(a)})}},{key:"_startParallelUpload",value:function(){var n,r=this,s=this._size,i=0;this._parallelUploads=[];var o=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,l=(n=this.options.parallelUploadBoundaries)!==null&&n!==void 0?n:my(this._source.size,o);this._parallelUploadUrls&&l.forEach(function(d,f){d.uploadUrl=r._parallelUploadUrls[f]||null}),this._parallelUploadUrls=new Array(l.length);var a=l.map(function(d,f){var p=0;return r._source.slice(d.start,d.end).then(function(h){var $=h.value;return new Promise(function(v,_){var S=en(en({},r.options),{},{uploadUrl:d.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:r.options.metadataForPartialUploads,headers:en(en({},r.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:v,onError:_,onProgress:function(P){i=i-p+P,p=P,r._emitProgress(i,s)},onUploadUrlAvailable:function(){r._parallelUploadUrls[f]=k.url,r._parallelUploadUrls.filter(function(P){return!!P}).length===l.length&&r._saveUploadInUrlStorage()}}),k=new e($,S);k.start(),r._parallelUploads.push(k)})})}),u;Promise.all(a).then(function(){u=r._openRequest("POST",r.options.endpoint),u.setHeader("Upload-Concat","final;".concat(r._parallelUploadUrls.join(" ")));var d=Ji(r.options.metadata);return d!==""&&u.setHeader("Upload-Metadata",d),r._sendRequest(u,null)}).then(function(d){if(!nn(d.getStatus(),200)){r._emitHttpError(u,d,"tus: unexpected response while creating upload");return}var f=d.getHeader("Location");if(f==null){r._emitHttpError(u,d,"tus: invalid or missing Location header");return}r.url=na(r.options.endpoint,f),"Created upload at ".concat(r.url),r._emitSuccess(d)}).catch(function(d){r._emitError(d)})}},{key:"_startSingleUpload",value:function(){if(this._aborted=!1,this.url!=null){"Resuming upload from previous URL: ".concat(this.url),this._resumeUpload();return}if(this.options.uploadUrl!=null){"Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,this._resumeUpload();return}this._createUpload()}},{key:"abort",value:function(n){var r=this;if(this._parallelUploads!=null){var s=ly(this._parallelUploads),i;try{for(s.s();!(i=s.n()).done;){var o=i.value;o.abort(n)}}catch(l){s.e(l)}finally{s.f()}}return this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!n||this.url==null?Promise.resolve():e.terminate(this.url,this.options).then(function(){return r._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(n,r,s,i){this._emitError(new gr(s,i,n,r))}},{key:"_emitError",value:function(n){var r=this;if(!this._aborted){if(this.options.retryDelays!=null){var s=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(s&&(this._retryAttempt=0),ta(n,this._retryAttempt,this.options)){var i=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){r.start()},i);return}}if(typeof this.options.onError=="function")this.options.onError(n);else throw n}}},{key:"_emitSuccess",value:function(n){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess({lastResponse:n})}},{key:"_emitProgress",value:function(n,r){typeof this.options.onProgress=="function"&&this.options.onProgress(n,r)}},{key:"_emitChunkComplete",value:function(n,r,s){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(n,r,s)}},{key:"_createUpload",value:function(){var n=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var r=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?r.setHeader("Upload-Defer-Length","1"):r.setHeader("Upload-Length","".concat(this._size));var s=Ji(this.options.metadata);s!==""&&r.setHeader("Upload-Metadata",s);var i;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,i=this._addChunkToRequest(r)):((this.options.protocol===Tr||this.options.protocol===Ln)&&r.setHeader("Upload-Complete","?0"),i=this._sendRequest(r,null)),i.then(function(o){if(!nn(o.getStatus(),200)){n._emitHttpError(r,o,"tus: unexpected response while creating upload");return}var l=o.getHeader("Location");if(l==null){n._emitHttpError(r,o,"tus: invalid or missing Location header");return}if(n.url=na(n.options.endpoint,l),"Created upload at ".concat(n.url),typeof n.options.onUploadUrlAvailable=="function"&&n.options.onUploadUrlAvailable(),n._size===0){n._emitSuccess(o),n._source.close();return}n._saveUploadInUrlStorage().then(function(){n.options.uploadDataDuringCreation?n._handleUploadResponse(r,o):(n._offset=0,n._performUpload())})}).catch(function(o){n._emitHttpError(r,null,"tus: failed to create upload",o)})}},{key:"_resumeUpload",value:function(){var n=this,r=this._openRequest("HEAD",this.url),s=this._sendRequest(r,null);s.then(function(i){var o=i.getStatus();if(!nn(o,200)){if(o===423){n._emitHttpError(r,i,"tus: upload is currently locked; retry later");return}if(nn(o,400)&&n._removeFromUrlStorage(),!n.options.endpoint){n._emitHttpError(r,i,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}n.url=null,n._createUpload();return}var l=Number.parseInt(i.getHeader("Upload-Offset"),10);if(Number.isNaN(l)){n._emitHttpError(r,i,"tus: invalid or missing offset value");return}var a=Number.parseInt(i.getHeader("Upload-Length"),10);if(Number.isNaN(a)&&!n.options.uploadLengthDeferred&&n.options.protocol===Cr){n._emitHttpError(r,i,"tus: invalid or missing length value");return}typeof n.options.onUploadUrlAvailable=="function"&&n.options.onUploadUrlAvailable(),n._saveUploadInUrlStorage().then(function(){if(l===a){n._emitProgress(a,a),n._emitSuccess(i);return}n._offset=l,n._performUpload()})}).catch(function(i){n._emitHttpError(r,null,"tus: failed to resume upload",i)})}},{key:"_performUpload",value:function(){var n=this;if(!this._aborted){var r;this.options.overridePatchMethod?(r=this._openRequest("POST",this.url),r.setHeader("X-HTTP-Method-Override","PATCH")):r=this._openRequest("PATCH",this.url),r.setHeader("Upload-Offset","".concat(this._offset));var s=this._addChunkToRequest(r);s.then(function(i){if(!nn(i.getStatus(),200)){n._emitHttpError(r,i,"tus: unexpected response while uploading chunk");return}n._handleUploadResponse(r,i)}).catch(function(i){n._aborted||n._emitHttpError(r,null,"tus: failed to upload chunk at offset ".concat(n._offset),i)})}}},{key:"_addChunkToRequest",value:function(n){var r=this,s=this._offset,i=this._offset+this.options.chunkSize;return n.setProgressHandler(function(o){r._emitProgress(s+o,r._size)}),this.options.protocol===Cr?n.setHeader("Content-Type","application/offset+octet-stream"):this.options.protocol===Ln&&n.setHeader("Content-Type","application/partial-upload"),(i===Number.POSITIVE_INFINITY||i>this._size)&&!this.options.uploadLengthDeferred&&(i=this._size),this._source.slice(s,i).then(function(o){var l=o.value,a=o.done,u=l!=null&&l.size?l.size:0;r.options.uploadLengthDeferred&&a&&(r._size=r._offset+u,n.setHeader("Upload-Length","".concat(r._size)));var d=r._offset+u;return!r.options.uploadLengthDeferred&&a&&d!==r._size?Promise.reject(new Error("upload was configured with a size of ".concat(r._size," bytes, but the source is done after ").concat(d," bytes"))):l===null?r._sendRequest(n):((r.options.protocol===Tr||r.options.protocol===Ln)&&n.setHeader("Upload-Complete",a?"?1":"?0"),r._emitProgress(r._offset,r._size),r._sendRequest(n,l))})}},{key:"_handleUploadResponse",value:function(n,r){var s=Number.parseInt(r.getHeader("Upload-Offset"),10);if(Number.isNaN(s)){this._emitHttpError(n,r,"tus: invalid or missing offset value");return}if(this._emitProgress(s,this._size),this._emitChunkComplete(s-this._offset,s,this._size),this._offset=s,s===this._size){this._emitSuccess(r),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(n,r){var s=Zi(n,r,this.options);return this._req=s,s}},{key:"_removeFromUrlStorage",value:function(){var n=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(r){n._emitError(r)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var n=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var r={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?r.parallelUploadUrls=this._parallelUploadUrls:r.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,r).then(function(s){n._urlStorageKey=s})}},{key:"_sendRequest",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return ea(n,r,this.options)}}],[{key:"terminate",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=Zi("DELETE",n,r);return ea(s,null,r).then(function(i){if(i.getStatus()!==204)throw new gr("tus: unexpected response while terminating upload",null,s,i)}).catch(function(i){if(i instanceof gr||(i=new gr("tus: failed to terminate upload",i,s,null)),!ta(i,0,r))throw i;var o=r.retryDelays[0],l=r.retryDelays.slice(1),a=en(en({},r),{},{retryDelays:l});return new Promise(function(u){return setTimeout(u,o)}).then(function(){return e.terminate(n,a)})})}}])}();function Ji(e){return Object.entries(e).map(function(t){var n=yu(t,2),r=n[0],s=n[1];return"".concat(r," ").concat(ds.encode(String(s)))}).join(",")}function nn(e,t){return e>=t&&e<t+100}function Zi(e,t,n){var r=n.httpStack.createRequest(e,t);n.protocol===Tr?r.setHeader("Upload-Draft-Interop-Version","5"):n.protocol===Ln?r.setHeader("Upload-Draft-Interop-Version","6"):r.setHeader("Tus-Resumable","1.0.0");for(var s=n.headers||{},i=0,o=Object.entries(s);i<o.length;i++){var l=yu(o[i],2),a=l[0],u=l[1];r.setHeader(a,u)}if(n.addRequestId){var d=ry();r.setHeader("X-Request-ID",d)}return r}function ea(e,t,n){return zo.apply(this,arguments)}function zo(){return zo=oy(jo().mark(function e(t,n,r){var s;return jo().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(typeof r.onBeforeRequest!="function"){o.next=3;break}return o.next=3,r.onBeforeRequest(t);case 3:return o.next=5,t.send(n);case 5:if(s=o.sent,typeof r.onAfterResponse!="function"){o.next=9;break}return o.next=9,r.onAfterResponse(t,s);case 9:return o.abrupt("return",s);case 10:case"end":return o.stop()}},e)})),zo.apply(this,arguments)}function hy(){var e=!0;return typeof navigator<"u"&&navigator.onLine===!1&&(e=!1),e}function ta(e,t,n){return n.retryDelays==null||t>=n.retryDelays.length||e.originalRequest==null?!1:n&&typeof n.onShouldRetry=="function"?n.onShouldRetry(e,t,n):$u(e)}function $u(e){var t=e.originalResponse?e.originalResponse.getStatus():0;return(!nn(t,400)||t===409||t===423)&&hy()}function na(e,t){return new ny(t,e).toString()}function my(e,t){for(var n=Math.floor(e/t),r=[],s=0;s<t;s++)r.push({start:n*s,end:n*(s+1)});return r[t-1].end=e,r}Br.defaultOptions=py;var Su=function(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"};function vy(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(){var s=r.response;t(s)},r.onerror=function(s){n(s)},r.open("GET",e),r.send()})}var gy=function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")};function by(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){var s=new Uint8Array(r.result);t({value:s})},r.onerror=function(s){n(s)},r.readAsArrayBuffer(e)})}function rr(e){"@babel/helpers - typeof";return rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rr(e)}function yy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$y(r.key),r)}}function _y(e,t,n){return t&&wy(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $y(e){var t=Sy(e,"string");return rr(t)=="symbol"?t:t+""}function Sy(e,t){if(rr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ra=function(){function e(t){yy(this,e),this._file=t,this.size=t.size}return _y(e,[{key:"slice",value:function(n,r){if(gy())return by(this._file.slice(n,r));var s=this._file.slice(n,r),i=r>=this.size;return Promise.resolve({value:s,done:i})}},{key:"close",value:function(){}}])}();function or(e){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(e)}function Ey(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ty(r.key),r)}}function Cy(e,t,n){return t&&ky(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ty(e){var t=Py(e,"string");return or(t)=="symbol"?t:t+""}function Py(e,t){if(or(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(or(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function oa(e){return e===void 0?0:e.size!==void 0?e.size:e.length}function Ay(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}throw new Error("Unknown data type")}var Ry=function(){function e(t){Ey(this,e),this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}return Cy(e,[{key:"slice",value:function(n,r){return n<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(n,r)}},{key:"_readUntilEnoughDataOrDone",value:function(n,r){var s=this,i=r<=this._bufferOffset+oa(this._buffer);if(this._done||i){var o=this._getDataFromBuffer(n,r),l=o==null?this._done:!1;return Promise.resolve({value:o,done:l})}return this._reader.read().then(function(a){var u=a.value,d=a.done;return d?s._done=!0:s._buffer===void 0?s._buffer=u:s._buffer=Ay(s._buffer,u),s._readUntilEnoughDataOrDone(n,r)})}},{key:"_getDataFromBuffer",value:function(n,r){n>this._bufferOffset&&(this._buffer=this._buffer.slice(n-this._bufferOffset),this._bufferOffset=n);var s=oa(this._buffer)===0;return this._done&&s?null:this._buffer.slice(0,r-n)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}])}();function zt(e){"@babel/helpers - typeof";return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(e)}function Ho(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ho=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(w,b,R){w[b]=R.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(w,b,R){return Object.defineProperty(w,b,{value:R,enumerable:!0,configurable:!0,writable:!0}),w[b]}try{u({},"")}catch(w){u=function(R,O,F){return R[O]=F}}function d(w,b,R,O){var F=b&&b.prototype instanceof S?b:S,N=Object.create(F.prototype),Z=new j(O||[]);return s(N,"_invoke",{value:K(w,R,Z)}),N}function f(w,b,R){try{return{type:"normal",arg:w.call(b,R)}}catch(O){return{type:"throw",arg:O}}}t.wrap=d;var p="suspendedStart",h="suspendedYield",$="executing",v="completed",_={};function S(){}function k(){}function E(){}var P={};u(P,o,function(){return this});var T=Object.getPrototypeOf,x=T&&T(T(L([])));x&&x!==n&&r.call(x,o)&&(P=x);var U=E.prototype=S.prototype=Object.create(P);function z(w){["next","throw","return"].forEach(function(b){u(w,b,function(R){return this._invoke(b,R)})})}function D(w,b){function R(F,N,Z,ae){var se=f(w[F],w,N);if(se.type!=="throw"){var be=se.arg,ve=be.value;return ve&&zt(ve)=="object"&&r.call(ve,"__await")?b.resolve(ve.__await).then(function(I){R("next",I,Z,ae)},function(I){R("throw",I,Z,ae)}):b.resolve(ve).then(function(I){be.value=I,Z(be)},function(I){return R("throw",I,Z,ae)})}ae(se.arg)}var O;s(this,"_invoke",{value:function(N,Z){function ae(){return new b(function(se,be){R(N,Z,se,be)})}return O=O?O.then(ae,ae):ae()}})}function K(w,b,R){var O=p;return function(F,N){if(O===$)throw Error("Generator is already running");if(O===v){if(F==="throw")throw N;return{value:e,done:!0}}for(R.method=F,R.arg=N;;){var Z=R.delegate;if(Z){var ae=Q(Z,R);if(ae){if(ae===_)continue;return ae}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(O===p)throw O=v,R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);O=$;var se=f(w,b,R);if(se.type==="normal"){if(O=R.done?v:h,se.arg===_)continue;return{value:se.arg,done:R.done}}se.type==="throw"&&(O=v,R.method="throw",R.arg=se.arg)}}}function Q(w,b){var R=b.method,O=w.iterator[R];if(O===e)return b.delegate=null,R==="throw"&&w.iterator.return&&(b.method="return",b.arg=e,Q(w,b),b.method==="throw")||R!=="return"&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+R+"' method")),_;var F=f(O,w.iterator,b.arg);if(F.type==="throw")return b.method="throw",b.arg=F.arg,b.delegate=null,_;var N=F.arg;return N?N.done?(b[w.resultName]=N.value,b.next=w.nextLoc,b.method!=="return"&&(b.method="next",b.arg=e),b.delegate=null,_):N:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,_)}function V(w){var b={tryLoc:w[0]};1 in w&&(b.catchLoc=w[1]),2 in w&&(b.finallyLoc=w[2],b.afterLoc=w[3]),this.tryEntries.push(b)}function A(w){var b=w.completion||{};b.type="normal",delete b.arg,w.completion=b}function j(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(V,this),this.reset(!0)}function L(w){if(w||w===""){var b=w[o];if(b)return b.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var R=-1,O=function F(){for(;++R<w.length;)if(r.call(w,R))return F.value=w[R],F.done=!1,F;return F.value=e,F.done=!0,F};return O.next=O}}throw new TypeError(zt(w)+" is not iterable")}return k.prototype=E,s(U,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:k,configurable:!0}),k.displayName=u(E,a,"GeneratorFunction"),t.isGeneratorFunction=function(w){var b=typeof w=="function"&&w.constructor;return!!b&&(b===k||(b.displayName||b.name)==="GeneratorFunction")},t.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,E):(w.__proto__=E,u(w,a,"GeneratorFunction")),w.prototype=Object.create(U),w},t.awrap=function(w){return{__await:w}},z(D.prototype),u(D.prototype,l,function(){return this}),t.AsyncIterator=D,t.async=function(w,b,R,O,F){F===void 0&&(F=Promise);var N=new D(d(w,b,R,O),F);return t.isGeneratorFunction(b)?N:N.next().then(function(Z){return Z.done?Z.value:N.next()})},z(U),u(U,a,"Generator"),u(U,o,function(){return this}),u(U,"toString",function(){return"[object Generator]"}),t.keys=function(w){var b=Object(w),R=[];for(var O in b)R.push(O);return R.reverse(),function F(){for(;R.length;){var N=R.pop();if(N in b)return F.value=N,F.done=!1,F}return F.done=!0,F}},t.values=L,j.prototype={constructor:j,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!b)for(var R in this)R.charAt(0)==="t"&&r.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=e)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var R=this;function O(be,ve){return Z.type="throw",Z.arg=b,R.next=be,ve&&(R.method="next",R.arg=e),!!ve}for(var F=this.tryEntries.length-1;F>=0;--F){var N=this.tryEntries[F],Z=N.completion;if(N.tryLoc==="root")return O("end");if(N.tryLoc<=this.prev){var ae=r.call(N,"catchLoc"),se=r.call(N,"finallyLoc");if(ae&&se){if(this.prev<N.catchLoc)return O(N.catchLoc,!0);if(this.prev<N.finallyLoc)return O(N.finallyLoc)}else if(ae){if(this.prev<N.catchLoc)return O(N.catchLoc,!0)}else{if(!se)throw Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return O(N.finallyLoc)}}}},abrupt:function(b,R){for(var O=this.tryEntries.length-1;O>=0;--O){var F=this.tryEntries[O];if(F.tryLoc<=this.prev&&r.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var N=F;break}}N&&(b==="break"||b==="continue")&&N.tryLoc<=R&&R<=N.finallyLoc&&(N=null);var Z=N?N.completion:{};return Z.type=b,Z.arg=R,N?(this.method="next",this.next=N.finallyLoc,_):this.complete(Z)},complete:function(b,R){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&R&&(this.next=R),_},finish:function(b){for(var R=this.tryEntries.length-1;R>=0;--R){var O=this.tryEntries[R];if(O.finallyLoc===b)return this.complete(O.completion,O.afterLoc),A(O),_}},catch:function(b){for(var R=this.tryEntries.length-1;R>=0;--R){var O=this.tryEntries[R];if(O.tryLoc===b){var F=O.completion;if(F.type==="throw"){var N=F.arg;A(O)}return N}}throw Error("illegal catch attempt")},delegateYield:function(b,R,O){return this.delegate={iterator:L(b),resultName:R,nextLoc:O},this.method==="next"&&(this.arg=e),_}},t}function sa(e,t,n,r,s,i,o){try{var l=e[i](o),a=l.value}catch(u){n(u);return}l.done?t(a):Promise.resolve(a).then(r,s)}function Oy(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(a){sa(i,r,s,o,l,"next",a)}function l(a){sa(i,r,s,o,l,"throw",a)}o(void 0)})}}function Dy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iy(r.key),r)}}function Ly(e,t,n){return t&&Uy(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iy(e){var t=xy(e,"string");return zt(t)=="symbol"?t:t+""}function xy(e,t){if(zt(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var By=function(){function e(){Dy(this,e)}return Ly(e,[{key:"openFile",value:function(){var t=Oy(Ho().mark(function r(s,i){var o;return Ho().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(Su()&&s&&typeof s.uri<"u")){a.next=11;break}return a.prev=1,a.next=4,vy(s.uri);case 4:return o=a.sent,a.abrupt("return",new ra(o));case 8:throw a.prev=8,a.t0=a.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(a.t0));case 11:if(!(typeof s.slice=="function"&&typeof s.size<"u")){a.next=13;break}return a.abrupt("return",Promise.resolve(new ra(s)));case 13:if(typeof s.read!="function"){a.next=18;break}if(i=Number(i),Number.isFinite(i)){a.next=17;break}return a.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return a.abrupt("return",Promise.resolve(new Ry(s,i)));case 18:return a.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return a.stop()}},r,null,[[1,8]])}));function n(r,s){return t.apply(this,arguments)}return n}()}])}();function Ny(e,t){return Su()?Promise.resolve(My(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}function My(e,t){var n=e.exif?Fy(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",n,t.endpoint].join("/")}function Fy(e){var t=0;if(e.length===0)return t;for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t}function sr(e){"@babel/helpers - typeof";return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(e)}function fs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zy(r.key),r)}}function ps(e,t,n){return t&&jy(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zy(e){var t=Hy(e,"string");return sr(t)=="symbol"?t:t+""}function Hy(e,t){if(sr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qy=function(){function e(){fs(this,e)}return ps(e,[{key:"createRequest",value:function(n,r){return new Vy(n,r)}},{key:"getName",value:function(){return"XHRHttpStack"}}])}(),Vy=function(){function e(t,n){fs(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,n,!0),this._method=t,this._url=n,this._headers={}}return ps(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(n,r){this._xhr.setRequestHeader(n,r),this._headers[n]=r}},{key:"getHeader",value:function(n){return this._headers[n]}},{key:"setProgressHandler",value:function(n){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(r){r.lengthComputable&&n(r.loaded)})}},{key:"send",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(s,i){n._xhr.onload=function(){s(new Gy(n._xhr))},n._xhr.onerror=function(o){i(o)},n._xhr.send(r)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}])}(),Gy=function(){function e(t){fs(this,e),this._xhr=t}return ps(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(n){return this._xhr.getResponseHeader(n)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}])}();function ir(e){"@babel/helpers - typeof";return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(e)}function Ky(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yy(r.key),r)}}function Qy(e,t,n){return t&&Wy(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yy(e){var t=Xy(e,"string");return ir(t)=="symbol"?t:t+""}function Xy(e,t){if(ir(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ir(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qo=!1;try{qo="localStorage"in window;var vo="tusSupport",ia=localStorage.getItem(vo);localStorage.setItem(vo,ia),ia===null&&localStorage.removeItem(vo)}catch(e){if(e.code===e.SECURITY_ERR||e.code===e.QUOTA_EXCEEDED_ERR)qo=!1;else throw e}var Jy=qo,Zy=function(){function e(){Ky(this,e)}return Qy(e,[{key:"findAllUploads",value:function(){var n=this._findEntries("tus::");return Promise.resolve(n)}},{key:"findUploadsByFingerprint",value:function(n){var r=this._findEntries("tus::".concat(n,"::"));return Promise.resolve(r)}},{key:"removeUpload",value:function(n){return localStorage.removeItem(n),Promise.resolve()}},{key:"addUpload",value:function(n,r){var s=Math.round(Math.random()*1e12),i="tus::".concat(n,"::").concat(s);return localStorage.setItem(i,JSON.stringify(r)),Promise.resolve(i)}},{key:"_findEntries",value:function(n){for(var r=[],s=0;s<localStorage.length;s++){var i=localStorage.key(s);if(i.indexOf(n)===0)try{var o=JSON.parse(localStorage.getItem(i));o.urlStorageKey=i,r.push(o)}catch(l){}}return r}}])}();function hn(e){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(e)}function e0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ku(r.key),r)}}function n0(e,t,n){return n&&t0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r0(e,t,n){return t=Nr(t),o0(e,Eu()?Reflect.construct(t,n||[],Nr(e).constructor):t.apply(e,n))}function o0(e,t){if(t&&(hn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s0(e)}function s0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Eu=function(){return!!e})()}function Nr(e){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nr(e)}function i0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vo(e,t)}function Vo(e,t){return Vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Vo(e,t)}function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aa(Object(n),!0).forEach(function(r){a0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a0(e,t,n){return t=ku(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ku(e){var t=l0(e,"string");return hn(t)=="symbol"?t:t+""}function l0(e,t){if(hn(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var la=rn(rn({},Br.defaultOptions),{},{httpStack:new qy,fileReader:new By,urlStorage:Jy?new Zy:new jb,fingerprint:Ny}),u0=function(e){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e0(this,t),r=rn(rn({},la),r),r0(this,t,[n,r])}return i0(t,e),n0(t,null,[{key:"terminate",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s=rn(rn({},la),s),Br.terminate(r,s)}}])}(Br),c0=typeof XMLHttpRequest=="function"&&typeof Blob=="function"&&typeof Blob.prototype.slice=="function";const d0=1e3,ua=2e4,f0=1e3,Cu=.2,p0=1-Cu,h0=5,m0=1024*1024,ze={};async function v0(e,t="",n=!1,r){if(!eo)throw new Error("Tus.io settings are not defined");e=We(e);const s="".concat(gc).concat(e,"?override=").concat(n);await g0(s);const i=Le();return t===""?!1:new Promise((o,l)=>{const a=new u0(t,{uploadUrl:"".concat(ot).concat(s),chunkSize:eo.chunkSize,retryDelays:b0(eo),parallelUploads:1,storeFingerprintForResuming:!1,headers:{"X-Auth":i.jwt},onError:function(u){ze[e].interval&&clearInterval(ze[e].interval),delete ze[e],l(new Error("Upload failed: ".concat(u.message)))},onProgress:function(u){const d=ze[e];d.currentBytesUploaded=u,d.hasStarted||(d.hasStarted=!0,d.lastProgressTimestamp=Date.now(),d.interval=window.setInterval(()=>{S0(e)},f0)),typeof r=="function"&&r({loaded:u})},onSuccess:function(){ze[e].interval&&clearInterval(ze[e].interval),delete ze[e],o()}});ze[e]={upload:a,recentSpeeds:[],initialBytesUploaded:0,currentBytesUploaded:0,currentAverageSpeed:0,lastProgressTimestamp:null,sumOfRecentSpeeds:0,hasStarted:!1,interval:void 0},a.start()})}async function g0(e){const t=await Je(e,{method:"POST"});if(t.status!==201)throw new Error("Failed to create an upload: ".concat(t.status," ").concat(t.statusText))}function b0(e){if(!e.retryCount||e.retryCount<1)return;const t=[];let n=0;for(let r=0;r<e.retryCount;r++)t.push(Math.min(n,ua)),n=n===0?d0:Math.min(n*2,ua);return t}async function y0(e){return w0()&&e instanceof Blob}function w0(){return c0===!0}function _0(e,t){if(e.speedMbyte===0)return 1/0;const n=e.sizes.reduce((o,l)=>o+l,0),r=e.progress.reduce((o,l)=>typeof l=="number"?o+l:o,0),s=n-r,i=(t!=null?t:e.speedMbyte)*1024*1024;return s/i}function $0(){const e=Ht();let t=0,n=0;for(const i in ze)t+=ze[i].currentAverageSpeed,n++;if(n===0)return{speed:0,eta:1/0};const r=t/n,s=_0(e,r);return{speed:r,eta:s}}function S0(e){var u,d;const t=Ht(),n=ze[e],r=(Date.now()-((u=n.lastProgressTimestamp)!=null?u:0))/1e3,i=(n.currentBytesUploaded-n.initialBytesUploaded)/m0/r;n.recentSpeeds.length>=h0&&(n.sumOfRecentSpeeds-=(d=n.recentSpeeds.shift())!=null?d:0),n.recentSpeeds.push(i),n.sumOfRecentSpeeds+=i;const o=n.sumOfRecentSpeeds/n.recentSpeeds.length;n.currentAverageSpeed=Cu*o+p0*n.currentAverageSpeed;const{speed:l,eta:a}=$0();t.setUploadSpeed(l),t.setETA(a),n.initialBytesUploaded=n.currentBytesUploaded,n.lastProgressTimestamp=Date.now()}function E0(){for(const e in ze)ze[e].interval&&clearInterval(ze[e].interval),ze[e].upload&&ze[e].upload.abort(!0),delete ze[e]}async function Qt(e){e=We(e);const n=await(await Je("/api/resources".concat(e),{})).json();return n.url="/files".concat(e),n.isDir&&(n.url.endsWith("/")||(n.url+="/"),n.items=n.items.map((r,s)=>(r.index=s,r.url="".concat(n.url).concat(encodeURIComponent(r.name)),r.isDir&&(r.url+="/"),r))),n}async function Yt(e,t,n){e=We(e);const r={method:t};return n&&(r.body=n),await Je("/api/resources".concat(e),r)}async function ca(e,t=!0){return Yt("".concat(e,"?skip_trash=").concat(t),"DELETE")}async function _T(e,t=""){return Yt(e,"PUT",t)}function Mr(e,...t){let n="".concat(ot,"/api/raw");if(t.length===1)n+=We(t[0])+"?";else{let s="";for(const i of t)s+=We(i)+",";s=s.substring(0,s.length-1),s=encodeURIComponent(s),n+="/?files=".concat(s,"&")}e&&(n+="algo=".concat(e,"&"));const r=Le();r.jwt&&(n+="auth=".concat(r.jwt,"&")),window.open(n)}async function ar(e,t="",n=!1,r=()=>{}){return e.endsWith("/")||t instanceof Blob&&!["http:","https:"].includes(window.location.protocol)||!await y0(t)?k0(e,t,n,r):v0(e,t,n,r)}async function k0(e,t="",n=!1,r){e=We(e);let s;t instanceof Blob&&!["http:","https:"].includes(window.location.protocol)&&(s=await new Response(t).arrayBuffer());const i=Le();return new Promise((o,l)=>{const a=new XMLHttpRequest;a.open("POST","".concat(ot,"/api/resources").concat(e,"?override=").concat(n),!0),a.setRequestHeader("X-Auth",i.jwt),typeof r=="function"&&(a.upload.onprogress=r),a.onload=()=>{a.status===200?o(a.responseText):a.status===409?l(a.status):l(a.responseText)},a.onerror=()=>{l(new Error("001 Connection aborted"))},a.send(s||t)})}function Tu(e,t=!1,n=!1,r=!1){var o;const s=ue(),i=[];for(const l of e){const a=l.from,u=encodeURIComponent(We((o=l.to)!=null?o:"")),d="".concat(a,"?action=").concat(t?"copy":"rename","&destination=").concat(u,"&override=").concat(n,"&rename=").concat(r);i.push(Yt(d,"PATCH"))}return s.closeHovers(),Promise.all(i)}function Xr(e,t=!1,n=!1){return Tu(e,!1,t,n)}function Pu(e,t=!1,n=!1){return Tu(e,!0,t,n)}async function C0(e,t){return(await(await Yt("".concat(e,"?checksum=").concat(t),"GET")).json()).checksums[t]}async function Au(e){return await(await Yt("".concat(e,"?disk_usage=true"),"GET")).json()}async function T0(e,t,n,...r){let s="";for(const i of r)s+=i+",";return s=s.substring(0,s.length-1),s=encodeURIComponent(s),e+="?files=".concat(s,"&"),e+="name=".concat(encodeURIComponent(t),"&"),n&&(e+="algo=".concat(n,"&")),ar(e)}async function P0(e,t,n){const r=We(t),i="".concat(e,"?action=").concat("unarchive","&destination=").concat(r,"&override=").concat(n);return Yt(i,"PATCH")}async function A0(e,t,n,r){let i="".concat(e,"?action=").concat("chmod","&permissions=").concat(t,"&recursive=").concat(n);return n&&(i+="&type=".concat(r)),Yt(i,"PATCH")}function $T(e,t){const n={inline:"true"};return cr("api/raw"+e.path,n)}function R0(e,t){const n={inline:"true",key:Date.parse(e.modified)};return cr("api/preview/"+t+e.path,n)}function ST(e){var n;const t={inline:"true"};return(n=e.subtitles)==null?void 0:n.map(r=>cr("api/subtitle"+r,t))}async function da(e){return e=We(e),await(await Je("/api/usage".concat(e),{})).json()}async function O0(){return Wt("/api/shares")}async function D0(e){return e=We(e),Wt("/api/share".concat(e))}async function Ru(e){await Je("/api/share/".concat(e),{method:"DELETE"})}async function fa(e,t="",n="",r="hours"){e=We(e),e="/api/share".concat(e),n!==""&&(e+="?expires=".concat(n,"&unit=").concat(r));let s="{}";return(t!=""||n!==""||r!=="hours")&&(s=JSON.stringify({password:t,expires:n.toString(),unit:r})),Wt(e,{method:"POST",body:s})}function Ou(e){return cr("share/"+e.hash,{},!1)}async function Du(){return Wt("/api/users",{})}async function U0(e){return Wt("/api/users/".concat(e),{})}async function L0(e){const t=await Je("/api/users",{method:"POST",body:JSON.stringify({what:"user",which:[],data:e})});if(t.status===201)return t.headers.get("Location");throw new wt(await t.text(),t.status)}async function lr(e,t=["all"]){await Je("/api/users/".concat(e.id),{method:"PUT",body:JSON.stringify({what:"user",which:t,data:e})})}async function I0(e){await Je("/api/users/".concat(e),{method:"DELETE"})}async function x0(){return await Wt("/api/quota",{method:"GET"})}function Uu(){return Wt("/api/settings",{})}async function B0(e){await Je("/api/settings",{method:"PUT",body:JSON.stringify(e)})}async function N0(e,t=""){e=We(e);const r=await(await Je("/api/public/share".concat(e),{headers:{"X-SHARE-PASSWORD":encodeURIComponent(t)}},!1)).json();return r.url="/share".concat(e),r.isDir&&(r.url.endsWith("/")||(r.url+="/"),r.items=r.items.map((s,i)=>(s.index=i,s.url="".concat(r.url).concat(encodeURIComponent(s.name)),s.isDir&&(s.url+="/"),s))),r}function pa(e,t,n,...r){let s="".concat(ot,"/api/public/dl/").concat(t);if(r.length===1)s+=encodeURIComponent(r[0])+"?";else{let i="";for(const o of r)i+=encodeURIComponent(o)+",";i=i.substring(0,i.length-1),i=encodeURIComponent(i),s+="/?files=".concat(i,"&")}e&&(s+="algo=".concat(e,"&")),n&&(s+="token=".concat(n,"&")),window.open(s)}function Pr(e,t=!1){const n={...t&&{inline:"true"},...e.token&&{token:e.token}};return cr("api/public/dl/"+e.hash+e.path,n,!1)}async function M0(e,t){e=We(e),t=encodeURIComponent(t),e.endsWith("/")||(e+="/");let r=await(await Je("/api/search".concat(e,"?query=").concat(t),{})).json();return r=r.map(s=>(s.url="/files".concat(e)+rt.encodePath(s.path),s.dir&&(s.url+="/"),s)),r}const F0=window.location.protocol==="https:",j0=F0?"wss:":"ws:";function z0(e,t,n,r){const s=Le();e=We(e),e="".concat(j0,"//").concat(window.location.host).concat(ot,"/api/command").concat(e,"?auth=").concat(s.jwt);const i=new window.WebSocket(e);i.onopen=()=>i.send(t),i.onmessage=n,i.onclose=r}function H0(e){const t=document.querySelector("#".concat(e,"-button > i"));if(t==null){console.log("Error getting button "+e);return}t.innerHTML=="autorenew"||t.innerHTML=="done"||(t.dataset.icon=t.innerHTML,t.style.opacity="0",setTimeout(()=>{t&&(t.classList.add("spin"),t.innerHTML="autorenew",t.style.opacity="1")},100))}function q0(e){const t=document.querySelector("#".concat(e,"-button > i"));if(t==null){console.log("Error getting button "+e);return}t.style.opacity="0",setTimeout(()=>{var n;t!==null&&(t.classList.remove("spin"),t.innerHTML=((n=t==null?void 0:t.dataset)==null?void 0:n.icon)||"",t.style.opacity="1")},100)}function V0(e){const t=document.querySelector("#".concat(e,"-button > i"));if(t==null){console.log("Error getting button "+e);return}t.style.opacity="0",setTimeout(()=>{t!==null&&(t.classList.remove("spin"),t.innerHTML="done",t.style.opacity="1"),setTimeout(()=>{t&&(t.style.opacity="0"),setTimeout(()=>{var n;t!==null&&(t.innerHTML=((n=t==null?void 0:t.dataset)==null?void 0:n.icon)||"",t.style.opacity="1")},100)},500)},100)}const Me={loading:H0,done:q0,success:V0},G0=5,ha=e=>{e.preventDefault()};function ma(e){if(e===0)return"0.00 Bytes";const t=1024,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(t));return(e/t**r).toFixed(2)+" "+n[r]}const Ht=Vt("upload",{state:()=>({id:0,sizes:[],progress:[],queue:[],uploads:{},speedMbyte:0,eta:0,error:null}),getters:{getProgress:e=>{if(e.progress.length===0)return 0;const t=e.sizes.reduce((r,s)=>r+s,0),n=e.progress.reduce((r,s)=>+r+ +s);return Math.ceil(n/t*100)},getProgressDecimal:e=>{if(e.progress.length===0)return 0;const t=e.sizes.reduce((r,s)=>r+s,0);return(e.progress.reduce((r,s)=>+r+ +s)/t*100).toFixed(2)},getTotalProgressBytes:e=>{if(e.progress.length===0||e.sizes.length===0)return"0 Bytes";const t=e.progress.reduce((n,r)=>+n+ +r,0);return ma(t)},getTotalSize:e=>{if(e.sizes.length===0)return"0 Bytes";const t=e.sizes.reduce((n,r)=>n+r,0);return ma(t)},filesInUploadCount:e=>Object.keys(e.uploads).length+e.queue.length,filesInUpload:e=>{const t=[];for(const n in e.uploads){const r=e.uploads[n],s=r.id,i=r.type,o=r.file.name,l=e.sizes[s],a=r.file.isDir,u=a?100:Math.ceil(e.progress[s]/l*100);t.push({id:s,name:o,progress:u,type:i,isDir:a})}return t.sort((n,r)=>n.progress-r.progress)},uploadSpeed:e=>e.speedMbyte,getETA:e=>e.eta},actions:{setProgress({id:e,loaded:t}){this.progress[e]=t},setError(e){this.error=e},reset(){this.id=0,this.sizes=[],this.progress=[],this.queue=[],this.uploads={},this.speedMbyte=0,this.eta=0,this.error=null},addJob(e){this.queue.push(e),this.sizes[this.id]=e.file.size,this.id++},moveJob(){const e=this.queue[0];this.queue.shift(),this.uploads[e.id]=e},removeJob(e){delete this.uploads[e]},upload(e){const t=Object.keys(this.uploads).length,n=this.queue.length==0,r=t==0;n&&r&&(window.addEventListener("beforeunload",ha),Me.loading("upload")),this.addJob(e),this.processUploads()},finishUpload(e){this.setProgress({id:e.id,loaded:e.file.size>0}),this.removeJob(e.id),this.processUploads()},async processUploads(){const e=Object.keys(this.uploads).length,t=e<G0,n=this.queue.length==0,r=e==0,s=n&&r,i=t&&!n;if(s){const o=Ee();window.removeEventListener("beforeunload",ha),Me.success("upload"),this.reset(),o.reload=!0}if(i){const o=this.queue[0];if(this.moveJob(),o.file.isDir)await ar(o.path).catch(this.setError);else{const l=Zn(a=>this.setProgress({id:o.id,loaded:a.loaded}),100,{leading:!0,trailing:!1});await ar(o.path,o.file.file,o.overwrite,l).catch(this.setError)}this.finishUpload(o)}},setUploadSpeed(e){this.speedMbyte=e},setETA(e){this.eta=e},clearUpload(){this.$reset()}}}),hs=Vt("context-menu",{state:()=>({position:null}),actions:{show(e,t){this.position={x:e,y:t}},hide(){this.position=null}}}),Xt=Vt("quota",{state:()=>({quota:null}),actions:{async fetchQuota(e=0){Ia&&setTimeout(async()=>{try{const t=await x0();t!==null&&t.inodes!=null&&t.space!=null&&(this.quota=t)}catch(t){console.log(t)}},e)}}});/**
 * filesize
 *
 * @copyright 2024 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.1.6
 */const K0="array",W0="bit",va="bits",Q0="byte",ga="bytes",mt="",Y0="exponent",X0="function",ba="iec",J0="Invalid number",Z0="Invalid rounding method",go="jedec",ew="object",ya=".",Lu="round",tw="s",nw="si",rw="kbit",ow="kB",Iu=" ",xu="string",sw="0",bo={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function iw(e,{bits:t=!1,pad:n=!1,base:r=-1,round:s=2,locale:i=mt,localeOptions:o={},separator:l=mt,spacer:a=Iu,symbols:u={},standard:d=mt,output:f=xu,fullform:p=!1,fullforms:h=[],exponent:$=-1,roundingMethod:v=Lu,precision:_=0}={}){let S=$,k=Number(e),E=[],P=0,T=mt;d===nw?(r=10,d=go):d===ba||d===go?r=2:r===2?d=ba:(r=10,d=go);const x=r===10?1e3:1024,U=p===!0,z=k<0,D=Math[v];if(typeof e!="bigint"&&isNaN(e))throw new TypeError(J0);if(typeof D!==X0)throw new TypeError(Z0);if(z&&(k=-k),(S===-1||isNaN(S))&&(S=Math.floor(Math.log(k)/Math.log(x)),S<0&&(S=0)),S>8&&(_>0&&(_+=8-S),S=8),f===Y0)return S;if(k===0)E[0]=0,T=E[1]=bo.symbol[d][t?va:ga][S];else{P=k/(r===2?Math.pow(2,S*10):Math.pow(1e3,S)),t&&(P=P*8,P>=x&&S<8&&(P=P/x,S++));const K=Math.pow(10,S>0?s:0);E[0]=D(P*K)/K,E[0]===x&&S<8&&$===-1&&(E[0]=1,S++),T=E[1]=r===10&&S===1?t?rw:ow:bo.symbol[d][t?va:ga][S]}if(z&&(E[0]=-E[0]),_>0&&(E[0]=E[0].toPrecision(_)),E[1]=u[E[1]]||E[1],i===!0?E[0]=E[0].toLocaleString():i.length>0?E[0]=E[0].toLocaleString(i,o):l.length>0&&(E[0]=E[0].toString().replace(ya,l)),n&&s>0){const K=E[0].toString(),Q=l||(K.match(/(\D)/g)||[]).pop()||ya,V=K.toString().split(Q),A=V[1]||mt,j=A.length,L=s-j;E[0]="".concat(V[0]).concat(Q).concat(A.padEnd(j+L,sw))}return U&&(E[1]=h[S]?h[S]:bo.fullform[d][S]+(t?W0:Q0)+(E[0]===1?mt:tw)),f===K0?E:f===ew?{value:E[0],symbol:E[1],exponent:S,unit:T}:E.join(a)}function aw({bits:e=!1,pad:t=!1,base:n=-1,round:r=2,locale:s=mt,localeOptions:i={},separator:o=mt,spacer:l=Iu,symbols:a={},standard:u=mt,output:d=xu,fullform:f=!1,fullforms:p=[],exponent:h=-1,roundingMethod:$=Lu,precision:v=0}={}){return _=>iw(_,{bits:e,pad:t,base:n,round:r,locale:s,localeOptions:i,separator:o,spacer:l,symbols:a,standard:u,output:d,fullform:f,fullforms:p,exponent:h,roundingMethod:$,precision:v})}const Pt=aw({base:2}),De=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},yo=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},lw={name:"progress-bar",props:{val:{default:0},max:{default:100},size:{default:3},"bg-color":{type:String,default:"#eee"},"bar-color":{type:String,default:"#2196f3"},"bar-transition":{type:String,default:"all 0.5s ease"},"bar-border-radius":{type:Number,default:0},spacing:{type:Number,default:4},text:{type:String,default:""},"text-align":{type:String,default:"center"},"text-position":{type:String,default:"bottom"},"font-size":{type:Number,default:13},"text-fg-color":{type:String,default:"#222"}},computed:{pct(){let e=this.val/this.max*100;return e=e.toFixed(2),Math.min(e,this.max)},size_px(){switch(this.size){case"tiny":return 2;case"small":return 4;case"medium":return 8;case"large":return 12;case"big":return 16;case"huge":return 32;case"massive":return 64}return yo(this.size)?this.size:32},text_padding(){switch(this.size){case"tiny":case"small":case"medium":case"large":case"big":case"huge":case"massive":return Math.min(Math.max(Math.ceil(this.size_px/8),3),12)}return yo(this.spacing)?this.spacing:4},text_font_size(){switch(this.size){case"tiny":case"small":case"medium":case"large":case"big":case"huge":case"massive":return Math.min(Math.max(Math.ceil(this.size_px*1.4),11),32)}return yo(this.fontSize)?this.fontSize:13},progress_style(){const e={background:this.bgColor};return(this.textPosition=="middle"||this.textPosition=="inside")&&(e.position="relative",e["min-height"]=this.size_px+"px",e["z-index"]="-2"),this.barBorderRadius>0&&(e["border-radius"]=this.barBorderRadius+"px"),e},bar_style(){const e={background:this.barColor,width:this.pct+"%",height:this.size_px+"px",transition:this.barTransition};return this.barBorderRadius>0&&(e["border-radius"]=this.barBorderRadius+"px"),(this.textPosition=="middle"||this.textPosition=="inside")&&(e.position="absolute",e.top="0",e.height="100%",e["min-height"]=this.size_px+"px",e["z-index"]="-1"),e},text_style(){const e={color:this.textFgColor,"font-size":this.text_font_size+"px","text-align":this.textAlign};return(this.textPosition=="top"||this.textPosition=="middle"||this.textPosition=="inside")&&(e["padding-bottom"]=this.text_padding+"px"),(this.textPosition=="bottom"||this.textPosition=="middle"||this.textPosition=="inside")&&(e["padding-top"]=this.text_padding+"px"),e}}};function uw(e,t,n,r,s,i){return y(),C("div",null,[n.text.length>0&&e.textPosition=="top"?(y(),C("div",{key:0,class:"vue-simple-progress-text",style:Ve(i.text_style)},g(n.text),5)):B("",!0),c("div",{class:"vue-simple-progress",style:Ve(i.progress_style)},[n.text.length>0&&e.textPosition=="middle"?(y(),C("div",{key:0,class:"vue-simple-progress-text",style:Ve(i.text_style)},g(n.text),5)):B("",!0),n.text.length>0&&e.textPosition=="inside"?(y(),C("div",{key:1,style:Ve([{position:"relative",left:"-9999px"},i.text_style])},g(n.text),5)):B("",!0),c("div",{class:"vue-simple-progress-bar",style:Ve(i.bar_style)},[n.text.length>0&&e.textPosition=="inside"?(y(),C("div",{key:0,style:Ve(i.text_style)},g(n.text),5)):B("",!0)],4)],4),n.text.length>0&&e.textPosition=="bottom"?(y(),C("div",{key:1,class:"vue-simple-progress-text",style:Ve(i.text_style)},g(n.text),5)):B("",!0)])}const Go=De(lw,[["render",uw]]),cw={id:"quota"},dw={class:"quota-label"},fw={key:0,class:"quota-metric"},pw={class:"quota-label"},hw={key:0,class:"quota-metric"},mw=ie({__name:"Quota",setup(e){const t=Xt(),{t:n}=ke(),r=W(()=>t.quota?t.quota.inodes!==null&&t.quota.space!==null:!1),s=W(()=>t.quota&&t.quota.space!==null?a(t.quota.space):0),i=W(()=>t.quota&&t.quota.inodes!==null?a(t.quota.inodes):0),o=W(()=>t.quota?Pt(t.quota.space.usage)+" / "+Pt(t.quota.space.quota):"- / -"),l=W(()=>t.quota?t.quota.inodes.usage+" / "+t.quota.inodes.quota:"- / -"),a=u=>{let d=u.usage/u.quota*100;return d=Math.round((d+Number.EPSILON)*100)/100,Math.min(d,100)};return Oe(()=>{t.fetchQuota()}),(u,d)=>(y(),C("div",cw,[c("div",null,[c("div",dw,g(m(n)("sidebar.quota.space")),1),d[0]||(d[0]=c("br",null,null,-1)),ne(Go,{val:s.value,size:"small",text:s.value+"%"},null,8,["val","text"]),r.value?(y(),C("div",fw,g(o.value),1)):B("",!0)]),d[2]||(d[2]=c("br",null,null,-1)),c("div",null,[c("div",pw,g(m(n)("sidebar.quota.inodes")),1),d[1]||(d[1]=c("br",null,null,-1)),ne(Go,{val:i.value,size:"small",text:i.value+"%"},null,8,["val","text"]),r.value?(y(),C("div",hw,g(l.value),1)):B("",!0)])]))}}),vw=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],gw=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],bw=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],yw=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],wa=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function wr(e,t){if(!Number.isFinite(e))throw new TypeError("Expected a finite number, got ".concat(typeof e,": ").concat(e));t={bits:!1,binary:!1,space:!0,...t};const n=t.bits?t.binary?yw:bw:t.binary?gw:vw,r=t.space?" ":"";if(t.signed&&e===0)return" 0".concat(r).concat(n[0]);const s=e<0,i=s?"-":t.signed?"+":"";s&&(e=-e);let o;if(t.minimumFractionDigits!==void 0&&(o={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(o={maximumFractionDigits:t.maximumFractionDigits,...o}),e<1){const d=wa(e,t.locale,o);return i+d+r+n[0]}const l=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),n.length-1);e/=(t.binary?1024:1e3)**l,o||(e=e.toPrecision(3));const a=wa(Number(e),t.locale,o),u=n[l];return i+a+r+u}const _a={used:"0 B",total:"0 B",usedPercentage:0},ww={name:"sidebar",setup(){return{usage:ct(_a)}},components:{Quota:mw,ProgressBar:Go},inject:["$showError"],computed:{...Fe(Le,["user","isLoggedIn"]),...Fe(Ee,["isFiles","reload"]),...Fe(ue,["currentPromptName"]),active(){return this.currentPromptName==="sidebar"},signup:()=>Ua,version:()=>pc,disableExternal:()=>Da,disableUsedPercentage:()=>cc,canLogout:()=>!xa&&Ba,tmpDir:()=>hc,trashDir:()=>An,quotaExists:()=>Ia,authLogoutURL:()=>mc},asyncComputed:{usage:{async get(){const e=this.$route.path.endsWith("/")?this.$route.path:this.$route.path+"/";let t={used:0,total:0,usedPercentage:0};if(this.disableUsedPercentage)return t;try{const n=await da(e);t={used:wr(n.used,{binary:!0}),total:wr(n.total,{binary:!0}),usedPercentage:Math.round(n.used/n.total*100)}}catch(n){this.$showError(n)}return t},default:{used:"0 B",total:"0 B",usedPercentage:0},shouldUpdate(){return this.$router.currentRoute.path.includes("/files/")}}},methods:{...He(ue,["closeHovers","showHover"]),async fetchUsage(){const e=this.$route.path.endsWith("/")?this.$route.path:this.$route.path+"/";let t=_a;if(this.disableUsedPercentage)return Object.assign(this.usage,t);try{const n=await da(e);t={used:wr(n.used,{binary:!0}),total:wr(n.total,{binary:!0}),usedPercentage:Math.round(n.used/n.total*100)}}catch(n){this.$showError(n)}return Object.assign(this.usage,t)},toRoot(){this.$router.push({path:"/files"}),this.closeHovers()},toSettings(){this.$router.push({path:"/settings"}),this.closeHovers()},help(){this.showHover("help")},logout:ou},watch:{$route:{handler(e){e.path.includes("/files")&&this.fetchUsage()},immediate:!0}}},_w=["aria-label","title"],$w={key:0},Sw=["aria-label","title"],Ew=["aria-label","title"],kw={key:1},Cw=["aria-label","title"],Tw=["aria-label","title"],Pw={key:2,class:"credits",style:{width:"90%",margin:"2em 2.5em 3em 2.5em"}},Aw={class:"credits"},Rw={key:0},Ow={key:1,rel:"noopener noreferrer",target:"_blank",href:"https://github.com/filebrowser/filebrowser"};function Dw(e,t,n,r,s,i){const o=xe("router-link"),l=xe("quota"),a=xe("progress-bar");return y(),C(fe,null,[J(c("div",{onClick:t[0]||(t[0]=(...u)=>e.closeHovers&&e.closeHovers(...u)),class:"overlay"},null,512),[[Bt,i.active]]),c("nav",{class:Pe({active:i.active})},[e.isLoggedIn?(y(),C(fe,{key:0},[c("button",{class:"action",onClick:t[1]||(t[1]=(...u)=>i.toRoot&&i.toRoot(...u)),"aria-label":e.$t("sidebar.myFiles"),title:e.$t("sidebar.myFiles")},[t[7]||(t[7]=c("i",{class:"material-icons"},"folder",-1)),c("span",null,g(e.$t("sidebar.myFiles")),1)],8,_w),e.user.perm.create?(y(),C("div",$w,[c("button",{onClick:t[2]||(t[2]=u=>e.showHover("newDir")),class:"action","aria-label":e.$t("sidebar.newFolder"),title:e.$t("sidebar.newFolder")},[t[8]||(t[8]=c("i",{class:"material-icons"},"create_new_folder",-1)),c("span",null,g(e.$t("sidebar.newFolder")),1)],8,Sw),c("button",{onClick:t[3]||(t[3]=u=>e.showHover("newFile")),class:"action","aria-label":e.$t("sidebar.newFile"),title:e.$t("sidebar.newFile")},[t[9]||(t[9]=c("i",{class:"material-icons"},"note_add",-1)),c("span",null,g(e.$t("sidebar.newFile")),1)],8,Ew)])):B("",!0),i.tmpDir!=""||i.trashDir!=""?(y(),C("div",kw,[i.trashDir!=""?(y(),te(o,{key:0,class:"action",to:"/files/"+i.trashDir,"aria-label":e.$t("sidebar.trashBin"),title:e.$t("sidebar.trashBin")},{default:Ce(()=>[t[10]||(t[10]=c("i",{class:"material-icons"},"delete",-1)),c("span",null,g(e.$t("sidebar.trashBin")),1)]),_:1},8,["to","aria-label","title"])):B("",!0),i.tmpDir!=""?(y(),te(o,{key:1,class:"action",to:"/files/"+i.tmpDir,"aria-label":e.$t("sidebar.tmpDir"),title:e.$t("sidebar.tmpDir")},{default:Ce(()=>[t[11]||(t[11]=c("i",{class:"material-icons"},"folder_open",-1)),c("span",null,g(e.$t("sidebar.tmpDir")),1)]),_:1},8,["to","aria-label","title"])):B("",!0)])):B("",!0),i.quotaExists?(y(),te(l,{key:2})):B("",!0),c("div",null,[c("button",{class:"action",onClick:t[4]||(t[4]=(...u)=>i.toSettings&&i.toSettings(...u)),"aria-label":e.$t("sidebar.settings"),title:e.$t("sidebar.settings")},[t[12]||(t[12]=c("i",{class:"material-icons"},"settings_applications",-1)),c("span",null,g(e.$t("sidebar.settings")),1)],8,Cw),e.authMethod=="json"||e.authMethod=="proxy"&&i.authLogoutURL!=""||i.canLogout?(y(),C("button",{key:0,onClick:t[5]||(t[5]=(...u)=>i.logout&&i.logout(...u)),class:"action",id:"logout","aria-label":e.$t("sidebar.logout"),title:e.$t("sidebar.logout")},[t[13]||(t[13]=c("i",{class:"material-icons"},"exit_to_app",-1)),c("span",null,g(e.$t("sidebar.logout")),1)],8,Tw)):B("",!0)])],64)):(y(),C(fe,{key:1},[ne(o,{class:"action",to:"/login","aria-label":e.$t("sidebar.login"),title:e.$t("sidebar.login")},{default:Ce(()=>[t[14]||(t[14]=c("i",{class:"material-icons"},"exit_to_app",-1)),c("span",null,g(e.$t("sidebar.login")),1)]),_:1},8,["aria-label","title"]),i.signup?(y(),te(o,{key:0,class:"action",to:"/login","aria-label":e.$t("sidebar.signup"),title:e.$t("sidebar.signup")},{default:Ce(()=>[t[15]||(t[15]=c("i",{class:"material-icons"},"person_add",-1)),c("span",null,g(e.$t("sidebar.signup")),1)]),_:1},8,["aria-label","title"])):B("",!0)],64)),e.isFiles&&!i.disableUsedPercentage?(y(),C("div",Pw,[ne(a,{val:r.usage.usedPercentage,size:"small"},null,8,["val"]),t[16]||(t[16]=c("br",null,null,-1)),re(" "+g(r.usage.used)+" of "+g(r.usage.total)+" used ",1)])):B("",!0),c("p",Aw,[c("span",null,[i.disableExternal?(y(),C("span",Rw,"File Browser")):(y(),C("a",Ow,"File Browser")),c("span",null,g(" ")+" "+g(i.version),1)]),c("span",null,[c("a",{onClick:t[6]||(t[6]=(...u)=>i.help&&i.help(...u))},g(e.$t("sidebar.help")),1)])])],2)],64)}const Uw=De(ww,[["render",Dw]]),Lw=ie({__name:"BaseModal",setup(e){const t=ue();return(n,r)=>(y(),te(m(nl),{class:"vfm-modal","overlay-transition":"vfm-fade","content-transition":"vfm-fade",onClosed:m(t).closeHovers,"focus-trap":{initialFocus:"#focus-prompt",fallbackFocus:"div.vfm__content"}},{default:Ce(()=>[an(n.$slots,"default")]),_:3},8,["onClosed"]))}}),Iw={name:"help",methods:{...He(ue,["closeHovers"])}},xw={class:"card floating help"},Bw={class:"card-title"},Nw={class:"card-content"},Mw={class:"card-action"},Fw=["aria-label","title"];function jw(e,t,n,r,s,i){return y(),C("div",xw,[c("div",Bw,[c("h2",null,g(e.$t("help.help")),1)]),c("div",Nw,[c("ul",null,[c("li",null,[t[1]||(t[1]=c("strong",null,"F1",-1)),re(" - "+g(e.$t("help.f1")),1)]),c("li",null,[t[2]||(t[2]=c("strong",null,"F2",-1)),re(" - "+g(e.$t("help.f2")),1)]),c("li",null,[t[3]||(t[3]=c("strong",null,"DEL",-1)),re(" - "+g(e.$t("help.del")),1)]),c("li",null,[t[4]||(t[4]=c("strong",null,"ESC",-1)),re(" - "+g(e.$t("help.esc")),1)]),c("li",null,[t[5]||(t[5]=c("strong",null,"CTRL + S",-1)),re(" - "+g(e.$t("help.ctrl.s")),1)]),c("li",null,[t[6]||(t[6]=c("strong",null,"CTRL + F",-1)),re(" - "+g(e.$t("help.ctrl.f")),1)]),c("li",null,[t[7]||(t[7]=c("strong",null,"CTRL + Click",-1)),re(" - "+g(e.$t("help.ctrl.click")),1)]),c("li",null,[t[8]||(t[8]=c("strong",null,"Click",-1)),re(" - "+g(e.$t("help.click")),1)]),c("li",null,[t[9]||(t[9]=c("strong",null,"Double click",-1)),re(" - "+g(e.$t("help.doubleClick")),1)])])]),c("div",Mw,[c("button",{id:"focus-prompt",type:"submit",onClick:t[0]||(t[0]=(...o)=>e.closeHovers&&e.closeHovers(...o)),class:"button button--flat","aria-label":e.$t("buttons.ok"),title:e.$t("buttons.ok"),tabindex:"1"},g(e.$t("buttons.ok")),9,Fw)])])}const zw=De(Iw,[["render",jw]]),Hw={name:"info",inject:["$showError"],computed:{...Fe(Ee,["req","selected","selectedCount","isListing"]),humanSize:function(){if(this.selectedCount===0||!this.isListing)return Pt(this.req.size);let e=0;for(const t of this.selected)e+=this.req.items[t].size;return Pt(e)},humanTime:function(){return this.selectedCount===0?dt(this.req.modified).fromNow():dt(this.req.items[this.selected[0]].modified).fromNow()},modTime:function(){return this.selectedCount===0?new Date(Date.parse(this.req.modified)).toLocaleString():new Date(Date.parse(this.req.items[this.selected[0]].modified)).toLocaleString()},name:function(){return this.selectedCount===0?this.req.name:this.req.items[this.selected[0]].name},dir:function(){return this.selectedCount>1||(this.selectedCount===0?this.req.isDir:this.req.items[this.selected[0]].isDir)},resolution:function(){if(this.selectedCount===1){const e=this.req.items[this.selected[0]];if(e&&e.type==="image")return e.resolution}else if(this.req&&this.req.type==="image")return this.req.resolution;return null}},methods:{...He(ue,["closeHovers"]),checksum:async function(e,t){e.preventDefault();let n;this.selectedCount?n=this.req.items[this.selected[0]].url:n=this.$route.path;try{const r=await C0(n,t);e.target.textContent=r}catch(r){this.$showError(r)}},diskUsage:async function(e){e.preventDefault(),e.target.innerHTML=this.$t("files.loading");const t=[];if(this.selectedCount===0||!this.isListing)t.push(this.$route.path);else for(const s of this.selected)t.push(this.req.items[s].url);let n=0,r=0;for(const s of t)try{const i=await Au(s);n+=i.diskUsage,r+=i.inodes}catch(i){this.$showError(i)}e.target.innerHTML=Pt(n)+" "+this.$t("prompts.inodeCount",{count:r})}}},qw={class:"card floating"},Vw={class:"card-title"},Gw={class:"card-content"},Kw={key:0},Ww={key:1,class:"break-word"},Qw={key:2},Yw={key:3},Xw={key:4},Jw=["title"],Zw={class:"card-action"},e1=["aria-label","title"];function t1(e,t,n,r,s,i){return y(),C("div",qw,[c("div",Vw,[c("h2",null,g(e.$t("prompts.fileInfo")),1)]),c("div",Gw,[e.selected.length>1?(y(),C("p",Kw,g(e.$t("prompts.filesSelected",{count:e.selected.length})),1)):B("",!0),e.selected.length<2?(y(),C("p",Ww,[c("strong",null,g(e.$t("prompts.displayName")),1),re(" "+g(i.name),1)])):B("",!0),!i.dir||e.selected.length>1?(y(),C("p",Qw,[c("strong",null,g(e.$t("prompts.size"))+":",1),t[10]||(t[10]=c("span",{id:"content_length"},null,-1)),re(" "+g(i.humanSize),1)])):B("",!0),i.dir?(y(),C("p",Yw,[c("strong",null,g(e.$t("prompts.size"))+": ",1),c("code",null,[c("a",{onClick:t[0]||(t[0]=o=>i.diskUsage(o))},g(e.$t("prompts.show")),1)])])):B("",!0),i.resolution?(y(),C("div",Xw,[c("strong",null,g(e.$t("prompts.resolution"))+":",1),re(" "+g(i.resolution.width)+" x "+g(i.resolution.height),1)])):B("",!0),e.selected.length<2?(y(),C("p",{key:5,title:i.modTime},[c("strong",null,g(e.$t("prompts.lastModified"))+":",1),re(" "+g(i.humanTime),1)],8,Jw)):B("",!0),i.dir&&e.selected.length===0?(y(),C(fe,{key:6},[c("p",null,[c("strong",null,g(e.$t("prompts.numberFiles"))+":",1),re(" "+g(e.req.numFiles),1)]),c("p",null,[c("strong",null,g(e.$t("prompts.numberDirs"))+":",1),re(" "+g(e.req.numDirs),1)])],64)):B("",!0),i.dir?B("",!0):(y(),C(fe,{key:7},[c("p",null,[t[11]||(t[11]=c("strong",null,"MD5: ",-1)),c("code",null,[c("a",{onClick:t[1]||(t[1]=o=>i.checksum(o,"md5")),onKeypress:t[2]||(t[2]=Ne(o=>i.checksum(o,"md5"),["enter"])),tabindex:"2"},g(e.$t("prompts.show")),33)])]),c("p",null,[t[12]||(t[12]=c("strong",null,"SHA1: ",-1)),c("code",null,[c("a",{onClick:t[3]||(t[3]=o=>i.checksum(o,"sha1")),onKeypress:t[4]||(t[4]=Ne(o=>i.checksum(o,"sha1"),["enter"])),tabindex:"3"},g(e.$t("prompts.show")),33)])]),c("p",null,[t[13]||(t[13]=c("strong",null,"SHA256: ",-1)),c("code",null,[c("a",{onClick:t[5]||(t[5]=o=>i.checksum(o,"sha256")),onKeypress:t[6]||(t[6]=Ne(o=>i.checksum(o,"sha256"),["enter"])),tabindex:"4"},g(e.$t("prompts.show")),33)])]),c("p",null,[t[14]||(t[14]=c("strong",null,"SHA512: ",-1)),c("code",null,[c("a",{onClick:t[7]||(t[7]=o=>i.checksum(o,"sha512")),onKeypress:t[8]||(t[8]=Ne(o=>i.checksum(o,"sha512"),["enter"])),tabindex:"5"},g(e.$t("prompts.show")),33)])])],64))]),c("div",Zw,[c("button",{id:"focus-prompt",type:"submit",onClick:t[9]||(t[9]=(...o)=>e.closeHovers&&e.closeHovers(...o)),class:"button button--flat","aria-label":e.$t("buttons.ok"),title:e.$t("buttons.ok")},g(e.$t("buttons.ok")),9,e1)])])}const n1=De(Hw,[["render",t1]]),r1={name:"delete",data:function(){return{skipTrash:!0}},inject:["$showError"],computed:{...Fe(Ee,["isListing","selectedCount","req","selected","currentPrompt"]),...Gr(Ee,["reload"]),trashBinCheckbox(){return!(An===""||this.req.path.startsWith("/".concat(An,"/"))||this.req.path.endsWith("/".concat(An))||this.selectedCount==1&&this.req.items[this.selected].name==An)}},methods:{...He(ue,["closeHovers"]),...He(Xt,["fetchQuota"]),submit:async function(){var e;Me.loading("delete"),window.sessionStorage.setItem("modified","true");try{if(!this.isListing){await ca(this.$route.path,this.skipTrash),Me.success("delete"),(e=this.currentPrompt)==null||e.confirm(),this.closeHovers();return}if(this.closeHovers(),this.selectedCount===0)return;const t=[];for(const n of this.selected)t.push(ca(this.req.items[n].url,this.skipTrash));await Promise.all(t),Me.success("delete"),this.reload=!0,this.fetchQuota(3e3)}catch(t){Me.done("delete"),this.$showError(t),this.isListing&&(this.reload=!0)}}}},o1={class:"card floating"},s1={class:"card-content"},i1={key:0},a1={key:1},l1={key:2},u1={class:"card-action"},c1=["aria-label","title"],d1=["aria-label","title"];function f1(e,t,n,r,s,i){return y(),C("div",o1,[c("div",s1,[!this.isListing||e.selectedCount===1?(y(),C("p",i1,g(e.$t("prompts.deleteMessageSingle")),1)):(y(),C("p",a1,g(e.$t("prompts.deleteMessageMultiple",{count:e.selectedCount})),1)),i.trashBinCheckbox?(y(),C("p",l1,[J(c("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=o=>e.skipTrash=o)},null,512),[[ye,e.skipTrash]]),re(" "+g(e.$t("prompts.skipTrashMessage")),1)])):B("",!0)]),c("div",u1,[c("button",{onClick:t[1]||(t[1]=(...o)=>e.closeHovers&&e.closeHovers(...o)),class:"button button--flat button--grey","aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"2"},g(e.$t("buttons.cancel")),9,c1),c("button",{id:"focus-prompt",onClick:t[2]||(t[2]=(...o)=>i.submit&&i.submit(...o)),class:"button button--flat button--red","aria-label":e.$t("buttons.delete"),title:e.$t("buttons.delete"),tabindex:"1"},g(e.$t("buttons.delete")),9,d1)])])}const p1=De(r1,[["render",f1]]),h1={class:"card floating"},m1={class:"card-content"},v1={class:"card-action"},g1=["aria-label","title"],b1=ie({__name:"DeleteUser",setup(e){const t=ue(),{t:n}=ke();return(r,s)=>(y(),C("div",h1,[c("div",m1,[c("p",null,g(m(n)("prompts.deleteUser")),1)]),c("div",v1,[c("button",{id:"focus-prompt",class:"button button--flat button--grey",onClick:s[0]||(s[0]=(...i)=>m(t).closeHovers&&m(t).closeHovers(...i)),"aria-label":m(n)("buttons.cancel"),title:m(n)("buttons.cancel"),tabindex:"1"},g(m(n)("buttons.cancel")),9,g1),c("button",{class:"button button--flat",onClick:s[1]||(s[1]=(...i)=>{var o,l;return((o=m(t).currentPrompt)==null?void 0:o.confirm)&&((l=m(t).currentPrompt)==null?void 0:l.confirm(...i))}),tabindex:"2"},g(m(n)("buttons.delete")),1)])]))}}),y1={class:"card floating",id:"download"},w1={class:"card-title"},_1={class:"card-content"},$1=["onClick"],S1=ie({__name:"Download",setup(e){const t=ue(),{t:n}=ke(),r={zip:"zip",tar:"tar",targz:"tar.gz",tarbz2:"tar.bz2",tarxz:"tar.xz",tarlz4:"tar.lz4",tarsz:"tar.sz"};return(s,i)=>(y(),C("div",y1,[c("div",w1,[c("h2",null,g(m(n)("prompts.download")),1)]),c("div",_1,[c("p",null,g(m(n)("prompts.downloadMessage")),1),(y(),C(fe,null,Ue(r,(o,l)=>c("button",{id:"focus-prompt",key:l,class:"button button--block",onClick:a=>{var u;return(u=m(t).currentPrompt)==null?void 0:u.confirm(l)}},g(o),9,$1)),64))])]))}}),E1={name:"rename",data:function(){return{name:""}},created(){this.name=this.oldName()},inject:["$showError"],computed:{...Fe(Ee,["req","selected","selectedCount","isListing"]),...Gr(Ee,["reload"])},methods:{...He(ue,["closeHovers"]),cancel:function(){this.closeHovers()},oldName:function(){if(!this.isListing)return this.req.name;if(!(this.selectedCount===0||this.selectedCount>1))return this.req.items[this.selected[0]].name},submit:async function(){let e="",t="";this.isListing?e=this.req.items[this.selected[0]].url:e=this.req.url,t=rt.removeLastDir(e)+"/"+encodeURIComponent(this.name),window.sessionStorage.setItem("modified","true");try{if(await Xr([{from:e,to:t}]),!this.isListing){this.$router.push({path:t});return}this.reload=!0}catch(n){this.$showError(n)}this.closeHovers()}}},k1={class:"card floating"},C1={class:"card-title"},T1={class:"card-content"},P1={class:"card-action"},A1=["aria-label","title"],R1=["aria-label","title"];function O1(e,t,n,r,s,i){return y(),C("div",k1,[c("div",C1,[c("h2",null,g(e.$t("prompts.rename")),1)]),c("div",T1,[c("p",null,[re(g(e.$t("prompts.renameMessage"))+" ",1),c("code",null,g(i.oldName()),1),t[4]||(t[4]=re(": "))]),J(c("input",{id:"focus-prompt",class:"input input--block",type:"text",onKeyup:t[0]||(t[0]=Ne((...o)=>i.submit&&i.submit(...o),["enter"])),"onUpdate:modelValue":t[1]||(t[1]=o=>e.name=o)},null,544),[[Re,e.name,void 0,{trim:!0}]])]),c("div",P1,[c("button",{class:"button button--flat button--grey",onClick:t[2]||(t[2]=(...o)=>e.closeHovers&&e.closeHovers(...o)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel")},g(e.$t("buttons.cancel")),9,A1),c("button",{onClick:t[3]||(t[3]=(...o)=>i.submit&&i.submit(...o)),class:"button button--flat",type:"submit","aria-label":e.$t("buttons.rename"),title:e.$t("buttons.rename")},g(e.$t("buttons.rename")),9,R1)])])}const D1=De(E1,[["render",O1]]),U1={class:"card floating"},L1={class:"card-title"},I1={class:"card-content"},x1=["disabled"],B1=["disabled","onClick"],N1={key:0,class:"material-icons spin"},M1={key:1},F1=ie({__name:"Archive",setup(e){const t=Ee(),n=Xt(),r=ue(),s=Xe(),{t:i}=ke(),o=Se("$showError"),l={zip:"zip",tar:"tar",targz:"tar.gz",tarbz2:"tar.bz2",tarxz:"tar.xz",tarlz4:"tar.lz4",tarsz:"tar.sz"},a=G(""),u=G(!1),d=G(""),f=async p=>{var v;const h=[];for(const _ of t.selected){const S=(v=t.req)==null?void 0:v.items[_].name;S&&h.push(S)}let $=t.isFiles?s.path:"/";t.isListing||($=rt.removeLastDir($)),$+="/archive",$=$.replace("//","/");try{u.value=!0,d.value=p,Me.loading("archive"),await T0($,a.value,p,...h),r.closeHovers(),t.reload=!0,n.fetchQuota(3e3)}catch(_){o(_)}finally{u.value=!1,d.value="",Me.done("archive")}};return Oe(()=>{var p;t.selected.length>0&&(a.value=((p=t.req)==null?void 0:p.items[t.selected[0]].name)||"")}),(p,h)=>{const $=zr("focus");return y(),C("div",U1,[c("div",L1,[c("h2",null,g(m(i)("prompts.archive")),1)]),c("div",I1,[c("p",null,g(m(i)("prompts.archiveMessage")),1),J(c("input",{class:"input input--block",type:"text","onUpdate:modelValue":h[0]||(h[0]=v=>a.value=v),disabled:u.value,required:""},null,8,x1),[[$],[Re,a.value,void 0,{trim:!0}]]),(y(),C(fe,null,Ue(l,(v,_)=>c("button",{key:_,disabled:u.value,class:"button button--block",onClick:S=>f(_)},[u.value&&_===d.value?(y(),C("i",N1," autorenew ")):(y(),C("span",M1,g(v),1))],8,B1)),64))])])}}}),j1={name:"file-list",data:function(){return{items:[],touches:{id:"",count:0},selected:null,current:window.location.pathname}},inject:["$showError"],computed:{...Fe(Le,["user"]),...Fe(Ee,["req"]),nav(){return decodeURIComponent(this.current)}},mounted(){this.fillOptions(this.req)},methods:{fillOptions(e){if(this.current=e.url,this.items=[],this.$emit("update:selected",this.current),e.url!=="/files/"&&this.items.push({name:"..",url:rt.removeLastDir(e.url)+"/"}),e.items!==null)for(const t of e.items)t.isDir&&this.items.push({name:t.name,url:t.url})},next:function(e){const t=e.currentTarget.dataset.url;Qt(t).then(this.fillOptions).catch(this.$showError)},touchstart(e){const t=e.currentTarget.dataset.url;if(setTimeout(()=>{this.touches.count=0},300),this.touches.id!==t){this.touches.id=t,this.touches.count=1;return}this.touches.count++,this.touches.count>1&&this.next(e)},itemClick:function(e){this.user.singleClick?this.next(e):this.select(e)},select:function(e){if(this.selected===e.currentTarget.dataset.url){this.selected=null,this.$emit("update:selected",this.current);return}this.selected=e.currentTarget.dataset.url,this.$emit("update:selected",this.selected)},createDir:async function(){this.$store.commit("showHover",{prompt:"newDir",action:null,confirm:null,props:{redirect:!1,base:this.current===this.$route.path?null:this.current}})}}},z1={class:"file-list"},H1=["aria-label","aria-selected","data-url"];function q1(e,t,n,r,s,i){return y(),C("div",null,[c("ul",z1,[(y(!0),C(fe,null,Ue(e.items,o=>(y(),C("li",{onClick:t[0]||(t[0]=(...l)=>i.itemClick&&i.itemClick(...l)),onTouchstart:t[1]||(t[1]=(...l)=>i.touchstart&&i.touchstart(...l)),onDblclick:t[2]||(t[2]=(...l)=>i.next&&i.next(...l)),role:"button",tabindex:"0","aria-label":o.name,"aria-selected":e.selected==o.url,key:o.name,"data-url":o.url},g(o.name),41,H1))),128))]),c("p",null,[re(g(e.$t("prompts.currentlyNavigating"))+" ",1),c("code",null,g(i.nav),1),t[3]||(t[3]=re(". "))])])}const ms=De(j1,[["render",q1]]),V1={class:"card floating"},G1={class:"card-title"},K1={class:"card-content"},W1={key:0},Q1={class:"card-action"},Y1=["aria-label","title"],X1=["aria-label","title"],J1=ie({__name:"Unarchive",setup(e){const t=Ee(),n=Xt(),r=ue(),{t:s}=ke(),i=Se("$showError"),o=G(!1),l=G(""),a=G(""),u=G(null),d=W(()=>{var $;const h=($=t.req)==null?void 0:$.items[t.selected[0]];return h?[".zip",".rar",".tar",".bz2",".gz",".xz",".lz4",".sz"].includes(h.extension):!1}),f=()=>{r.closeHovers()},p=async()=>{var v,_;if(!((v=u.value)!=null&&v.reportValidity()))return;const h=(_=t.req)==null?void 0:_.items[t.selected[0]];if(!h)return;const $=l.value+encodeURIComponent(a.value);try{Me.loading("unarchive"),r.closeHovers(),await P0(h.url,$,o.value),t.reload=!0,n.fetchQuota(3e3)}catch(S){i(S)}finally{Me.done("unarchive")}};return(h,$)=>{const v=zr("focus");return y(),C("div",V1,[c("div",G1,[c("h2",null,g(m(s)("prompts.unarchive")),1)]),c("div",K1,[c("form",{ref_key:"unarchiveForm",ref:u},[c("p",null,g(m(s)("prompts.unarchiveFolderNameMessage")),1),J(c("input",{class:"input input--block",type:"text",onKeyup:Ne(p,["enter"]),"onUpdate:modelValue":$[0]||($[0]=_=>a.value=_),required:""},null,544),[[v],[Re,a.value,void 0,{trim:!0}]])],512),c("p",null,g(m(s)("prompts.unarchiveDestinationLocationMessage")),1),ne(ms,{"onUpdate:selected":$[1]||($[1]=_=>l.value=_)}),d.value?(y(),C("p",W1,[J(c("input",{type:"checkbox","onUpdate:modelValue":$[2]||($[2]=_=>o.value=_)},null,512),[[ye,o.value]]),re(" "+g(m(s)("prompts.unarchiveOverwriteExisting")),1)])):B("",!0)]),c("div",Q1,[c("button",{class:"button button--flat button--grey",onClick:f,"aria-label":m(s)("buttons.cancel"),title:m(s)("buttons.cancel")},g(m(s)("buttons.cancel")),9,Y1),c("button",{onClick:p,class:"button button--flat",type:"submit","aria-label":m(s)("buttons.unarchive"),title:m(s)("buttons.unarchive")},g(m(s)("buttons.unarchive")),9,X1)])])}}}),Z1={class:"card floating"},e_={class:"card-title"},t_={class:"card-content",id:"permissions"},n_={class:"recursion-types"},r_=["disabled"],o_={for:"recursive-all"},s_=["disabled"],i_={for:"recursive-directories"},a_=["disabled"],l_={for:"recursive-files"},u_={class:"card-action"},c_=["disabled","aria-label","title"],d_=ie({__name:"Permissions",setup(e){const t=Ee(),n=ue(),{t:r}=ke(),s=Se("$showError"),i=G(!1),o=G(!1),l=G("all"),a=G({owner:{read:!1,write:!1,execute:!1},group:{read:!1,write:!1,execute:!1},others:{read:!1,write:!1,execute:!1}}),u={permissions:511,owner:{read:256,write:128,execute:64},group:{read:32,write:16,execute:8},others:{read:4,write:2,execute:1}};Oe(()=>{var _;const $=(_=t.req)==null?void 0:_.items[t.selected[0]];if(!$)return;const v=$.mode&u.permissions;a.value.owner.read=(v&u.owner.read)!=0,a.value.owner.write=(v&u.owner.write)!=0,a.value.owner.execute=(v&u.owner.execute)!=0,a.value.group.read=(v&u.group.read)!=0,a.value.group.write=(v&u.group.write)!=0,a.value.group.execute=(v&u.group.execute)!=0,a.value.others.read=(v&u.others.read)!=0,a.value.others.write=(v&u.others.write)!=0,a.value.others.execute=(v&u.others.execute)!=0});const d=W(()=>{let $=0;return $|=u.owner.read*(a.value.owner.read?1:0),$|=u.owner.write*(a.value.owner.write?1:0),$|=u.owner.execute*(a.value.owner.execute?1:0),$|=u.group.read*(a.value.group.read?1:0),$|=u.group.write*(a.value.group.write?1:0),$|=u.group.execute*(a.value.group.execute?1:0),$|=u.others.read*(a.value.others.read?1:0),$|=u.others.write*(a.value.others.write?1:0),$|=u.others.execute*(a.value.others.execute?1:0),$}),f=W(()=>{const $=d;let v="";return v+=($.value&u.owner.read)!=0?"r":"-",v+=($.value&u.owner.write)!=0?"w":"-",v+=($.value&u.owner.execute)!=0?"x":"-",v+=($.value&u.group.read)!=0?"r":"-",v+=($.value&u.group.write)!=0?"w":"-",v+=($.value&u.group.execute)!=0?"x":"-",v+=($.value&u.others.read)!=0?"r":"-",v+=($.value&u.others.write)!=0?"w":"-",v+=($.value&u.others.execute)!=0?"x":"-",v}),p=W(()=>{var v;const $=(v=t.req)==null?void 0:v.items[t.selected[0]];return $?$.isDir:!1}),h=async()=>{var v;const $=(v=t.req)==null?void 0:v.items[t.selected[0]];if($)try{i.value=!0,await A0($.url,d.value,o.value,l.value),n.closeHovers(),t.reload=!0}catch(_){s(_)}finally{i.value=!1}};return($,v)=>(y(),C("div",Z1,[c("div",e_,[c("h2",null,g(m(r)("prompts.permissions")),1)]),c("div",t_,[c("table",null,[c("thead",null,[c("tr",null,[v[13]||(v[13]=c("td",null,null,-1)),c("td",null,g(m(r)("prompts.read")),1),c("td",null,g(m(r)("prompts.write")),1),c("td",null,g(m(r)("prompts.execute")),1)])]),c("tbody",null,[c("tr",null,[c("td",null,g(m(r)("prompts.owner")),1),c("td",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":v[0]||(v[0]=_=>a.value.owner.read=_)},null,512),[[ye,a.value.owner.read]])]),c("td",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":v[1]||(v[1]=_=>a.value.owner.write=_)},null,512),[[ye,a.value.owner.write]])]),c("td",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":v[2]||(v[2]=_=>a.value.owner.execute=_)},null,512),[[ye,a.value.owner.execute]])])]),c("tr",null,[c("td",null,g(m(r)("prompts.group")),1),c("td",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":v[3]||(v[3]=_=>a.value.group.read=_)},null,512),[[ye,a.value.group.read]])]),c("td",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":v[4]||(v[4]=_=>a.value.group.write=_)},null,512),[[ye,a.value.group.write]])]),c("td",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":v[5]||(v[5]=_=>a.value.group.execute=_)},null,512),[[ye,a.value.group.execute]])])]),c("tr",null,[c("td",null,g(m(r)("prompts.others")),1),c("td",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":v[6]||(v[6]=_=>a.value.others.read=_)},null,512),[[ye,a.value.others.read]])]),c("td",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":v[7]||(v[7]=_=>a.value.others.write=_)},null,512),[[ye,a.value.others.write]])]),c("td",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":v[8]||(v[8]=_=>a.value.others.execute=_)},null,512),[[ye,a.value.others.execute]])])])])]),c("p",null,[c("code",null,g(f.value)+" ("+g(d.value.toString(8))+")",1)]),p.value?(y(),C(fe,{key:0},[c("p",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":v[9]||(v[9]=_=>o.value=_)},null,512),[[ye,o.value]]),re(" "+g(m(r)("prompts.recursive"))+": ",1)]),c("div",n_,[c("p",null,[J(c("input",{type:"radio",id:"recursive-all",value:"all",disabled:!o.value,"onUpdate:modelValue":v[10]||(v[10]=_=>l.value=_)},null,8,r_),[[Zr,l.value]]),c("label",o_,g(m(r)("prompts.directoriesAndFiles")),1)]),c("p",null,[J(c("input",{type:"radio",id:"recursive-directories",value:"directories",disabled:!o.value,"onUpdate:modelValue":v[11]||(v[11]=_=>l.value=_)},null,8,s_),[[Zr,l.value]]),c("label",i_,g(m(r)("prompts.directories")),1)]),c("p",null,[J(c("input",{type:"radio",id:"recursive-files",value:"files",disabled:!o.value,"onUpdate:modelValue":v[12]||(v[12]=_=>l.value=_)},null,8,a_),[[Zr,l.value]]),c("label",l_,g(m(r)("prompts.files")),1)])])],64)):B("",!0)]),c("div",u_,[c("button",{class:"button button--flat",onClick:h,disabled:i.value,"aria-label":$.$t("buttons.update"),title:$.$t("buttons.update")},g(m(r)("buttons.update")),9,c_)])]))}});function Nt(e,t){var s;(typeof t>"u"||t===null)&&(t=[]);const n=e[0].fullPath!==void 0,r=new Set;for(let i=0;i<e.length;i++){const o=e[i];let l=o.name;if(n){const a=(s=o.fullPath)==null?void 0:s.split("/");a&&a.length>1&&(l=a[0])}r.add(l)}return t.some(i=>r.has(i.name))}function f_(e){return new Promise(t=>{let n=0;const r=[];if(e.items)for(let o=0;o<e.items.length;o++){const l=e.items[o];if(l.kind==="file"&&typeof l.webkitGetAsEntry=="function"){const a=l.webkitGetAsEntry();a&&s(a)}}else t(e.files);function s(o,l=""){if(o.isFile)n++,o.file(a=>{n--,r.push({file:a,name:a.name,size:a.size,isDir:!1,fullPath:"".concat(l).concat(a.name)}),n===0&&t(r)});else if(o.isDirectory){const a={isDir:!0,size:0,fullPath:"".concat(l).concat(o.name),name:o.name};r.push(a),i(o.createReader(),"".concat(l).concat(o.name))}}function i(o,l){n++,o.readEntries(a=>{if(n--,a.length>0){for(const u of a)s(u,"".concat(l,"/"));i(o,"".concat(l,"/"))}n===0&&t(r)})}})}function p_(e){return e.startsWith("video")?"video":e.startsWith("audio")?"audio":e.startsWith("image")?"image":e.startsWith("pdf")?"pdf":e.startsWith("text")?"text":"blob"}function vt(e,t,n=!1){const r=Ht();ue().closeHovers();for(const i of e){const o=r.id;let l=t;i.fullPath!==void 0?l+=rt.encodePath(i.fullPath):l+=rt.encodeRFC5987ValueChars(i.name),i.isDir&&(l+="/");const a={id:o,path:l,file:i,overwrite:n,...!i.isDir&&{type:p_(i.file.type)}};r.upload(a)}}const h_={name:"move",components:{FileList:ms},data:function(){return{current:window.location.pathname,dest:null}},inject:["$showError"],computed:{...Fe(Ee,["req","selected"]),...Fe(Le,["user"])},methods:{...He(ue,["showHover","closeHovers"]),move:async function(e){e.preventDefault();const t=[];for(const l of this.selected)t.push({from:this.req.items[l].url,to:this.dest+encodeURIComponent(this.req.items[l].name),name:this.req.items[l].name});const n=async(l,a)=>{Me.loading("move"),await Xr(t,l,a).then(()=>{Me.success("move"),this.$router.push({path:this.dest})}).catch(u=>{Me.done("move"),this.$showError(u)})},r=(await Qt(this.dest)).items,s=Nt(t,r);let i=!1,o=!1;if(s){this.showHover({prompt:"replace-rename",confirm:(l,a)=>{i=a=="overwrite",o=a=="rename",l.preventDefault(),this.closeHovers(),n(i,o)}});return}n(i,o)}}},m_={class:"card floating"},v_={class:"card-title"},g_={class:"card-content"},b_={class:"card-action",style:{display:"flex","align-items":"center","justify-content":"space-between"}},y_=["aria-label","title"],w_=["aria-label","title"],__=["disabled","aria-label","title"];function $_(e,t,n,r,s,i){const o=xe("file-list");return y(),C("div",m_,[c("div",v_,[c("h2",null,g(e.$t("prompts.move")),1)]),c("div",g_,[ne(o,{ref:"fileList","onUpdate:selected":t[0]||(t[0]=l=>e.dest=l),tabindex:"1"},null,512)]),c("div",b_,[e.user.perm.create?(y(),C("button",{key:0,class:"button button--flat",onClick:t[1]||(t[1]=l=>e.$refs.fileList.createDir()),"aria-label":e.$t("sidebar.newFolder"),title:e.$t("sidebar.newFolder"),style:{"justify-self":"left"}},[c("span",null,g(e.$t("sidebar.newFolder")),1)],8,y_)):B("",!0),c("div",null,[c("button",{class:"button button--flat button--grey",onClick:t[2]||(t[2]=(...l)=>e.closeHovers&&e.closeHovers(...l)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"3"},g(e.$t("buttons.cancel")),9,w_),c("button",{id:"focus-prompt",class:"button button--flat",onClick:t[3]||(t[3]=(...l)=>i.move&&i.move(...l)),disabled:e.$route.path===e.dest,"aria-label":e.$t("buttons.move"),title:e.$t("buttons.move"),tabindex:"2"},g(e.$t("buttons.move")),9,__)])])])}const S_=De(h_,[["render",$_]]),E_={name:"copy",components:{FileList:ms},data:function(){return{current:window.location.pathname,dest:null}},inject:["$showError"],computed:{...Fe(Ee,["req","selected"]),...Fe(Le,["user"]),...Gr(Ee,["reload"])},methods:{...He(ue,["showHover","closeHovers"]),...He(Xt,["fetchQuota"]),copy:async function(e){e.preventDefault();const t=[];for(const l of this.selected)t.push({from:this.req.items[l].url,to:this.dest+encodeURIComponent(this.req.items[l].name),name:this.req.items[l].name});const n=async(l,a)=>{Me.loading("copy"),await Pu(t,l,a).then(()=>{if(Me.success("copy"),this.$route.path===this.dest){this.reload=!0;return}this.$router.push({path:this.dest})}).catch(u=>{Me.done("copy"),this.$showError(u)})};if(this.$route.path===this.dest){this.closeHovers(),n(!1,!0),this.fetchQuota(3e3);return}const r=(await Qt(this.dest)).items,s=Nt(t,r);let i=!1,o=!1;if(s){this.showHover({prompt:"replace-rename",confirm:(l,a)=>{i=a=="overwrite",o=a=="rename",l.preventDefault(),this.closeHovers(),n(i,o),this.fetchQuota(3e3)}});return}n(i,o),this.fetchQuota(3e3)}}},k_={class:"card floating"},C_={class:"card-title"},T_={class:"card-content"},P_={class:"card-action",style:{display:"flex","align-items":"center","justify-content":"space-between"}},A_=["aria-label","title"],R_=["aria-label","title"],O_=["aria-label","title"];function D_(e,t,n,r,s,i){const o=xe("file-list");return y(),C("div",k_,[c("div",C_,[c("h2",null,g(e.$t("prompts.copy")),1)]),c("div",T_,[c("p",null,g(e.$t("prompts.copyMessage")),1),ne(o,{ref:"fileList","onUpdate:selected":t[0]||(t[0]=l=>e.dest=l),tabindex:"1"},null,512)]),c("div",P_,[e.user.perm.create?(y(),C("button",{key:0,class:"button button--flat",onClick:t[1]||(t[1]=l=>e.$refs.fileList.createDir()),"aria-label":e.$t("sidebar.newFolder"),title:e.$t("sidebar.newFolder"),style:{"justify-self":"left"}},[c("span",null,g(e.$t("sidebar.newFolder")),1)],8,A_)):B("",!0),c("div",null,[c("button",{class:"button button--flat button--grey",onClick:t[2]||(t[2]=(...l)=>e.closeHovers&&e.closeHovers(...l)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"3"},g(e.$t("buttons.cancel")),9,R_),c("button",{id:"focus-prompt",class:"button button--flat",onClick:t[3]||(t[3]=(...l)=>i.copy&&i.copy(...l)),"aria-label":e.$t("buttons.copy"),title:e.$t("buttons.copy"),tabindex:"2"},g(e.$t("buttons.copy")),9,O_)])])])}const U_=De(E_,[["render",D_]]),L_={class:"card floating"},I_={class:"card-title"},x_={class:"card-content"},B_={class:"card-action"},N_=["aria-label","title"],M_=["aria-label","title"],F_=ie({__name:"NewFile",setup(e){const t=Se("$showError"),n=Ee(),r=ue(),s=Xt(),i=Xe(),o=vn(),{t:l}=ke(),a=G(""),u=async d=>{if(d.preventDefault(),a.value==="")return;let f=n.isFiles?i.path+"/":"/";n.isListing||(f=rt.removeLastDir(f)+"/"),f+=encodeURIComponent(a.value),f=f.replace("//","/");try{await ar(f),o.push({path:f})}catch(p){p instanceof Error&&t(p)}s.fetchQuota(3e3),r.closeHovers()};return(d,f)=>(y(),C("div",L_,[c("div",I_,[c("h2",null,g(m(l)("prompts.newFile")),1)]),c("div",x_,[c("p",null,g(m(l)("prompts.newFileMessage")),1),J(c("input",{id:"focus-prompt",class:"input input--block",type:"text",onKeyup:Ne(u,["enter"]),"onUpdate:modelValue":f[0]||(f[0]=p=>a.value=p)},null,544),[[Re,a.value,void 0,{trim:!0}]])]),c("div",B_,[c("button",{class:"button button--flat button--grey",onClick:f[1]||(f[1]=(...p)=>m(r).closeHovers&&m(r).closeHovers(...p)),"aria-label":m(l)("buttons.cancel"),title:m(l)("buttons.cancel")},g(m(l)("buttons.cancel")),9,N_),c("button",{class:"button button--flat",onClick:u,"aria-label":m(l)("buttons.create"),title:m(l)("buttons.create")},g(m(l)("buttons.create")),9,M_)])]))}}),j_={class:"card floating"},z_={class:"card-title"},H_={class:"card-content"},q_={class:"card-action"},V_=["aria-label","title"],G_=["aria-label","title"],K_=ie({__name:"NewDir",props:{base:String,redirect:{type:Boolean,default:!0}},setup(e){const t=Se("$showError"),n=e,r=Ee(),s=ue(),i=Xt(),o=Xe(),l=vn(),{t:a}=ke(),u=G(""),d=async f=>{if(f.preventDefault(),u.value==="")return;let p;n.base?p=n.base:r.isFiles?p=o.path+"/":p="/",r.isListing||(p=rt.removeLastDir(p)+"/"),p+=encodeURIComponent(u.value)+"/",p=p.replace("//","/");try{if(await ar(p),n.redirect)l.push({path:p});else if(!n.base){const h=await Qt(rt.removeLastDir(p)+"/");r.updateRequest(h)}}catch(h){h instanceof Error&&t(h)}i.fetchQuota(3e3),s.closeHovers()};return(f,p)=>(y(),C("div",j_,[c("div",z_,[c("h2",null,g(m(a)("prompts.newDir")),1)]),c("div",H_,[c("p",null,g(m(a)("prompts.newDirMessage")),1),J(c("input",{id:"focus-prompt",class:"input input--block",type:"text",onKeyup:Ne(d,["enter"]),"onUpdate:modelValue":p[0]||(p[0]=h=>u.value=h),tabindex:"1"},null,544),[[Re,u.value,void 0,{trim:!0}]])]),c("div",q_,[c("button",{class:"button button--flat button--grey",onClick:p[1]||(p[1]=(...h)=>m(s).closeHovers&&m(s).closeHovers(...h)),"aria-label":m(a)("buttons.cancel"),title:m(a)("buttons.cancel"),tabindex:"3"},g(m(a)("buttons.cancel")),9,V_),c("button",{class:"button button--flat","aria-label":f.$t("buttons.create"),title:m(a)("buttons.create"),onClick:d,tabindex:"2"},g(m(a)("buttons.create")),9,G_)])]))}}),W_={name:"replace",computed:{...Fe(ue,["currentPrompt"])},methods:{...He(ue,["closeHovers"])}},Q_={class:"card floating"},Y_={class:"card-title"},X_={class:"card-content"},J_={class:"card-action"},Z_=["aria-label","title"],e$=["aria-label","title"],t$=["aria-label","title"];function n$(e,t,n,r,s,i){return y(),C("div",Q_,[c("div",Y_,[c("h2",null,g(e.$t("prompts.replace")),1)]),c("div",X_,[c("p",null,g(e.$t("prompts.replaceMessage")),1)]),c("div",J_,[c("button",{class:"button button--flat button--grey",onClick:t[0]||(t[0]=(...o)=>e.closeHovers&&e.closeHovers(...o)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"3"},g(e.$t("buttons.cancel")),9,Z_),c("button",{class:"button button--flat button--blue",onClick:t[1]||(t[1]=(...o)=>e.currentPrompt.action&&e.currentPrompt.action(...o)),"aria-label":e.$t("buttons.continue"),title:e.$t("buttons.continue"),tabindex:"2"},g(e.$t("buttons.continue")),9,e$),c("button",{id:"focus-prompt",class:"button button--flat button--red",onClick:t[2]||(t[2]=(...o)=>e.currentPrompt.confirm&&e.currentPrompt.confirm(...o)),"aria-label":e.$t("buttons.replace"),title:e.$t("buttons.replace"),tabindex:"1"},g(e.$t("buttons.replace")),9,t$)])])}const r$=De(W_,[["render",n$]]),o$={name:"replace-rename",computed:{...Fe(ue,["currentPrompt"])},methods:{...He(ue,["closeHovers"])}},s$={class:"card floating"},i$={class:"card-title"},a$={class:"card-content"},l$={class:"card-action"},u$=["aria-label","title"],c$=["aria-label","title"],d$=["aria-label","title"];function f$(e,t,n,r,s,i){return y(),C("div",s$,[c("div",i$,[c("h2",null,g(e.$t("prompts.replace")),1)]),c("div",a$,[c("p",null,g(e.$t("prompts.replaceMessage")),1)]),c("div",l$,[c("button",{class:"button button--flat button--grey",onClick:t[0]||(t[0]=(...o)=>e.closeHovers&&e.closeHovers(...o)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"3"},g(e.$t("buttons.cancel")),9,u$),c("button",{class:"button button--flat button--blue",onClick:t[1]||(t[1]=o=>e.currentPrompt.confirm(o,"rename")),"aria-label":e.$t("buttons.rename"),title:e.$t("buttons.rename"),tabindex:"2"},g(e.$t("buttons.rename")),9,c$),c("button",{id:"focus-prompt",class:"button button--flat button--red",onClick:t[2]||(t[2]=o=>e.currentPrompt.confirm(o,"overwrite")),"aria-label":e.$t("buttons.replace"),title:e.$t("buttons.replace"),tabindex:"1"},g(e.$t("buttons.replace")),9,d$)])])}const p$=De(o$,[["render",f$]]);function mn(e,t){return new Promise((n,r)=>{if(window.isSecureContext&&typeof navigator.clipboard<"u")t!=null&&t.permission?h$("clipboard-write").then(()=>$a(e).then(n).catch(r)).catch(r):$a(e).then(n).catch(r);else if(document.queryCommandSupported&&document.queryCommandSupported("copy")&&e.text){const s=v$(e.text),i=document.activeElement||document.body;try{i.appendChild(s),s.focus(),s.select(),document.execCommand("copy"),n()}catch(o){r(o)}finally{i.removeChild(s)}}else r(new Error("None of copying methods are supported by this browser!"))})}function h$(e){return new Promise((t,n)=>{typeof navigator.permissions<"u"&&navigator.permissions.query({name:e}).then(r=>{r.state==="granted"||r.state==="prompt"?t():n(new Error("Permission denied!"))})})}function $a(e){return e.text?navigator.clipboard.writeText(e.text):e.data?navigator.clipboard.write(e.data):new Promise((t,n)=>{n(new Error("No data was supplied!"))})}const m$={fontSize:"12pt",position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,margin:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"};function v$(e){const t=document.createElement("textarea");return t.value=e,t.setAttribute("readonly",""),Object.assign(t.style,m$),t}const g$={name:"share",data:function(){return{time:0,unit:"hours",links:[],clip:null,password:"",listing:!0}},inject:["$showError","$showSuccess"],computed:{...Fe(Ee,["req","selected","selectedCount","isListing"]),url(){if(!this.isListing)return this.$route.path;if(!(this.selectedCount===0||this.selectedCount>1))return this.req.items[this.selected[0]].url}},async beforeMount(){try{const e=await D0(this.url);this.links=e,this.sort(),this.links.length==0&&(this.listing=!1)}catch(e){this.$showError(e)}},methods:{...He(ue,["closeHovers"]),copyToClipboard:function(e){mn({text:e}).then(()=>{this.$showSuccess(this.$t("success.linkCopied"))},()=>{mn({text:e},{permission:!0}).then(()=>{this.$showSuccess(this.$t("success.linkCopied"))},t=>{this.$showError(t)})})},submit:async function(){try{let e=null;this.time?e=await fa(this.url,this.password,this.time,this.unit):e=await fa(this.url,this.password),this.links.push(e),this.sort(),this.time=0,this.unit="hours",this.password="",this.listing=!0}catch(e){this.$showError(e)}},deleteLink:async function(e,t){e.preventDefault();try{await Ru(t.hash),this.links=this.links.filter(n=>n.hash!==t.hash),this.links.length==0&&(this.listing=!1)}catch(n){this.$showError(n)}},humanTime(e){return dt(e*1e3).fromNow()},buildLink(e){return Ou(e)},hasDownloadLink(){return this.selected.length===1&&!this.req.items[this.selected[0]].isDir},buildDownloadLink(e){return Pr(e)},sort(){this.links=this.links.sort((e,t)=>e.expire===0?-1:t.expire===0?1:new Date(e.expire)-new Date(t.expire))},switchListing(){this.links.length==0&&!this.listing&&this.closeHovers(),this.listing=!this.listing}}},b$={class:"card floating",id:"share"},y$={class:"card-title"},w$={class:"card-content"},_$={class:"small"},$$=["aria-label","title","onClick"],S$={key:0,class:"small"},E$=["aria-label","title","onClick"],k$={class:"small"},C$=["onClick","aria-label","title"],T$={class:"card-action"},P$=["aria-label","title"],A$=["aria-label","title"],R$={class:"card-content"},O$={class:"input-group input"},D$=["aria-label"],U$={value:"seconds"},L$={value:"minutes"},I$={value:"hours"},x$={value:"days"},B$={class:"card-action"},N$=["aria-label","title"],M$=["aria-label","title"];function F$(e,t,n,r,s,i){const o=xe("vue-number-input");return y(),C("div",b$,[c("div",y$,[c("h2",null,g(e.$t("buttons.share")),1)]),e.listing?(y(),C(fe,{key:0},[c("div",w$,[c("table",null,[c("tr",null,[t[7]||(t[7]=c("th",null,"#",-1)),c("th",null,g(e.$t("settings.shareDuration")),1),t[8]||(t[8]=c("th",null,null,-1)),t[9]||(t[9]=c("th",null,null,-1))]),(y(!0),C(fe,null,Ue(e.links,l=>(y(),C("tr",{key:l.hash},[c("td",null,g(l.hash),1),c("td",null,[l.expire!==0?(y(),C(fe,{key:0},[re(g(i.humanTime(l.expire)),1)],64)):(y(),C(fe,{key:1},[re(g(e.$t("permanent")),1)],64))]),c("td",_$,[c("button",{class:"action copy-clipboard","aria-label":e.$t("buttons.copyToClipboard"),title:e.$t("buttons.copyToClipboard"),onClick:a=>i.copyToClipboard(i.buildLink(l))},t[10]||(t[10]=[c("i",{class:"material-icons"},"content_paste",-1)]),8,$$)]),i.hasDownloadLink()?(y(),C("td",S$,[c("button",{class:"action copy-clipboard","aria-label":e.$t("buttons.copyDownloadLinkToClipboard"),title:e.$t("buttons.copyDownloadLinkToClipboard"),onClick:a=>i.copyToClipboard(i.buildDownloadLink(l))},t[11]||(t[11]=[c("i",{class:"material-icons"},"content_paste_go",-1)]),8,E$)])):B("",!0),c("td",k$,[c("button",{class:"action",onClick:a=>i.deleteLink(a,l),"aria-label":e.$t("buttons.delete"),title:e.$t("buttons.delete")},t[12]||(t[12]=[c("i",{class:"material-icons"},"delete",-1)]),8,C$)])]))),128))])]),c("div",T$,[c("button",{class:"button button--flat button--grey",onClick:t[0]||(t[0]=(...l)=>e.closeHovers&&e.closeHovers(...l)),"aria-label":e.$t("buttons.close"),title:e.$t("buttons.close"),tabindex:"2"},g(e.$t("buttons.close")),9,P$),c("button",{id:"focus-prompt",class:"button button--flat button--blue",onClick:t[1]||(t[1]=()=>i.switchListing()),"aria-label":e.$t("buttons.new"),title:e.$t("buttons.new"),tabindex:"1"},g(e.$t("buttons.new")),9,A$)])],64)):(y(),C(fe,{key:1},[c("div",R$,[c("p",null,g(e.$t("settings.shareDuration")),1),c("div",O$,[ne(o,{center:"",controls:"",size:"small",max:2147483647,min:0,onKeyup:Ne(i.submit,["enter"]),modelValue:e.time,"onUpdate:modelValue":t[2]||(t[2]=l=>e.time=l),tabindex:"1"},null,8,["onKeyup","modelValue"]),J(c("select",{class:"right","onUpdate:modelValue":t[3]||(t[3]=l=>e.unit=l),"aria-label":e.$t("time.unit"),tabindex:"2"},[c("option",U$,g(e.$t("time.seconds")),1),c("option",L$,g(e.$t("time.minutes")),1),c("option",I$,g(e.$t("time.hours")),1),c("option",x$,g(e.$t("time.days")),1)],8,D$),[[oc,e.unit]])]),c("p",null,g(e.$t("prompts.optionalPassword")),1),J(c("input",{class:"input input--block",type:"password","onUpdate:modelValue":t[4]||(t[4]=l=>e.password=l),tabindex:"3"},null,512),[[Re,e.password,void 0,{trim:!0}]])]),c("div",B$,[c("button",{class:"button button--flat button--grey",onClick:t[5]||(t[5]=()=>i.switchListing()),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"5"},g(e.$t("buttons.cancel")),9,N$),c("button",{id:"focus-prompt",class:"button button--flat button--blue",onClick:t[6]||(t[6]=(...l)=>i.submit&&i.submit(...l)),"aria-label":e.$t("buttons.share"),title:e.$t("buttons.share"),tabindex:"4"},g(e.$t("buttons.share")),9,M$)])],64))])}const j$=De(g$,[["render",F$]]),z$={name:"share-delete",computed:{...Fe(ue,["currentPrompt"])},methods:{...He(ue,["closeHovers"]),submit:function(){var e;(e=this.currentPrompt)==null||e.confirm()}}},H$={class:"card floating"},q$={class:"card-content"},V$={class:"card-action"},G$=["aria-label","title"],K$=["aria-label","title"];function W$(e,t,n,r,s,i){return y(),C("div",H$,[c("div",q$,[c("p",null,g(e.$t("prompts.deleteMessageShare",{path:""})),1)]),c("div",V$,[c("button",{onClick:t[0]||(t[0]=(...o)=>e.closeHovers&&e.closeHovers(...o)),class:"button button--flat button--grey","aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"2"},g(e.$t("buttons.cancel")),9,G$),c("button",{id:"focus-prompt",onClick:t[1]||(t[1]=(...o)=>i.submit&&i.submit(...o)),class:"button button--flat button--red","aria-label":e.$t("buttons.delete"),title:e.$t("buttons.delete"),tabindex:"1"},g(e.$t("buttons.delete")),9,K$)])])}const Q$=De(z$,[["render",W$]]),Y$={class:"card floating"},X$={class:"card-title"},J$={class:"card-content"},Z$={class:"card-action full"},eS={class:"title"},tS={class:"title"},nS=ie({__name:"Upload",setup(e){const{t}=ke(),n=Xe(),r=Ee(),s=ue(),i=u=>{var v;const d=(v=u.currentTarget)==null?void 0:v.files;if(d===null)return;const f=!!d[0].webkitRelativePath,p=[];for(let _=0;_<d.length;_++){const S=d[_],k=f?S.webkitRelativePath:void 0;p.push({file:S,name:S.name,size:S.size,isDir:!1,fullPath:k})}const h=n.path.endsWith("/")?n.path:n.path+"/";if(Nt(p,r.req.items)){s.showHover({prompt:"replace",action:_=>{_.preventDefault(),s.closeHovers(),vt(p,h,!1)},confirm:_=>{_.preventDefault(),s.closeHovers(),vt(p,h,!0)}});return}vt(p,h)},o=u=>{const d=document.createElement("input");d.type="file",d.multiple=!0,d.webkitdirectory=u,d.onchange=i,d.click()},l=()=>{o(!1)},a=()=>{o(!0)};return(u,d)=>(y(),C("div",Y$,[c("div",X$,[c("h2",null,g(m(t)("prompts.upload")),1)]),c("div",J$,[c("p",null,g(m(t)("prompts.uploadMessage")),1)]),c("div",Z$,[c("div",{onClick:l,onKeypress:Ne(l,["enter"]),class:"action",id:"focus-prompt",tabindex:"1"},[d[0]||(d[0]=c("i",{class:"material-icons"},"insert_drive_file",-1)),c("div",eS,g(m(t)("buttons.file")),1)],32),c("div",{onClick:a,onKeypress:Ne(a,["enter"]),class:"action",tabindex:"2"},[d[1]||(d[1]=c("i",{class:"material-icons"},"folder",-1)),c("div",tS,g(m(t)("buttons.folder")),1)],32)])]))}}),rS={name:"discardEditorChanges",methods:{...He(ue,["closeHovers"]),...He(Ee,["updateRequest"]),submit:async function(){this.updateRequest(null);const e=rt.removeLastDir(this.$route.path)+"/";this.$router.push({path:e})}}},oS={class:"card floating"},sS={class:"card-content"},iS={class:"card-action"},aS=["aria-label","title"],lS=["aria-label","title"];function uS(e,t,n,r,s,i){return y(),C("div",oS,[c("div",sS,[c("p",null,g(e.$t("prompts.discardEditorChanges")),1)]),c("div",iS,[c("button",{class:"button button--flat button--grey",onClick:t[0]||(t[0]=(...o)=>e.closeHovers&&e.closeHovers(...o)),"aria-label":e.$t("buttons.cancel"),title:e.$t("buttons.cancel"),tabindex:"2"},g(e.$t("buttons.cancel")),9,aS),c("button",{id:"focus-prompt",onClick:t[1]||(t[1]=(...o)=>i.submit&&i.submit(...o)),class:"button button--flat button--red","aria-label":e.$t("buttons.discardChanges"),title:e.$t("buttons.discardChanges"),tabindex:"1"},g(e.$t("buttons.discardChanges")),9,lS)])])}const cS=De(rS,[["render",uS]]),dS=ie({__name:"Prompts",setup(e){const t=ue(),{currentPromptName:n}=un(t),r=new Map([["info",n1],["help",zw],["delete",p1],["rename",D1],["archive",F1],["unarchive",J1],["permissions",d_],["move",S_],["copy",U_],["newFile",F_],["newDir",K_],["download",S1],["replace",r$],["replace-rename",p$],["share",j$],["upload",nS],["share-delete",Q$],["deleteUser",b1],["discardEditorChanges",cS]]);return we(n,s=>{const i=r.get(s);if(!i)return;const{open:o,close:l}=gf({component:Lw,slots:{default:i}});t.setCloseOnPrompt(l,s),o()}),window.addEventListener("keydown",s=>{t.currentPrompt&&s.key==="Escape"&&(s.stopImmediatePropagation(),t.closeHovers())}),(s,i)=>(y(),te(m(yf)))}}),fS={name:"shell",computed:{...Fe(ue,["showShell"]),...Fe(Ee,["isFiles"]),path:function(){return this.isFiles?this.$route.path:""}},data:()=>({content:[],history:[],historyPos:0,canInput:!0,shellDrag:!1,shellHeight:25,fontsize:parseFloat(getComputedStyle(document.documentElement).fontSize)}),mounted(){window.addEventListener("resize",this.resize)},beforeUnmount(){window.removeEventListener("resize",this.resize)},methods:{...He(ue,["toggleShell"]),checkTheme(){return Na=="dark"?"rgba(255, 255, 255, 0.4)":"rgba(127, 127, 127, 0.4)"},startDrag(){document.addEventListener("pointermove",this.handleDrag),this.shellDrag=!0},stopDrag(){document.removeEventListener("pointermove",this.handleDrag),this.shellDrag=!1},handleDrag:Zn(function(e){const t=window.innerHeight/this.fontsize-4,n=(window.innerHeight-e.clientY)/this.fontsize,r=2.25+document.querySelector(".shell__divider").offsetHeight/this.fontsize;n<=t&&n>=r&&(this.shellHeight=n.toFixed(2))},32),resize:Zn(function(){const e=window.innerHeight/this.fontsize-4,t=2.25+document.querySelector(".shell__divider").offsetHeight/this.fontsize;this.shellHeight>e?this.shellHeight=e:this.shellHeight<t&&(this.shellHeight=t)},32),scroll:function(){this.$refs.scrollable.scrollTop=this.$refs.scrollable.scrollHeight},focus:function(){this.$refs.input.focus()},historyUp(){this.historyPos>0&&(this.$refs.input.innerText=this.history[--this.historyPos],this.focus())},historyDown(){this.historyPos>=0&&this.historyPos<this.history.length-1?(this.$refs.input.innerText=this.history[++this.historyPos],this.focus()):(this.historyPos=this.history.length,this.$refs.input.innerText="")},submit:function(e){const t=e.target.innerText.trim();if(t==="")return;if(t==="clear"){this.content=[],e.target.innerHTML="";return}if(t==="exit"){e.target.innerHTML="",this.toggleShell();return}this.canInput=!1,e.target.innerHTML="";const n={text:"".concat(t,"\n\n")};this.history.push(t),this.historyPos=this.history.length,this.content.push(n),z0(this.path,t,r=>{n.text+="".concat(r.data,"\n"),this.scroll()},()=>{n.text=n.text.replace(/\u001b\[[0-9;]+m/g,"").trimEnd(),this.canInput=!0,this.$refs.input.focus(),this.scroll()})}}},pS={class:"shell__text"};function hS(e,t,n,r,s,i){return y(),C("div",{class:Pe(["shell",{"shell--hidden":!e.showShell}]),style:Ve({height:"".concat(this.shellHeight,"em"),direction:"ltr"})},[c("div",{onPointerdown:t[0]||(t[0]=o=>i.startDrag()),onPointerup:t[1]||(t[1]=o=>i.stopDrag()),class:"shell__divider",style:Ve(this.shellDrag?{background:"".concat(i.checkTheme())}:"")},null,36),c("div",{onClick:t[5]||(t[5]=(...o)=>i.focus&&i.focus(...o)),class:"shell__content",ref:"scrollable"},[(y(!0),C(fe,null,Ue(e.content,(o,l)=>(y(),C("div",{key:l,class:"shell__result"},[t[7]||(t[7]=c("div",{class:"shell__prompt"},[c("i",{class:"material-icons"},"chevron_right")],-1)),c("pre",pS,g(o.text),1)]))),128)),c("div",{class:Pe(["shell__result",{"shell__result--hidden":!e.canInput}])},[t[8]||(t[8]=c("div",{class:"shell__prompt"},[c("i",{class:"material-icons"},"chevron_right")],-1)),c("pre",{tabindex:"0",ref:"input",class:"shell__text",contenteditable:!0,onKeydown:[t[2]||(t[2]=Ne(Ge((...o)=>i.historyUp&&i.historyUp(...o),["prevent"]),["arrow-up"])),t[3]||(t[3]=Ne(Ge((...o)=>i.historyDown&&i.historyDown(...o),["prevent"]),["arrow-down"]))],onKeypress:t[4]||(t[4]=Ne(Ge((...o)=>i.submit&&i.submit(...o),["prevent"]),["enter"]))},null,544)],2)],512),J(c("div",{onPointerup:t[6]||(t[6]=o=>i.stopDrag()),class:"shell__overlay"},null,544),[[Bt,this.shellDrag]])],6)}const mS=De(fS,[["render",hS]]),vS={name:"uploadFiles",data:function(){return{open:!1}},computed:{...Fe(Ht,["filesInUpload","filesInUploadCount","uploadSpeed","getETA","getProgress","getProgressDecimal","getTotalProgressBytes","getTotalSize"]),...Gr(Ee,["reload"]),formattedETA(){if(!this.getETA||this.getETA===1/0)return"--:--:--";let e=this.getETA;const t=Math.floor(e/3600);e%=3600;const n=Math.floor(e/60),r=Math.round(e%60);return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))}},methods:{...He(Ht,["reset"]),toggle:function(){this.open=!this.open},abortAll(){confirm(this.$t("upload.abortUpload"))&&(E0(),Me.done("upload"),this.open=!1,this.reset(),this.reload=!0)}}},gS={class:"card floating"},bS={class:"card-title"},yS={class:"upload-info"},wS={class:"upload-speed"},_S={class:"upload-eta"},$S={class:"upload-percentage"},SS={class:"upload-fraction"},ES={class:"material-icons"},kS={class:"card-content file-icons"},CS=["data-dir","data-type","aria-label"],TS={class:"file-name"},PS={class:"file-progress"};function AS(e,t,n,r,s,i){return e.filesInUploadCount>0?(y(),C("div",{key:0,class:Pe(["upload-files",{closed:!e.open}])},[c("div",gS,[c("div",bS,[c("h2",null,g(e.$t("prompts.uploadFiles",{files:e.filesInUploadCount})),1),c("div",yS,[c("div",wS,g(e.uploadSpeed.toFixed(2))+" MB/s",1),c("div",_S,g(i.formattedETA)+" remaining",1),c("div",$S,g(e.getProgressDecimal)+"% Completed ",1),c("div",SS,g(e.getTotalProgressBytes)+" / "+g(e.getTotalSize),1)]),c("button",{class:"action",onClick:t[0]||(t[0]=(...o)=>i.abortAll&&i.abortAll(...o)),"aria-label":"Abort upload",title:"Abort upload"},t[2]||(t[2]=[c("i",{class:"material-icons"},g("cancel"),-1)])),c("button",{class:"action",onClick:t[1]||(t[1]=(...o)=>i.toggle&&i.toggle(...o)),"aria-label":"Toggle file upload list",title:"Toggle file upload list"},[c("i",ES,g(e.open?"keyboard_arrow_down":"keyboard_arrow_up"),1)])]),c("div",kS,[(y(!0),C(fe,null,Ue(e.filesInUpload,o=>(y(),C("div",{class:"file",key:o.id,"data-dir":o.isDir,"data-type":o.type,"aria-label":o.name},[c("div",TS,[t[3]||(t[3]=c("i",{class:"material-icons"},null,-1)),re(" "+g(o.name),1)]),c("div",PS,[c("div",{style:Ve({width:o.progress+"%"})},null,4)])],8,CS))),128))])])],2)):B("",!0)}const RS=De(vS,[["render",AS],["__scopeId","data-v-a7d9fb58"]]),OS=["aria-label","title"],DS={class:"material-icons"},US={key:0,class:"counter"},me=ie({__name:"Action",props:{icon:{},label:{},counter:{},show:{}},emits:["action"],setup(e,{emit:t}){const n=e,r=t,s=ue(),i=()=>{n.show&&s.showHover(n.show),r("action")};return(o,l)=>(y(),C("button",{onClick:i,"aria-label":o.label,title:o.label,class:"action"},[c("i",DS,g(o.icon),1),c("span",null,g(o.label),1),o.counter&&o.counter>0?(y(),C("span",US,g(o.counter),1)):B("",!0)],8,OS))}}),LS={key:0},IS={key:1},xS={key:2},BS={key:3},NS={key:4},MS={key:5},FS={key:6},jS={key:7},zS={key:8},HS={key:9},qS=ie({__name:"ContextMenu",setup(e){const t=Le(),n=Ee(),r=ue(),s=hs(),i=Xe(),o=vn(),{t:l}=ke(),a=G(null),u=W(()=>{if(s.position===null)return{left:"0px",right:"0px"};const $={left:s.position.x+"px",top:s.position.y+"px"};return window.innerWidth-s.position.x<150&&($.transform="translateX(calc(-100% - 3px))"),$}),d=W(()=>{var $,v,_,S,k,E,P,T,x,U,z,D;return{download:(v=($=t.user)==null?void 0:$.perm.download)!=null?v:!1,delete:n.selectedCount>0&&((_=t.user)==null?void 0:_.perm.delete),edit:n.selectedCount===1&&(((S=n.req)==null?void 0:S.items[n.selected[0]].type)==="text"||((k=n.req)==null?void 0:k.items[n.selected[0]].type)==="textImmutable"),rename:n.selectedCount===1&&((E=t.user)==null?void 0:E.perm.rename),share:n.selectedCount===1&&((P=t.user)==null?void 0:P.perm.share),move:n.selectedCount>0&&((T=t.user)==null?void 0:T.perm.rename),copy:n.selectedCount>0&&((x=t.user)==null?void 0:x.perm.create),permissions:n.selectedCount===1&&((U=t.user)==null?void 0:U.perm.modify),archive:n.selectedCount>0&&((z=t.user)==null?void 0:z.perm.create),unarchive:n.selectedCount===1&&n.onlyArchivesSelected&&((D=t.user)==null?void 0:D.perm.create)}}),f=$=>{var v;(v=a.value)!=null&&v.contains($.target)||s.hide()},p=()=>{var v;const $=(v=n.req)==null?void 0:v.items[n.selected[0]].url;$&&o.push({path:$})},h=()=>{if(n.req!==null){if(n.selectedCount===1&&!n.req.items[n.selected[0]].isDir){Mr(null,n.req.items[n.selected[0]].url);return}r.showHover({prompt:"download",confirm:$=>{r.closeHovers();const v=[];if(n.selectedCount>0&&n.req!==null)for(const _ of n.selected)v.push(n.req.items[_].url);else v.push(i.path);Mr($,...v)}})}};return Oe(()=>{window.addEventListener("mousedown",f)}),Ot(()=>{window.removeEventListener("mousedown",f)}),($,v)=>(y(),C("div",{id:"context-menu",ref_key:"contextMenuDiv",ref:a,class:"card",style:Ve(u.value)},[c("p",null,[ne(me,{icon:"info",label:m(l)("buttons.info"),show:"info"},null,8,["label"])]),d.value.share?(y(),C("p",LS,[ne(me,{icon:"share",label:m(l)("buttons.share"),show:"share"},null,8,["label"])])):B("",!0),d.value.edit?(y(),C("p",IS,[ne(me,{icon:"mode_edit",label:m(l)("buttons.edit"),onAction:p},null,8,["label"])])):B("",!0),d.value.rename?(y(),C("p",xS,[ne(me,{icon:"drive_file_rename_outline",label:m(l)("buttons.rename"),show:"rename"},null,8,["label"])])):B("",!0),d.value.copy?(y(),C("p",BS,[ne(me,{id:"copy-button",icon:"content_copy",label:m(l)("buttons.copyFile"),show:"copy"},null,8,["label"])])):B("",!0),d.value.move?(y(),C("p",NS,[ne(me,{id:"move-button",icon:"forward",label:m(l)("buttons.moveFile"),show:"move"},null,8,["label"])])):B("",!0),d.value.permissions?(y(),C("p",MS,[ne(me,{id:"permissions-button",icon:"lock",label:m(l)("buttons.permissions"),show:"permissions"},null,8,["label"])])):B("",!0),d.value.archive?(y(),C("p",FS,[ne(me,{id:"archive-button",icon:"archive",label:m(l)("buttons.archive"),show:"archive"},null,8,["label"])])):B("",!0),d.value.unarchive?(y(),C("p",jS,[ne(me,{id:"unarchive-button",icon:"unarchive",label:m(l)("buttons.unarchive"),show:"unarchive"},null,8,["label"])])):B("",!0),d.value.download?(y(),C("p",zS,[ne(me,{icon:"file_download",label:m(l)("buttons.download"),onAction:h,counter:m(n).selectedCount},null,8,["label","counter"])])):B("",!0),d.value.delete?(y(),C("p",HS,[ne(me,{id:"delete-button",icon:"delete",label:m(l)("buttons.delete"),show:"delete"},null,8,["label"])])):B("",!0)],4))}}),VS={key:0,class:"progress"},wo=ie({__name:"Layout",setup(e){const t=ue(),n=Le(),r=Ee(),s=Ht(),i=hs(),o=Xe();we(o,()=>{r.selected=[],r.multiple=!1,i.hide(),t.currentPromptName!=="success"&&t.closeHovers()});const l=W(()=>(r.isListing||!1)&&i.position!==null);return(a,u)=>{var f;const d=xe("router-view");return y(),C("div",null,[m(s).getProgress?(y(),C("div",VS,[c("div",{style:Ve({width:m(s).getProgress+"%"})},null,4)])):B("",!0),ne(Uw),c("main",null,[ne(d),m(ln)&&m(n).isLoggedIn&&((f=m(n).user)!=null&&f.perm.execute)?(y(),te(mS,{key:0})):B("",!0)]),ne(dS),l.value?(y(),te(qS,{key:1})):B("",!0),ne(RS)])}}}),GS=["src"],dr=ie({__name:"HeaderBar",props:{showLogo:{type:Boolean},showMenu:{type:Boolean}},setup(e){const t=ue(),n=sc(),{t:r}=ke(),s=W(()=>!!n.actions);return(i,o)=>(y(),C("header",null,[i.showLogo?(y(),C("img",{key:0,src:m(La)},null,8,GS)):B("",!0),i.showMenu?(y(),te(me,{key:1,class:"menu-button",icon:"menu",label:m(r)("buttons.toggleSidebar"),onAction:o[0]||(o[0]=l=>m(t).showHover("sidebar"))},null,8,["label"])):B("",!0),an(i.$slots,"default"),c("div",{id:"dropdown",class:Pe({active:m(t).currentPromptName==="more"})},[an(i.$slots,"actions")],2),s.value?(y(),te(me,{key:2,id:"more",icon:"more_vert",label:m(r)("buttons.more"),onAction:o[1]||(o[1]=l=>m(t).showHover("more"))},null,8,["label"])):B("",!0),J(c("div",{class:"overlay",onClick:o[2]||(o[2]=(...l)=>m(t).closeHovers&&m(t).closeHovers(...l))},null,512),[[Bt,m(t).currentPromptName=="more"]])]))}}),KS={class:"breadcrumbs"},Bu=ie({__name:"Breadcrumbs",props:{base:{},noLink:{type:Boolean}},setup(e){const{t}=ke(),n=Xe(),r=e,s=W(()=>{const l=n.path.replace(r.base,"").split("/");l[0]===""&&l.shift(),l[l.length-1]===""&&l.pop();const a=[];for(let u=0;u<l.length;u++)u===0?a.push({name:decodeURIComponent(l[u]),url:r.base+"/"+l[u]+"/"}):a.push({name:decodeURIComponent(l[u]),url:a[u-1].url+l[u]+"/"});if(a.length>3){for(;a.length!==4;)a.shift();a[0].name="..."}return a}),i=W(()=>r.noLink?"span":"router-link");return(o,l)=>(y(),C("div",KS,[(y(),te(gt(i.value),{to:o.base||"","aria-label":m(t)("files.home"),title:m(t)("files.home")},{default:Ce(()=>l[0]||(l[0]=[c("i",{class:"material-icons"},"home",-1)])),_:1},8,["to","aria-label","title"])),(y(!0),C(fe,null,Ue(s.value,(a,u)=>(y(),C("span",{key:u},[l[1]||(l[1]=c("span",{class:"chevron"},[c("i",{class:"material-icons"},"keyboard_arrow_right")],-1)),(y(),te(gt(i.value),{to:a.url},{default:Ce(()=>[re(g(a.name),1)]),_:2},1032,["to"]))]))),128))]))}}),WS={class:"message"},QS={class:"material-icons"},yt=ie({__name:"Errors",props:{errorCode:{default:500},showHeader:{type:Boolean,default:!1}},setup(e){const{t}=ke({}),n={0:{icon:"cloud_off",message:"errors.connection"},403:{icon:"error",message:"errors.forbidden"},404:{icon:"gps_off",message:"errors.notFound"},500:{icon:"error_outline",message:"errors.internal"}},r=e,s=W(()=>n[r.errorCode]?n[r.errorCode]:n[500]);return(i,o)=>(y(),C("div",null,[i.showHeader?(y(),te(dr,{key:0,showMenu:"",showLogo:""})):B("",!0),c("h2",WS,[c("i",QS,g(s.value.icon),1),c("span",null,g(m(t)(s.value.message)),1)])]))}}),YS=Vt("clipboard",{state:()=>({key:"",items:[],path:void 0}),getters:{},actions:{resetClipboard(){this.$reset()}}});function XS(e){for(let r=0;r<e.length;r++)e[r]=e[r].toLowerCase();let t=null;const n=Array.prototype.find;return n.call(document.styleSheets,r=>(t=n.call(r.cssRules,s=>{let i=!1;if(s.constructor.name==="CSSStyleRule")for(let o=0;o<e.length;o++)s.selectorText.toLowerCase()===e[o]&&(i=!0);return i}),t!=null)),t}const JS={id:"input"},ZS=["aria-label","title"],eE={key:1,class:"material-icons"},tE=["autofocus","aria-label","placeholder"],nE={key:0,class:"boxes"},rE=["onClick","aria-label"],oE={class:"material-icons"},sE={key:0,class:"material-icons"},iE={key:1,class:"material-icons"},aE=ie({__name:"Search",setup(e){const t={image:{label:"images",icon:"insert_photo"},audio:{label:"music",icon:"volume_up"},video:{label:"video",icon:"movie"},pdf:{label:"pdf",icon:"picture_as_pdf"}},n=ue(),r=Ee(),{currentPromptName:s}=un(n),i=G(""),o=G(!1),l=G(!1),a=G([]),u=G(!1),d=G(50),f=Se("$showError"),p=G(null),h=G(null),{t:$}=ke(),v=Xe();we(s,(D,K)=>{var Q,V;o.value=D==="search",K==="search"&&!o.value?(u.value&&(r.reload=!0),document.body.style.overflow="auto",U(),i.value="",o.value=!1,(Q=p.value)==null||Q.blur()):o.value&&(u.value=!1,(V=p.value)==null||V.focus(),document.body.style.overflow="hidden")}),we(i,()=>{a.value.length&&U()});const _=W(()=>a.value.length===0),S=W(()=>l.value?"":i.value===""?$("search.typeToSearch"):$("search.pressToSearch")),k=W(()=>a.value.slice(0,d.value));Oe(()=>{h.value!==null&&h.value.addEventListener("scroll",D=>{D.target.offsetHeight+D.target.scrollTop>=D.target.scrollHeight-100&&(d.value+=50)})});const E=()=>{!o.value&&n.showHover("search")},P=D=>{D.stopPropagation(),D.preventDefault(),n.closeHovers()},T=D=>{if(D.key==="Escape"){P(D);return}a.value.length=0},x=D=>{i.value="".concat(D," "),p.value!==null&&p.value.focus()},U=()=>{l.value=!1,d.value=50,a.value=[]},z=async D=>{if(D.preventDefault(),i.value==="")return;let K=v.path;r.isListing||(K=rt.removeLastDir(K)+"/"),l.value=!0;try{a.value=await M0(K,i.value)}catch(Q){f(Q)}l.value=!1};return(D,K)=>{const Q=xe("router-link");return y(),C("div",{id:"search",onClick:E,class:Pe({active:o.value,ongoing:l.value})},[c("div",JS,[o.value?(y(),C("button",{key:0,class:"action",onClick:P,"aria-label":D.$t("buttons.close"),title:D.$t("buttons.close")},K[1]||(K[1]=[c("i",{class:"material-icons"},"arrow_back",-1)]),8,ZS)):(y(),C("i",eE,"search")),J(c("input",{type:"text",onKeyup:[Ge(T,["exact"]),Ne(z,["enter"])],ref_key:"input",ref:p,autofocus:o.value,"onUpdate:modelValue":K[0]||(K[0]=V=>i.value=V),"aria-label":D.$t("search.search"),placeholder:D.$t("search.search")},null,40,tE),[[Re,i.value,void 0,{trim:!0}]])]),c("div",{id:"result",ref_key:"result",ref:h},[c("div",null,[_.value?(y(),C(fe,{key:0},[c("p",null,g(S.value),1),i.value.length===0?(y(),C("div",nE,[c("h3",null,g(D.$t("search.types")),1),c("div",null,[(y(),C(fe,null,Ue(t,(V,A)=>c("div",{tabindex:"0",key:A,role:"button",onClick:j=>x("type:"+A),"aria-label":D.$t("search."+V.label)},[c("i",oE,g(V.icon),1),c("p",null,g(D.$t("search."+V.label)),1)],8,rE)),64))])])):B("",!0)],64)):B("",!0),J(c("ul",null,[(y(!0),C(fe,null,Ue(k.value,(V,A)=>(y(),C("li",{key:A},[ne(Q,{onClick:P,to:V.url},{default:Ce(()=>[V.dir?(y(),C("i",sE,"folder")):(y(),C("i",iE,"insert_drive_file")),c("span",null,"./"+g(V.path),1)]),_:2},1032,["to"])]))),128))],512),[[Bt,a.value.length>0]])]),K[2]||(K[2]=c("p",{id:"renew"},[c("i",{class:"material-icons spin"},"autorenew")],-1))],512)],2)}}});function lE(e){let t=0,n=0;return e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:n}}const uE=["draggable","data-dir","data-type","aria-label","aria-selected","data-ext"],cE={key:0},dE={key:1,class:"material-icons"},fE={key:0,class:"name"},pE={key:1,class:"name"},hE=["data-order"],mE={class:"modified"},vE=["datetime"],gE={class:"permissions"},Ko=ie({__name:"ListingItem",props:{name:{},link:{},isDir:{type:Boolean},isSymlink:{type:Boolean},url:{},type:{},size:{},mode:{},modified:{},index:{},readOnly:{type:Boolean},path:{}},setup(e){const{t}=ke(),n=G(0),r=Se("$showError"),s=vn(),i=e,o=Le(),l=Ee(),a=ue(),u=hs(),{diskUsages:d}=un(l),f=G(null),p=W(()=>i.isDir?f.value?Pt(f.value.size)+" "+t("prompts.inodeCount",{count:f.value.inodes}):"-":E()),h=W(()=>{var L;return!i.readOnly&&((L=o.user)==null?void 0:L.singleClick)}),$=W(()=>l.selected.indexOf(i.index)!==-1),v=W(()=>{var L;return!i.readOnly&&((L=o.user)==null?void 0:L.perm.rename)});we(d,()=>{T()},{deep:!0});const _=W(()=>{var L;if(!i.isDir||i.readOnly)return!1;for(const w of l.selected)if(((L=l.req)==null?void 0:L.items[w].url)===i.url)return!1;return!0}),S=W(()=>{const L={path:i.path,modified:i.modified};return R0(L,"thumb")}),k=W(()=>vc),E=()=>i.type=="invalid_link"?"invalid link":Pt(i.size),P=()=>{let L="";return i.isSymlink?L+="l":i.isDir?L+="d":L+="-",L+=(i.mode&256)!=0?"r":"-",L+=(i.mode&128)!=0?"w":"-",L+=(i.mode&64)!=0?"x":"-",L+=(i.mode&32)!=0?"r":"-",L+=(i.mode&16)!=0?"w":"-",L+=(i.mode&8)!=0?"x":"-",L+=(i.mode&4)!=0?"r":"-",L+=(i.mode&2)!=0?"w":"-",L+=(i.mode&1)!=0?"x":"-",L},T=()=>{i.path&&(f.value=l.diskUsages.get(i.path)||null)},x=()=>{var L;return!i.readOnly&&((L=o.user)!=null&&L.dateFormat)?dt(i.modified).format("L LT"):dt(i.modified).fromNow()},U=()=>{if(l.selectedCount===0){l.selected.push(i.index);return}$.value||(l.selected=[],l.selected.push(i.index))},z=L=>{var b;if(!_.value)return;L.preventDefault();let w=L.target;if(w!==null){for(let R=0;R<5;R++)w!=null&&w.classList.contains("item")||(w=(b=w==null?void 0:w.parentElement)!=null?b:null);w!==null&&(w.style.opacity="1")}},D=async L=>{var se,be,ve;if(!_.value||(L.preventDefault(),l.selectedCount===0))return;let w=L.target;for(let I=0;I<5;I++)w!==null&&!w.classList.contains("item")&&(w=w.parentElement);const b=[];for(const I of l.selected)l.req&&b.push({from:(se=l.req)==null?void 0:se.items[I].url,to:i.url+encodeURIComponent((be=l.req)==null?void 0:be.items[I].name),name:(ve=l.req)==null?void 0:ve.items[I].name});if(w===null)return;const R=w.__vue__.url,O=(await Qt(R)).items,F=(I,X)=>{Xr(b,I,X).then(()=>{l.reload=!0}).catch(r)},N=Nt(b,O);let Z=!1,ae=!1;if(N){a.showHover({prompt:"replace-rename",confirm:(I,X)=>{Z=X=="overwrite",ae=X=="rename",I.preventDefault(),a.closeHovers(),F(Z,ae)}});return}F(Z,ae)},K=L=>{h.value&&!L.ctrlKey&&!L.metaKey&&!L.shiftKey&&!l.multiple?V():Q(L)},Q=L=>{if(!h.value&&l.selectedCount!==0&&L.preventDefault(),setTimeout(()=>{n.value=0},300),n.value++,n.value>1&&V(),l.selected.indexOf(i.index)!==-1){l.removeSelected(i.index);return}if(L.shiftKey&&l.selected.length>0){let w=0,b=0;for(i.index>l.selected[0]?(w=l.selected[0]+1,b=i.index):(w=i.index,b=l.selected[0]-1);w<=b;w++)l.selected.indexOf(w)==-1&&l.selected.push(w);return}!h.value&&!L.ctrlKey&&!L.metaKey&&!l.multiple&&(l.selected=[]),l.selected.push(i.index)},V=()=>{s.push({path:i.url})},A=L=>{const w=L.lastIndexOf(".");return w===-1?L:L.substring(w)},j=L=>{u.hide(),l.selected.indexOf(i.index)===-1&&(l.selected=[i.index]);const w=lE(L);u.show(w.x+2,w.y)};return Oe(()=>{T()}),(L,w)=>{var R;const b=zr("lazy");return y(),C("div",{class:"item",role:"button",tabindex:"0",draggable:v.value,onDragstart:U,onDragover:z,onDrop:D,onClick:K,"data-dir":L.isDir,"data-type":L.type,"aria-label":L.name,"aria-selected":$.value,"data-ext":A(L.name).toLowerCase(),onContextmenu:Ge(j,["prevent"])},[c("div",null,[!L.readOnly&&L.type==="image"&&k.value?J((y(),C("img",cE,null,512)),[[b,S.value]]):(y(),C("i",dE))]),c("div",null,[L.isSymlink&&L.link!==""?(y(),C("p",fE,g(L.name)+" → "+g(L.link),1)):(y(),C("p",pE,g(L.name),1)),c("p",{class:"size","data-order":((R=f.value)==null?void 0:R.size)||E()||"-1"},g(p.value),9,hE),c("p",mE,[c("time",{datetime:L.modified},g(x()),9,vE)]),c("p",gE,g(P()),1)])],40,uE)}}}),bE={key:0,id:"file-selection"},yE={key:0},wE={key:1},_E={class:"message delayed"},$E={key:0},SE={class:"message"},EE={class:"item header"},kE=["title","aria-label"],CE={class:"material-icons"},TE=["title","aria-label"],PE={class:"material-icons"},AE=["title","aria-label"],RE={class:"material-icons"},OE={key:0},DE={key:1},UE={key:2},LE={key:3},IE=["title","aria-label"],xE=ie({__name:"FileListing",setup(e){const t=G(50),n=G(280),r=G(0),s=G(window.innerWidth),i=G(0),o=Se("$showError"),l=YS(),a=Le(),u=Ee(),d=ue(),{req:f}=un(u),p=Xe(),{t:h}=ke(),$=G(null),v=W(()=>u.req?u.req.sorting.by==="name":!1),_=W(()=>u.req?u.req.sorting.by==="size":!1),S=W(()=>u.req?u.req.sorting.by==="modified":!1),k=W(()=>u.req?u.req.sorting.asc:!1),E=W(()=>P.value.dirs.slice(0,t.value)),P=W(()=>{var oe;const M=[],q=[];return(oe=u.req)==null||oe.items.forEach(ee=>{ee.isDir?M.push(ee):q.push(ee)}),{dirs:M,files:q}}),T=W(()=>{let M=t.value-P.value.dirs.length;return M<0&&(M=0),P.value.files.slice(0,M)}),x=W(()=>v.value&&!k.value?"arrow_upward":"arrow_downward"),U=W(()=>_.value&&k.value?"arrow_downward":"arrow_upward"),z=W(()=>S.value&&k.value?"arrow_downward":"arrow_upward"),D=W(()=>{const M={list:"view_module",mosaic:"grid_view","mosaic gallery":"view_list"};return a.user===null?M.list:M[a.user.viewMode]}),K=W(()=>{var M,q,oe,ee,ge,$e,Ie,he,Be,ft,$n;return{upload:(M=a.user)==null?void 0:M.perm.create,download:(q=a.user)==null?void 0:q.perm.download,shell:((oe=a.user)==null?void 0:oe.perm.execute)&&ln,delete:u.selectedCount>0&&((ee=a.user)==null?void 0:ee.perm.delete),rename:u.selectedCount===1&&((ge=a.user)==null?void 0:ge.perm.rename),share:u.selectedCount===1&&(($e=a.user)==null?void 0:$e.perm.share),move:u.selectedCount>0&&((Ie=a.user)==null?void 0:Ie.perm.rename),copy:u.selectedCount>0&&((he=a.user)==null?void 0:he.perm.create),permissions:u.selectedCount===1&&((Be=a.user)==null?void 0:Be.perm.modify),archive:u.selectedCount>0&&((ft=a.user)==null?void 0:ft.perm.create),unarchive:u.selectedCount===1&&u.onlyArchivesSelected&&(($n=a.user)==null?void 0:$n.perm.create)}}),Q=W(()=>s.value<=736);we(f,()=>{var M;window.sessionStorage.getItem("listFrozen")!=="true"&&window.sessionStorage.getItem("modified")!=="true"&&(t.value=50,qe(()=>{pe(),ce(!0)})),(M=f.value)!=null&&M.isDir&&(window.sessionStorage.setItem("listFrozen","false"),window.sessionStorage.setItem("modified","false"))}),Oe(()=>{var M;b(),pe(),ce(!0),window.addEventListener("keydown",A),window.addEventListener("scroll",R),window.addEventListener("resize",X),(M=a.user)!=null&&M.perm.create&&(document.addEventListener("dragover",j),document.addEventListener("dragenter",O),document.addEventListener("dragleave",F),document.addEventListener("drop",N))}),Ot(()=>{var M;window.removeEventListener("keydown",A),window.removeEventListener("scroll",R),window.removeEventListener("resize",X),!(a.user&&!((M=a.user)!=null&&M.perm.create))&&(document.removeEventListener("dragover",j),document.removeEventListener("dragenter",O),document.removeEventListener("dragleave",F),document.removeEventListener("drop",N))});const V=M=>ds.encodeURI(M),A=M=>{var q,oe,ee;if(d.currentPrompt===null){if(M.key==="Escape"&&(u.selected=[]),M.key==="Delete"){if(!((q=a.user)!=null&&q.perm.delete)||u.selectedCount==0)return;d.showHover("delete")}if(M.key==="F2"){if(!((oe=a.user)!=null&&oe.perm.rename)||u.selectedCount!==1)return;d.showHover("rename")}if(!(!M.ctrlKey&&!M.metaKey))switch(M.key){case"c":case"x":L(M);break;case"v":w(M);break;case"a":M.preventDefault();for(const ge of P.value.files)u.selected.indexOf(ge.index)===-1&&u.selected.push(ge.index);for(const ge of P.value.dirs)u.selected.indexOf(ge.index)===-1&&u.selected.push(ge.index);break;case"s":M.preventDefault(),(ee=document.getElementById("download-button"))==null||ee.click();break}}},j=M=>{M.preventDefault()},L=M=>{var oe;if(((oe=M.target.tagName)==null?void 0:oe.toLowerCase())==="input"||u.req===null)return;const q=[];for(const ee of u.selected)q.push({from:u.req.items[ee].url,name:u.req.items[ee].name});q.length!==0&&l.$patch({key:M.key,items:q,path:p.path})},w=M=>{var Ie;if(((Ie=M.target.tagName)==null?void 0:Ie.toLowerCase())==="input")return;const q=[];for(const he of l.items){const Be=he.from.endsWith("/")?he.from.slice(0,-1):he.from,ft=p.path+encodeURIComponent(he.name);q.push({from:Be,to:ft,name:he.name})}if(q.length===0)return;let oe=(he,Be)=>{Pu(q,he,Be).then(()=>{u.reload=!0}).catch(o)};if(l.key==="x"&&(oe=(he,Be)=>{Xr(q,he,Be).then(()=>{l.resetClipboard(),u.reload=!0}).catch(o)}),l.path==p.path){oe(!1,!0);return}const ee=Nt(q,u.req.items);let ge=!1,$e=!1;if(ee){d.showHover({prompt:"replace-rename",confirm:(he,Be)=>{ge=Be=="overwrite",$e=Be=="rename",he.preventDefault(),d.closeHovers(),oe(ge,$e)}});return}oe(ge,$e)},b=()=>{var oe,ee;const M=XS(["#listing.mosaic .item",".mosaic#listing .item"]);if(M===null)return;let q=Math.floor(((ee=(oe=document.querySelector("main"))==null?void 0:oe.offsetWidth)!=null?ee:0)/n.value);q===0&&(q=1),M.style.width="calc(".concat(100/q,"% - 1em)")},R=Zn(()=>{var ee,ge,$e,Ie;const M=((ge=(ee=u.req)==null?void 0:ee.numDirs)!=null?ge:0)+((Ie=($e=u.req)==null?void 0:$e.numFiles)!=null?Ie:0);if(t.value>=M)return;const q=window.innerHeight+window.scrollY,oe=document.body.offsetHeight-window.innerHeight*.25;if(q>oe){const he=Math.ceil(window.innerHeight*2/i.value);t.value+=he}},100),O=()=>{r.value++;const M=document.getElementsByClassName("item");Array.from(M).forEach(q=>{q.style.opacity="0.5"})},F=()=>{r.value--,r.value==0&&ae()},N=async M=>{M.preventDefault(),r.value=0,ae();const q=M.dataTransfer;let oe=M.target;if(u.req===null||q===null||q.files.length<=0)return;for(let he=0;he<5;he++)oe!==null&&!oe.classList.contains("item")&&(oe=oe.parentElement);const ee=await f_(q);let ge=u.req.items,$e=p.path.endsWith("/")?p.path:p.path+"/";if(oe!==null&&oe.classList.contains("item")&&oe.dataset.dir==="true"){$e=oe.__vue__.url;try{ge=(await Qt($e)).items}catch(he){o(he)}}if(Nt(ee,ge)){d.showHover({prompt:"replace",action:he=>{he.preventDefault(),d.closeHovers(),vt(ee,$e,!1)},confirm:he=>{he.preventDefault(),d.closeHovers(),vt(ee,$e,!0)}});return}vt(ee,$e)},Z=M=>{var Ie;const q=(Ie=M.currentTarget)==null?void 0:Ie.files;if(q===null)return;const oe=!!q[0].webkitRelativePath,ee=[];for(let he=0;he<q.length;he++){const Be=q[he],ft=oe?Be.webkitRelativePath:void 0;ee.push({file:Be,name:Be.name,size:Be.size,isDir:!1,fullPath:ft})}const ge=p.path.endsWith("/")?p.path:p.path+"/";if(Nt(ee,u.req.items)){d.showHover({prompt:"replace",action:he=>{he.preventDefault(),d.closeHovers(),vt(ee,ge,!1)},confirm:he=>{he.preventDefault(),d.closeHovers(),vt(ee,ge,!0)}});return}vt(ee,ge)},ae=()=>{const M=document.getElementsByClassName("item");Array.from(M).forEach(q=>{q.style.opacity="1"})},se=async M=>{var oe,ee;let q=!1;M==="name"?x.value==="arrow_upward"&&(q=!0):M==="size"?U.value==="arrow_upward"&&(q=!0):M==="modified"&&z.value==="arrow_upward"&&(q=!0);try{(oe=a.user)!=null&&oe.id&&await lr({id:(ee=a.user)==null?void 0:ee.id,sorting:{by:M,asc:q}},["sorting"])}catch(ge){o(ge)}u.reload=!0},be=()=>{d.showHover("search")},ve=()=>{var oe,ee,ge;const M=[];if(u.selectedCount===0)for(const $e of(ee=(oe=u.req)==null?void 0:oe.items)!=null?ee:[])$e.isDir&&M.push($e.url);else for(const $e of u.selected)(ge=u.req)!=null&&ge.items[$e].isDir&&M.push(u.req.items[$e].url);const q=[];for(const $e of M)q.push(Au($e));Me.loading("dir_size"),Promise.allSettled(q).then($e=>{for(const Ie of $e)Ie.status==="fulfilled"&&u.addDiskUsage(Ie.value.path,{size:Ie.value.diskUsage,inodes:Ie.value.inodes});Me.success("dir_size")})},I=()=>{u.toggleMultiple(),d.closeHovers()},X=Zn(()=>{b(),s.value=window.innerWidth,$.value!=null&&(pe(),ce())},100),H=()=>{if(u.req!==null){if(u.selectedCount===1&&!u.req.items[u.selected[0]].isDir){Mr(null,u.req.items[u.selected[0]].url);return}d.showHover({prompt:"download",confirm:M=>{d.closeHovers();const q=[];if(u.selectedCount>0&&u.req!==null)for(const oe of u.selected)q.push(u.req.items[oe].url);else q.push(p.path);Mr(M,...q)}})}},Y=async()=>{var oe,ee,ge;d.closeHovers();const M={list:"mosaic",mosaic:"mosaic gallery","mosaic gallery":"list"},q={id:(oe=a.user)==null?void 0:oe.id,viewMode:M[(ge=(ee=a.user)==null?void 0:ee.viewMode)!=null?ge:"list"]||"list"};lr(q,["viewMode"]).catch(o),a.updateUser(q),pe(),ce()},le=()=>{var M;typeof window.DataTransferItem<"u"&&typeof DataTransferItem.prototype.webkitGetAsEntry<"u"?d.showHover("upload"):(M=document.getElementById("upload-input"))==null||M.click()},pe=()=>{if($.value===null||u.req===null)return;let M=u.req.numDirs+u.req.numFiles;M>t.value&&(M=t.value),i.value=$.value.offsetHeight/M},ce=(M=!1)=>{if(u.req===null)return;const q=u.req.numDirs+u.req.numFiles;if(t.value>=q&&!M)return;const oe=window.innerHeight,ee=Math.ceil((oe+oe*2)/i.value);t.value>ee&&!M||(t.value=ee>q?q:ee)};return(M,q)=>{var oe,ee,ge,$e,Ie,he,Be,ft,$n,ws,_s,$s,Ss,Es;return y(),C("div",null,[ne(dr,{showMenu:"",showLogo:""},{actions:Ce(()=>[Q.value?B("",!0):(y(),C(fe,{key:0},[K.value.share?(y(),te(me,{key:0,icon:"share",label:m(h)("buttons.share"),show:"share"},null,8,["label"])):B("",!0),K.value.rename?(y(),te(me,{key:1,icon:"mode_edit",label:m(h)("buttons.rename"),show:"rename"},null,8,["label"])):B("",!0),K.value.copy?(y(),te(me,{key:2,id:"copy-button",icon:"content_copy",label:m(h)("buttons.copyFile"),show:"copy"},null,8,["label"])):B("",!0),K.value.move?(y(),te(me,{key:3,id:"move-button",icon:"forward",label:m(h)("buttons.moveFile"),show:"move"},null,8,["label"])):B("",!0),K.value.permissions?(y(),te(me,{key:4,id:"permissions-button",icon:"lock",label:m(h)("buttons.permissions"),show:"permissions"},null,8,["label"])):B("",!0),K.value.archive?(y(),te(me,{key:5,id:"archive-button",icon:"archive",label:m(h)("buttons.archive"),show:"archive"},null,8,["label"])):B("",!0),K.value.unarchive?(y(),te(me,{key:6,id:"unarchive-button",icon:"unarchive",label:m(h)("buttons.unarchive"),show:"unarchive"},null,8,["label"])):B("",!0),K.value.delete?(y(),te(me,{key:7,id:"delete-button",icon:"delete",label:m(h)("buttons.delete"),show:"delete"},null,8,["label"])):B("",!0)],64)),K.value.shell?(y(),te(me,{key:1,icon:"code",label:m(h)("buttons.shell"),onAction:m(d).toggleShell},null,8,["label","onAction"])):B("",!0),ne(me,{icon:D.value,label:m(h)("buttons.switchView"),onAction:Y},null,8,["icon","label"]),K.value.download?(y(),te(me,{key:2,icon:"file_download",label:m(h)("buttons.download"),onAction:H,counter:m(u).selectedCount},null,8,["label","counter"])):B("",!0),K.value.upload?(y(),te(me,{key:3,icon:"file_upload",id:"upload-button",label:m(h)("buttons.upload"),onAction:le},null,8,["label"])):B("",!0),ne(me,{icon:"assessment",id:"dir_size-button",label:m(h)("buttons.directorySizes"),onAction:ve},null,8,["label"]),ne(me,{icon:"info",label:m(h)("buttons.info"),show:"info"},null,8,["label"]),ne(me,{icon:"check_circle",label:m(h)("buttons.selectMultiple"),onAction:I},null,8,["label"])]),default:Ce(()=>[ne(aE),q[9]||(q[9]=c("title",null,null,-1)),ne(me,{class:"search-button",icon:"search",label:m(h)("buttons.search"),onAction:q[0]||(q[0]=de=>be())},null,8,["label"])]),_:1}),Q.value?(y(),C("div",bE,[m(u).selectedCount>0?(y(),C("span",yE,g(m(h)("prompts.filesSelected",m(u).selectedCount)),1)):B("",!0),K.value.share?(y(),te(me,{key:1,icon:"share",label:m(h)("buttons.share"),show:"share"},null,8,["label"])):B("",!0),K.value.rename?(y(),te(me,{key:2,icon:"mode_edit",label:m(h)("buttons.rename"),show:"rename"},null,8,["label"])):B("",!0),K.value.copy?(y(),te(me,{key:3,icon:"content_copy",label:m(h)("buttons.copyFile"),show:"copy"},null,8,["label"])):B("",!0),K.value.move?(y(),te(me,{key:4,icon:"forward",label:m(h)("buttons.moveFile"),show:"move"},null,8,["label"])):B("",!0),K.value.delete?(y(),te(me,{key:5,icon:"delete",label:m(h)("buttons.delete"),show:"delete"},null,8,["label"])):B("",!0)])):B("",!0),m(d).loading?(y(),C("div",wE,[c("h2",_E,[q[10]||(q[10]=c("div",{class:"spinner"},[c("div",{class:"bounce1"}),c("div",{class:"bounce2"}),c("div",{class:"bounce3"})],-1)),c("span",null,g(m(h)("files.loading")),1)])])):(y(),C(fe,{key:2},[((ee=(oe=m(u).req)==null?void 0:oe.numDirs)!=null?ee:0)+(($e=(ge=m(u).req)==null?void 0:ge.numFiles)!=null?$e:0)==0?(y(),C("div",$E,[c("h2",SE,[q[11]||(q[11]=c("i",{class:"material-icons"},"sentiment_dissatisfied",-1)),c("span",null,g(m(h)("files.lonely")),1)]),c("input",{style:{display:"none"},type:"file",id:"upload-input",onChange:q[1]||(q[1]=de=>Z(de)),multiple:""},null,32),c("input",{style:{display:"none"},type:"file",id:"upload-folder-input",onChange:q[2]||(q[2]=de=>Z(de)),webkitdirectory:"",multiple:""},null,32)])):(y(),C("div",{key:1,id:"listing",ref_key:"listing",ref:$,class:Pe(["file-icons",(he=(Ie=m(a).user)==null?void 0:Ie.viewMode)!=null?he:""])},[c("div",null,[c("div",EE,[q[12]||(q[12]=c("div",null,null,-1)),c("div",null,[c("p",{class:Pe([{active:v.value},"name"]),role:"button",tabindex:"0",onClick:q[3]||(q[3]=de=>se("name")),title:m(h)("files.sortByName"),"aria-label":m(h)("files.sortByName")},[c("span",null,g(m(h)("files.name")),1),c("i",CE,g(x.value),1)],10,kE),c("p",{class:Pe([{active:_.value},"size"]),role:"button",tabindex:"0",onClick:q[4]||(q[4]=de=>se("size")),title:m(h)("files.sortBySize"),"aria-label":m(h)("files.sortBySize")},[c("span",null,g(m(h)("files.size")),1),c("i",PE,g(U.value),1)],10,TE),c("p",{class:Pe([{active:S.value},"modified"]),role:"button",tabindex:"0",onClick:q[5]||(q[5]=de=>se("modified")),title:m(h)("files.sortByLastModified"),"aria-label":m(h)("files.sortByLastModified")},[c("span",null,g(m(h)("files.lastModified")),1),c("i",RE,g(z.value),1)],10,AE)])])]),(ft=(Be=m(u).req)==null?void 0:Be.numDirs)!=null&&ft?(y(),C("h2",OE,g(m(h)("files.folders")),1)):B("",!0),(ws=($n=m(u).req)==null?void 0:$n.numDirs)!=null&&ws?(y(),C("div",DE,[(y(!0),C(fe,null,Ue(E.value,de=>(y(),te(Ko,{key:V(de.name),index:de.index,name:de.name,link:de.link,isDir:de.isDir,isSymlink:de.isSymlink,url:de.url,mode:de.mode,modified:de.modified,type:de.type,size:de.size,path:de.path},null,8,["index","name","link","isDir","isSymlink","url","mode","modified","type","size","path"]))),128))])):B("",!0),($s=(_s=m(u).req)==null?void 0:_s.numFiles)!=null&&$s?(y(),C("h2",UE,g(m(h)("files.files")),1)):B("",!0),(Es=(Ss=m(u).req)==null?void 0:Ss.numFiles)!=null&&Es?(y(),C("div",LE,[(y(!0),C(fe,null,Ue(T.value,de=>(y(),te(Ko,{key:V(de.name),index:de.index,name:de.name,link:de.link,isDir:de.isDir,isSymlink:de.isSymlink,url:de.url,mode:de.mode,modified:de.modified,type:de.type,size:de.size,path:de.path},null,8,["index","name","link","isDir","isSymlink","url","mode","modified","type","size","path"]))),128))])):B("",!0),c("input",{style:{display:"none"},type:"file",id:"upload-input",onChange:q[6]||(q[6]=de=>Z(de)),multiple:""},null,32),c("input",{style:{display:"none"},type:"file",id:"upload-folder-input",onChange:q[7]||(q[7]=de=>Z(de)),webkitdirectory:"",multiple:""},null,32),c("div",{class:Pe({active:m(u).multiple}),id:"multiple-selection"},[c("p",null,g(m(h)("files.multipleSelectionEnabled")),1),c("div",{onClick:q[8]||(q[8]=()=>m(u).multiple=!1),tabindex:"0",role:"button",title:m(h)("buttons.clear"),"aria-label":m(h)("buttons.clear"),class:"action"},q[13]||(q[13]=[c("i",{class:"material-icons"},"clear",-1)]),8,IE)],2)],2))],64))])}}}),BE={key:3},NE={class:"message delayed"},ME=ie({__name:"Files",setup(e){const t=Ts(()=>Ps(()=>import("./Editor-DRoNs8Ir.js"),__vite__mapDeps([0,1,2]),import.meta.url)),n=Ts(()=>Ps(()=>import("./Preview-Cccw-F5J.js"),__vite__mapDeps([3,1,2,4]),import.meta.url)),r=ue(),s=Ee(),i=Ht(),{reload:o}=un(s),{error:l}=un(i),a=Xe(),{t:u}=ke({}),d=v=>v.endsWith("/")?v.slice(0,-1):v,f=G(null),p=W(()=>{var v;return((v=s.req)==null?void 0:v.type)===void 0?null:s.req.isDir?xE:s.req.type==="text"||s.req.type==="textImmutable"?t:n});Oe(()=>{h(),s.isFiles=!0,window.addEventListener("keydown",$)}),Ot(()=>{window.removeEventListener("keydown",$)}),Fr(()=>{s.isFiles=!1,r.showShell&&r.toggleShell(),s.updateRequest(null)}),we(a,(v,_)=>{_.path.endsWith("/")?window.sessionStorage.setItem("listFrozen",(!v.path.endsWith("/")).toString()):v.path.endsWith("/")&&s.updateRequest(null),h()}),we(o,v=>{v&&h()}),we(l,v=>{v&&r.showError()});const h=async()=>{s.reload=!1,s.selected=[],s.multiple=!1,r.closeHovers(),window.sessionStorage.getItem("listFrozen")!=="true"&&window.sessionStorage.getItem("modified")!=="true"&&(r.loading=!0),f.value=null;let v=a.path;v===""&&(v="/"),v[0]!=="/"&&(v="/"+v);try{const _=await Qt(v);if(d(_.path)!==d("/".concat([...a.params.path].join("/"))))throw new Error("Data Mismatch!");s.updateRequest(_),document.title="".concat(_.name," - ").concat(u("files.files")," - ").concat(Xo)}catch(_){_ instanceof Error&&(f.value=_)}finally{r.loading=!1}},$=v=>{v.key==="F1"&&(v.preventDefault(),r.showHover("help"))};return(v,_)=>{var S;return y(),C("div",null,[f.value||((S=m(s).req)==null?void 0:S.type)===null?(y(),te(dr,{key:0,showMenu:"",showLogo:""})):B("",!0),ne(Bu,{base:"/files"}),f.value?(y(),te(yt,{key:1,errorCode:f.value.status},null,8,["errorCode"])):p.value?(y(),te(gt(p.value),{key:2})):p.value!==null?(y(),C("div",BE,[c("h2",NE,[_[0]||(_[0]=c("div",{class:"spinner"},[c("div",{class:"bounce1"}),c("div",{class:"bounce2"}),c("div",{class:"bounce3"})],-1)),c("span",null,g(m(u)("files.loading")),1)])])):B("",!0)])}}});/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var lt=function(){return lt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lt.apply(this,arguments)};var qt;(function(e){var t=function(){function o(l,a,u,d){if(this.version=l,this.errorCorrectionLevel=a,this.modules=[],this.isFunction=[],l<o.MIN_VERSION||l>o.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;for(var f=[],p=0;p<this.size;p++)f.push(!1);for(var p=0;p<this.size;p++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();var h=this.addEccAndInterleave(u);if(this.drawCodewords(h),d==-1)for(var $=1e9,p=0;p<8;p++){this.applyMask(p),this.drawFormatBits(p);var v=this.getPenaltyScore();v<$&&(d=p,$=v),this.applyMask(p)}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}return o.encodeText=function(l,a){var u=e.QrSegment.makeSegments(l);return o.encodeSegments(u,a)},o.encodeBinary=function(l,a){var u=e.QrSegment.makeBytes(l);return o.encodeSegments([u],a)},o.encodeSegments=function(l,a,u,d,f,p){if(u===void 0&&(u=1),d===void 0&&(d=40),f===void 0&&(f=-1),p===void 0&&(p=!0),!(o.MIN_VERSION<=u&&u<=d&&d<=o.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");var h,$;for(h=u;;h++){var v=o.getNumDataCodewords(h,a)*8,_=i.getTotalBits(l,h);if(_<=v){$=_;break}if(h>=d)throw new RangeError("Data too long")}for(var S=0,k=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];S<k.length;S++){var E=k[S];p&&$<=o.getNumDataCodewords(h,E)*8&&(a=E)}for(var P=[],T=0,x=l;T<x.length;T++){var U=x[T];n(U.mode.modeBits,4,P),n(U.numChars,U.mode.numCharCountBits(h),P);for(var z=0,D=U.getData();z<D.length;z++){var K=D[z];P.push(K)}}s(P.length==$);var Q=o.getNumDataCodewords(h,a)*8;s(P.length<=Q),n(0,Math.min(4,Q-P.length),P),n(0,(8-P.length%8)%8,P),s(P.length%8==0);for(var V=236;P.length<Q;V^=253)n(V,8,P);for(var A=[];A.length*8<P.length;)A.push(0);return P.forEach(function(j,L){return A[L>>>3]|=j<<7-(L&7)}),new o(h,a,A,f)},o.prototype.getModule=function(l,a){return 0<=l&&l<this.size&&0<=a&&a<this.size&&this.modules[a][l]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var l=0;l<this.size;l++)this.setFunctionModule(6,l,l%2==0),this.setFunctionModule(l,6,l%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var a=this.getAlignmentPatternPositions(),u=a.length,l=0;l<u;l++)for(var d=0;d<u;d++)l==0&&d==0||l==0&&d==u-1||l==u-1&&d==0||this.drawAlignmentPattern(a[l],a[d]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(l){for(var a=this.errorCorrectionLevel.formatBits<<3|l,u=a,d=0;d<10;d++)u=u<<1^(u>>>9)*1335;var f=(a<<10|u)^21522;s(f>>>15==0);for(var d=0;d<=5;d++)this.setFunctionModule(8,d,r(f,d));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(var d=9;d<15;d++)this.setFunctionModule(14-d,8,r(f,d));for(var d=0;d<8;d++)this.setFunctionModule(this.size-1-d,8,r(f,d));for(var d=8;d<15;d++)this.setFunctionModule(8,this.size-15+d,r(f,d));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var l=this.version,a=0;a<12;a++)l=l<<1^(l>>>11)*7973;var u=this.version<<12|l;s(u>>>18==0);for(var a=0;a<18;a++){var d=r(u,a),f=this.size-11+a%3,p=Math.floor(a/3);this.setFunctionModule(f,p,d),this.setFunctionModule(p,f,d)}}},o.prototype.drawFinderPattern=function(l,a){for(var u=-4;u<=4;u++)for(var d=-4;d<=4;d++){var f=Math.max(Math.abs(d),Math.abs(u)),p=l+d,h=a+u;0<=p&&p<this.size&&0<=h&&h<this.size&&this.setFunctionModule(p,h,f!=2&&f!=4)}},o.prototype.drawAlignmentPattern=function(l,a){for(var u=-2;u<=2;u++)for(var d=-2;d<=2;d++)this.setFunctionModule(l+d,a+u,Math.max(Math.abs(d),Math.abs(u))!=1)},o.prototype.setFunctionModule=function(l,a,u){this.modules[a][l]=u,this.isFunction[a][l]=!0},o.prototype.addEccAndInterleave=function(l){var a=this.version,u=this.errorCorrectionLevel;if(l.length!=o.getNumDataCodewords(a,u))throw new RangeError("Invalid argument");for(var d=o.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][a],f=o.ECC_CODEWORDS_PER_BLOCK[u.ordinal][a],p=Math.floor(o.getNumRawDataModules(a)/8),h=d-p%d,$=Math.floor(p/d),v=[],_=o.reedSolomonComputeDivisor(f),S=0,k=0;S<d;S++){var E=l.slice(k,k+$-f+(S<h?0:1));k+=E.length;var P=o.reedSolomonComputeRemainder(E,_);S<h&&E.push(0),v.push(E.concat(P))}for(var T=[],x=function(U){v.forEach(function(z,D){(U!=$-f||D>=h)&&T.push(z[U])})},S=0;S<v[0].length;S++)x(S);return s(T.length==p),T},o.prototype.drawCodewords=function(l){if(l.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var a=0,u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(var d=0;d<this.size;d++)for(var f=0;f<2;f++){var p=u-f,h=(u+1&2)==0,$=h?this.size-1-d:d;!this.isFunction[$][p]&&a<l.length*8&&(this.modules[$][p]=r(l[a>>>3],7-(a&7)),a++)}}s(a==l.length*8)},o.prototype.applyMask=function(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(var a=0;a<this.size;a++)for(var u=0;u<this.size;u++){var d=void 0;switch(l){case 0:d=(u+a)%2==0;break;case 1:d=a%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+a)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(a/2))%2==0;break;case 5:d=u*a%2+u*a%3==0;break;case 6:d=(u*a%2+u*a%3)%2==0;break;case 7:d=((u+a)%2+u*a%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[a][u]&&d&&(this.modules[a][u]=!this.modules[a][u])}},o.prototype.getPenaltyScore=function(){for(var l=0,a=0;a<this.size;a++){for(var u=!1,d=0,f=[0,0,0,0,0,0,0],p=0;p<this.size;p++)this.modules[a][p]==u?(d++,d==5?l+=o.PENALTY_N1:d>5&&l++):(this.finderPenaltyAddHistory(d,f),u||(l+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),u=this.modules[a][p],d=1);l+=this.finderPenaltyTerminateAndCount(u,d,f)*o.PENALTY_N3}for(var p=0;p<this.size;p++){for(var u=!1,h=0,f=[0,0,0,0,0,0,0],a=0;a<this.size;a++)this.modules[a][p]==u?(h++,h==5?l+=o.PENALTY_N1:h>5&&l++):(this.finderPenaltyAddHistory(h,f),u||(l+=this.finderPenaltyCountPatterns(f)*o.PENALTY_N3),u=this.modules[a][p],h=1);l+=this.finderPenaltyTerminateAndCount(u,h,f)*o.PENALTY_N3}for(var a=0;a<this.size-1;a++)for(var p=0;p<this.size-1;p++){var $=this.modules[a][p];$==this.modules[a][p+1]&&$==this.modules[a+1][p]&&$==this.modules[a+1][p+1]&&(l+=o.PENALTY_N2)}for(var v=0,_=0,S=this.modules;_<S.length;_++){var k=S[_];v=k.reduce(function(T,x){return T+(x?1:0)},v)}var E=this.size*this.size,P=Math.ceil(Math.abs(v*20-E*10)/E)-1;return s(0<=P&&P<=9),l+=P*o.PENALTY_N4,s(0<=l&&l<=2568888),l},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var l=Math.floor(this.version/7)+2,a=Math.floor((this.version*8+l*3+5)/(l*4-4))*2,u=[6],d=this.size-7;u.length<l;d-=a)u.splice(1,0,d);return u},o.getNumRawDataModules=function(l){if(l<o.MIN_VERSION||l>o.MAX_VERSION)throw new RangeError("Version number out of range");var a=(16*l+128)*l+64;if(l>=2){var u=Math.floor(l/7)+2;a-=(25*u-10)*u-55,l>=7&&(a-=36)}return s(208<=a&&a<=29648),a},o.getNumDataCodewords=function(l,a){return Math.floor(o.getNumRawDataModules(l)/8)-o.ECC_CODEWORDS_PER_BLOCK[a.ordinal][l]*o.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][l]},o.reedSolomonComputeDivisor=function(l){if(l<1||l>255)throw new RangeError("Degree out of range");for(var a=[],u=0;u<l-1;u++)a.push(0);a.push(1);for(var d=1,u=0;u<l;u++){for(var f=0;f<a.length;f++)a[f]=o.reedSolomonMultiply(a[f],d),f+1<a.length&&(a[f]^=a[f+1]);d=o.reedSolomonMultiply(d,2)}return a},o.reedSolomonComputeRemainder=function(l,a){for(var u=a.map(function($){return 0}),d=function($){var v=$^u.shift();u.push(0),a.forEach(function(_,S){return u[S]^=o.reedSolomonMultiply(_,v)})},f=0,p=l;f<p.length;f++){var h=p[f];d(h)}return u},o.reedSolomonMultiply=function(l,a){if(l>>>8||a>>>8)throw new RangeError("Byte out of range");for(var u=0,d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(a>>>d&1)*l;return s(u>>>8==0),u},o.prototype.finderPenaltyCountPatterns=function(l){var a=l[1];s(a<=this.size*3);var u=a>0&&l[2]==a&&l[3]==a*3&&l[4]==a&&l[5]==a;return(u&&l[0]>=a*4&&l[6]>=a?1:0)+(u&&l[6]>=a*4&&l[0]>=a?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(l,a,u){return l&&(this.finderPenaltyAddHistory(a,u),a=0),a+=this.size,this.finderPenaltyAddHistory(a,u),this.finderPenaltyCountPatterns(u)},o.prototype.finderPenaltyAddHistory=function(l,a){a[0]==0&&(l+=this.size),a.pop(),a.unshift(l)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();e.QrCode=t;function n(o,l,a){if(l<0||l>31||o>>>l)throw new RangeError("Value out of range");for(var u=l-1;u>=0;u--)a.push(o>>>u&1)}function r(o,l){return(o>>>l&1)!=0}function s(o){if(!o)throw new Error("Assertion error")}var i=function(){function o(l,a,u){if(this.mode=l,this.numChars=a,this.bitData=u,a<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}return o.makeBytes=function(l){for(var a=[],u=0,d=l;u<d.length;u++){var f=d[u];n(f,8,a)}return new o(o.Mode.BYTE,l.length,a)},o.makeNumeric=function(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");for(var a=[],u=0;u<l.length;){var d=Math.min(l.length-u,3);n(parseInt(l.substring(u,u+d),10),d*3+1,a),u+=d}return new o(o.Mode.NUMERIC,l.length,a)},o.makeAlphanumeric=function(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");var a=[],u;for(u=0;u+2<=l.length;u+=2){var d=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),n(d,11,a)}return u<l.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,a),new o(o.Mode.ALPHANUMERIC,l.length,a)},o.makeSegments=function(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]},o.makeEci=function(l){var a=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,a);else if(l<16384)n(2,2,a),n(l,14,a);else if(l<1e6)n(6,3,a),n(l,21,a);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,a)},o.isNumeric=function(l){return o.NUMERIC_REGEX.test(l)},o.isAlphanumeric=function(l){return o.ALPHANUMERIC_REGEX.test(l)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(l,a){for(var u=0,d=0,f=l;d<f.length;d++){var p=f[d],h=p.mode.numCharCountBits(a);if(p.numChars>=1<<h)return 1/0;u+=4+h+p.bitData.length}return u},o.toUtf8ByteArray=function(l){l=encodeURI(l);for(var a=[],u=0;u<l.length;u++)l.charAt(u)!="%"?a.push(l.charCodeAt(u)):(a.push(parseInt(l.substring(u+1,u+3),16)),u+=2);return a},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();e.QrSegment=i})(qt||(qt={}));(function(e){(function(t){var n=function(){function r(s,i){this.ordinal=s,this.formatBits=i}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();t.Ecc=n})(e.QrCode||(e.QrCode={}))})(qt||(qt={}));(function(e){(function(t){var n=function(){function r(s,i){this.modeBits=s,this.numBitsCharCount=i}return r.prototype.numCharCountBits=function(s){return this.numBitsCharCount[Math.floor((s+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(qt||(qt={}));var on=qt,vs="L",gs={L:on.QrCode.Ecc.LOW,M:on.QrCode.Ecc.MEDIUM,Q:on.QrCode.Ecc.QUARTILE,H:on.QrCode.Ecc.HIGH},FE=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();function bs(e){return e in gs}function Nu(e,t){t===void 0&&(t=0);var n=[];return e.forEach(function(r,s){var i=null;r.forEach(function(o,l){if(!o&&i!==null){n.push("M".concat(i+t," ").concat(s+t,"h").concat(l-i,"v1H").concat(i+t,"z")),i=null;return}if(l===r.length-1){if(!o)return;i===null?n.push("M".concat(l+t,",").concat(s+t," h1v1H").concat(l+t,"z")):n.push("M".concat(i+t,",").concat(s+t," h").concat(l+1-i,"v1H").concat(i+t,"z"));return}o&&i===null&&(i=l)})}),n.join("")}function Mu(e,t,n,r){var s=r.width,i=r.height,o=r.x,l=r.y,a=e.length+n*2,u=Math.floor(t*.1),d=a/t,f=(s||u)*d,p=(i||u)*d,h=o==null?e.length/2-f/2:o*d,$=l==null?e.length/2-p/2:l*d,v=null;if(r.excavate){var _=Math.floor(h),S=Math.floor($),k=Math.ceil(f+h-_),E=Math.ceil(p+$-S);v={x:_,y:S,w:k,h:E}}return{x:h,y:$,h:p,w:f,excavation:v}}function Fu(e,t){return e.slice().map(function(n,r){return r<t.y||r>=t.y+t.h?n:n.map(function(s,i){return i<t.x||i>=t.x+t.w?s:!1})})}var ys={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:vs,validator:function(e){return bs(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(e){return["linear","radial"].indexOf(e)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},jE=lt(lt({},ys),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),zE=ie({name:"QRCodeSvg",props:ys,setup:function(e){var t=G(0),n=G(""),r,s=function(){var o=e.value,l=e.level,a=e.margin,u=a>>>0,d=bs(l)?l:vs,f=on.QrCode.encodeText(o,gs[d]).getModules();if(t.value=f.length+u*2,e.imageSettings.src){var p=Mu(f,e.size,u,e.imageSettings);r={x:p.x+u,y:p.y+u,width:p.w,height:p.h},p.excavation&&(f=Fu(f,p.excavation))}n.value=Nu(f,u)},i=function(){if(!e.gradient)return null;var o=e.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Ke(e.gradientType==="linear"?"linearGradient":"radialGradient",lt({id:"qr-gradient"},o),[Ke("stop",{offset:"0%",style:{stopColor:e.gradientStartColor}}),Ke("stop",{offset:"100%",style:{stopColor:e.gradientEndColor}})])};return s(),Ra(s),function(){return Ke("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t.value," ").concat(t.value)},[Ke("defs",{},[i()]),Ke("rect",{width:"100%",height:"100%",fill:e.background}),Ke("path",{fill:e.gradient?"url(#qr-gradient)":e.foreground,d:n.value}),e.imageSettings.src&&Ke("image",lt({href:e.imageSettings.src},r))])}}}),HE=ie({name:"QRCodeCanvas",props:ys,setup:function(e,t){var n=G(null),r=G(null),s=function(){var o=e.value,l=e.level,a=e.size,u=e.margin,d=e.background,f=e.foreground,p=e.gradient,h=e.gradientType,$=e.gradientStartColor,v=e.gradientEndColor,_=u>>>0,S=bs(l)?l:vs,k=n.value;if(k){var E=k.getContext("2d");if(E){var P=on.QrCode.encodeText(o,gs[S]).getModules(),T=P.length+_*2,x=r.value,U={x:0,y:0,width:0,height:0},z=e.imageSettings.src&&x!=null&&x.naturalWidth!==0&&x.naturalHeight!==0;if(z){var D=Mu(P,e.size,_,e.imageSettings);U={x:D.x+_,y:D.y+_,width:D.w,height:D.h},D.excavation&&(P=Fu(P,D.excavation))}var K=window.devicePixelRatio||1,Q=a/T*K;if(k.height=k.width=a*K,E.scale(Q,Q),E.fillStyle=d,E.fillRect(0,0,T,T),p){var V=void 0;h==="linear"?V=E.createLinearGradient(0,0,T,T):V=E.createRadialGradient(T/2,T/2,0,T/2,T/2,T/2),V.addColorStop(0,$),V.addColorStop(1,v),E.fillStyle=V}else E.fillStyle=f;FE?E.fill(new Path2D(Nu(P,_))):P.forEach(function(A,j){A.forEach(function(L,w){L&&E.fillRect(w+_,j+_,1,1)})}),z&&E.drawImage(x,U.x,U.y,U.width,U.height)}}};Oe(s),Ra(s);var i=t.attrs.style;return function(){return Ke(fe,[Ke("canvas",lt(lt({},t.attrs),{ref:n,style:lt(lt({},i),{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")})})),e.imageSettings.src&&Ke("img",{ref:r,src:e.imageSettings.src,style:{display:"none"},onLoad:s})])}}}),Sa=ie({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,n=e.value,r=e.size,s=e.margin,i=e.level,o=e.background,l=e.foreground,a=e.imageSettings,u=e.gradient,d=e.gradientType,f=e.gradientStartColor,p=e.gradientEndColor;return Ke(t==="svg"?zE:HE,{value:n,size:r,margin:s,level:i,background:o,foreground:l,imageSettings:a,gradient:u,gradientType:d,gradientStartColor:f,gradientEndColor:p})},props:jE});const qE=["aria-label","data-title"],VE={key:0},GE={class:"message delayed",style:{"padding-top":"3em !important"}},KE={key:1},WE={key:0},QE={class:"card floating",id:"password",style:{"z-index":"9999999"}},YE={key:0,class:"share__wrong__password"},XE={class:"card-title"},JE={class:"card-content"},ZE=["placeholder"],e2={class:"card-action"},t2=["aria-label","data-title"],n2={key:2},r2={class:"share"},o2={class:"share__box share__box__info",style:{position:"sticky",top:"-20.6em","z-index":"999"}},s2={class:"share__box__header",style:{height:"3em"}},i2={key:0,class:"share__box__element share__box__center share__box__icon"},a2={class:"material-icons"},l2={class:"share__box__element",style:{height:"3em"}},u2=["title"],c2={class:"share__box__element",style:{height:"3em"}},d2={class:"share__box__element share__box__center"},f2=["href"],p2=["href"],h2={key:2,class:"share__box__element share__box__center"},m2={key:3,class:"share__box__element share__box__header",style:{height:"3em"}},v2={key:4,class:"share__box__element share__box__center share__box__icon",style:{padding:"0em !important",height:"12em !important"}},g2=["href"],b2=["src"],y2={key:1,style:{height:"12em","padding-top":"1em",margin:"0"}},w2=["src","autoplay"],_2=["src"],$2=["href"],S2={key:3,class:"material-icons"},E2={key:4,class:"material-icons"},k2={key:0,id:"shareList",class:"share__box share__box__items"},C2={key:0,class:"share__box__header"},T2={id:"listing",class:"list file-icons"},P2={class:"name"},A2=["data-title","aria-label"],R2={key:1,class:"share__box share__box__items"},O2={class:"message"},D2=ie({__name:"Share",setup(e){const t=G(null),n=G(100),r=G(""),s=G(!1),i=G(""),o=G(""),l=G(),a=G(!1),u=Se("$showError"),d=Se("$showSuccess"),{t:f}=ke({}),p=Xe(),h=Ee(),$=ue();we(p,()=>{n.value=100,D()});const v=W(()=>h.req),_=W(()=>v.value===null?"insert_drive_file":v.value.isDir?"folder":v.value.type==="image"?"insert_photo":v.value.type==="audio"?"volume_up":v.value.type==="video"?"movie":"insert_drive_file"),S=W(()=>v.value?Pr(v.value):""),k=W(()=>v.value?v.value.items[h.selected[0]].url.replace(/share/,"api/public/dl")+"?token="+o.value:""),E=W(()=>v.value?Pr(v.value,!0):""),P=W(()=>{var w;return v.value?v.value.isDir?v.value.items.length:Pt((w=v.value.size)!=null?w:0):""}),T=W(()=>{var w;return dt((w=v.value)==null?void 0:w.modified).fromNow()}),x=W(()=>v.value?new Date(Date.parse(v.value.modified)).toLocaleString():new Date().toLocaleString()),U=w=>ds.encodeURI(w),z=()=>{var w,b;a.value?((w=l.value)==null||w.pause(),a.value=!1):((b=l.value)==null||b.play(),a.value=!0)},D=async()=>{h.reload=!1,h.selected=[],h.multiple=!1,$.closeHovers(),$.loading=!0,t.value=null,r.value!==""&&(s.value=!0);let w=p.path;w===""&&(w="/"),w[0]!=="/"&&(w="/"+w);try{const b=await N0(w,r.value);b.hash=i.value,o.value=b.token||"",h.updateRequest(b),document.title="".concat(b.name," - ").concat(document.title)}catch(b){b instanceof Error&&(t.value=b)}finally{$.loading=!1}},K=w=>{w.key==="Escape"&&h.selectedCount>0&&(h.selected=[])},Q=()=>{h.toggleMultiple()},V=()=>{var w;return h.selectedCount===1&&!((w=v.value)!=null&&w.items[h.selected[0]].isDir)},A=()=>v.value?V()?(pa(null,i.value,o.value,v.value.items[h.selected[0]].path),!0):($.showHover({prompt:"download",confirm:w=>{if(v.value===null)return!1;$.closeHovers();const b=[];for(const R of h.selected)b.push(v.value.items[R].path);return pa(w,i.value,o.value,...b),!0}}),!0):!1,j=()=>V()&&v.value?Pr({...v.value,hash:i.value,path:v.value.items[h.selected[0]].path}):"",L=w=>{mn({text:w}).then(()=>{d(f("success.linkCopied"))},()=>{mn({text:w},{permission:!0}).then(()=>{d(f("success.linkCopied"))},b=>{u(b)})})};return Oe(async()=>{i.value=p.params.path[0],window.addEventListener("keydown",K),await D()}),Ot(()=>{window.removeEventListener("keydown",K)}),(w,b)=>{const R=zr("focus");return y(),C("div",null,[ne(dr,{showMenu:"",showLogo:""},{default:Ce(()=>[b[5]||(b[5]=c("title",null,null,-1)),m(h).selectedCount?(y(),te(me,{key:0,icon:"file_download",label:m(f)("buttons.download"),onAction:A,counter:m(h).selectedCount},null,8,["label","counter"])):B("",!0),V()?(y(),C("button",{key:1,class:"action copy-clipboard","aria-label":m(f)("buttons.copyDownloadLinkToClipboard"),"data-title":m(f)("buttons.copyDownloadLinkToClipboard"),onClick:b[0]||(b[0]=O=>L(j()))},b[4]||(b[4]=[c("i",{class:"material-icons"},"content_paste",-1)]),8,qE)):B("",!0),ne(me,{icon:"check_circle",label:m(f)("buttons.selectMultiple"),onAction:Q},null,8,["label"])]),_:1}),ne(Bu,{base:"/share/"+i.value},null,8,["base"]),m($).loading?(y(),C("div",VE,[c("h2",GE,[b[6]||(b[6]=c("div",{class:"spinner"},[c("div",{class:"bounce1"}),c("div",{class:"bounce2"}),c("div",{class:"bounce3"})],-1)),c("span",null,g(m(f)("files.loading")),1)])])):t.value?(y(),C("div",KE,[t.value.status===401?(y(),C("div",WE,[c("div",QE,[s.value?(y(),C("div",YE,g(m(f)("login.wrongCredentials")),1)):B("",!0),c("div",XE,[c("h2",null,g(m(f)("login.password")),1)]),c("div",JE,[J(c("input",{class:"input input--block",type:"password",placeholder:m(f)("login.password"),"onUpdate:modelValue":b[1]||(b[1]=O=>r.value=O),onKeyup:Ne(D,["enter"])},null,40,ZE),[[R],[Re,r.value]])]),c("div",e2,[c("button",{class:"button button--flat",onClick:D,"aria-label":m(f)("buttons.submit"),"data-title":m(f)("buttons.submit")},g(m(f)("buttons.submit")),9,t2)])]),b[7]||(b[7]=c("div",{class:"overlay"},null,-1))])):(y(),te(yt,{key:1,errorCode:t.value.status},null,8,["errorCode"]))])):v.value!==null?(y(),C("div",n2,[c("div",r2,[c("div",o2,[c("div",s2,g(v.value.isDir?m(f)("download.downloadFolder"):m(f)("download.downloadFile")),1),v.value.isDir?B("",!0):(y(),C("div",i2,[c("i",a2,g(_.value),1)])),c("div",l2,[c("strong",null,g(w.$t("prompts.displayName")),1),re(" "+g(v.value.name),1)]),v.value.isDir?B("",!0):(y(),C("div",{key:1,class:"share__box__element",title:x.value},[c("strong",null,g(w.$t("prompts.lastModified"))+":",1),re(" "+g(T.value),1)],8,u2)),c("div",c2,[c("strong",null,g(w.$t("prompts.size"))+":",1),re(" "+g(P.value),1)]),c("div",d2,[c("a",{target:"_blank",href:S.value,class:"button button--flat",style:{height:"4em"}},[c("div",null,[b[8]||(b[8]=c("i",{class:"material-icons"},"file_download",-1)),re(g(m(f)("buttons.download")),1)])],8,f2),v.value.isDir?B("",!0):(y(),C("a",{key:0,target:"_blank",href:E.value,class:"button button--flat"},[c("div",null,[b[9]||(b[9]=c("i",{class:"material-icons"},"open_in_new",-1)),re(g(m(f)("buttons.openFile")),1)])],8,p2)),v.value.isDir?(y(),te(Sa,{key:1,value:S.value,size:100,level:"M"},null,8,["value"])):B("",!0)]),v.value.isDir?B("",!0):(y(),C("div",h2,[ne(Sa,{value:S.value,size:200,level:"M"},null,8,["value"])])),v.value.isDir?(y(),C("div",m2,g(w.$t("sidebar.preview")),1)):B("",!0),v.value.isDir?(y(),C("div",v2,[!m(h).multiple&&m(h).selectedCount===1&&v.value.items[m(h).selected[0]].type==="image"?(y(),C("a",{key:0,target:"_blank",href:k.value,class:"button button--flat",style:{height:"12em",padding:"0",margin:"0"}},[c("img",{style:{height:"12em"},src:k.value},null,8,b2)],8,g2)):m(h).multiple&&m(h).selectedCount===1&&v.value.items[m(h).selected[0]].type==="audio"?(y(),C("div",y2,[a.value?B("",!0):(y(),C("button",{key:0,onClick:z,style:{"font-size":"6em !important",border:"0px",outline:"none",background:"white"},class:"material-icons"}," play_circle_filled ")),a.value?(y(),C("button",{key:1,onClick:z,style:{"font-size":"6em !important",border:"0px",outline:"none",background:"white"},class:"material-icons"}," pause_circle_filled ")):B("",!0),c("audio",{id:"myaudio",ref_key:"audio",ref:l,src:k.value,controls:"",autoplay:a.value},null,8,w2)])):!m(h).multiple&&m(h).selectedCount===1&&v.value.items[m(h).selected[0]].type==="video"?(y(),C("video",{key:2,style:{height:"12em",padding:"0",margin:"0"},src:k.value,controls:""},[b[10]||(b[10]=re(" Sorry, your browser doesn't support embedded videos, but don't worry, you can ")),c("a",{href:k.value},"download it",8,$2),b[11]||(b[11]=re(" and watch it with your favorite video player! "))],8,_2)):!m(h).multiple&&m(h).selectedCount===1&&v.value.items[m(h).selected[0]].isDir?(y(),C("i",S2,"folder ")):(y(),C("i",E2,"call_to_action"))])):B("",!0)]),v.value.isDir&&v.value.items.length>0?(y(),C("div",k2,[v.value.isDir?(y(),C("div",C2,g(m(f)("files.files")),1)):B("",!0),c("div",T2,[(y(!0),C(fe,null,Ue(v.value.items.slice(0,n.value),O=>(y(),te(Ko,{key:U(O.name),index:O.index,name:O.name,link:O.link,isDir:O.isDir,isSymlink:O.isSymlink,url:O.url,mode:O.mode,modified:O.modified,type:O.type,size:O.size,readOnly:""},null,8,["index","name","link","isDir","isSymlink","url","mode","modified","type","size"]))),128)),v.value.items.length>n.value?(y(),C("div",{key:0,class:"item",onClick:b[2]||(b[2]=O=>n.value+=100)},[c("div",null,[c("p",P2,"+ "+g(v.value.items.length-n.value),1)])])):B("",!0),c("div",{class:Pe({active:m(h).multiple}),id:"multiple-selection"},[c("p",null,g(m(f)("files.multipleSelectionEnabled")),1),c("div",{onClick:b[3]||(b[3]=()=>m(h).multiple=!1),tabindex:"0",role:"button","data-title":m(f)("buttons.clear"),"aria-label":m(f)("buttons.clear"),class:"action"},b[12]||(b[12]=[c("i",{class:"material-icons"},"clear",-1)]),8,A2)],2)])])):v.value.isDir&&v.value.items.length===0?(y(),C("div",R2,[c("h2",O2,[b[13]||(b[13]=c("i",{class:"material-icons"},"sentiment_dissatisfied",-1)),c("span",null,g(m(f)("files.lonely")),1)])])):B("",!0)])])):B("",!0)])}}}),U2=De(D2,[["__scopeId","data-v-00b2e24e"]]),L2={key:1,class:"row"},I2={class:"column"},x2={class:"card"},B2={class:"card-title"},N2={class:"button"},M2={class:"card-content full"},F2={key:0,class:"material-icons"},j2={key:1,class:"material-icons"},z2={class:"small"},H2=ie({__name:"Users",setup(e){const t=G(null),n=G([]),r=ue(),{t:s}=ke();return Oe(async()=>{r.loading=!0;try{n.value=await Du()}catch(i){i instanceof Error&&(t.value=i)}finally{r.loading=!1}}),(i,o)=>{const l=xe("router-link");return t.value?(y(),te(yt,{key:0,errorCode:t.value.status},null,8,["errorCode"])):m(r).loading?B("",!0):(y(),C("div",L2,[c("div",I2,[c("div",x2,[c("div",B2,[c("h2",null,g(m(s)("settings.users")),1),ne(l,{to:"/settings/users/new"},{default:Ce(()=>[c("button",N2,g(m(s)("buttons.new")),1)]),_:1})]),c("div",M2,[c("table",null,[c("tr",null,[c("th",null,g(m(s)("settings.username")),1),c("th",null,g(m(s)("settings.admin")),1),c("th",null,g(m(s)("settings.scope")),1),o[0]||(o[0]=c("th",null,null,-1))]),(y(!0),C(fe,null,Ue(n.value,a=>(y(),C("tr",{key:a.id},[c("td",null,g(a.username),1),c("td",null,[a.perm.admin?(y(),C("i",F2,"done")):(y(),C("i",j2,"close"))]),c("td",null,g(a.scope),1),c("td",z2,[ne(l,{to:"/settings/users/"+a.id},{default:Ce(()=>o[1]||(o[1]=[c("i",{class:"material-icons"},"mode_edit",-1)])),_:2},1032,["to"])])]))),128))])])])])]))}}}),q2={name:"languages",props:["locale"],data(){const e={};return Object.defineProperty(e,"locales",{value:Tt({ar_AR:"العربية",en_GB:"English",es_ES:"Español",es_AR:"Español (Argentina)",es_CO:"Español (Colombia)",es_MX:"Español (Mexico)",fr_FR:"Français",id_ID:"Bahasa Indonesia",lt_LT:"Lietuvių",pt_BR:"Português (Brasil)",pt_PT:"Português",ru_RU:"Русский",tr_TR:"Türkçe",uk_UA:"Український",zh_CN:"中文 (简体)"}),configurable:!1,writable:!1}),e},methods:{change(e){this.$emit("update:locale",e.target.value)}}},V2=["value"],G2=["value"];function K2(e,t,n,r,s,i){return y(),C("select",{name:"selectLanguage",onChange:t[0]||(t[0]=(...o)=>i.change&&i.change(...o)),value:n.locale},[(y(!0),C(fe,null,Ue(e.locales,(o,l)=>(y(),C("option",{key:l,value:l},g(o),9,G2))),128))],40,V2)}const ju=De(q2,[["render",K2]]),W2={name:"rules-textarea",props:["rules"],methods:{remove(e,t){e.preventDefault();const n=[...this.rules];n.splice(t,1),this.$emit("update:rules",[...n])},create(e){e.preventDefault(),this.$emit("update:rules",[...this.rules,{allow:!0,path:"",regex:!1,regexp:{raw:""}}])}}},Q2={class:"rules small"},Y2=["onUpdate:modelValue"],X2=["onUpdate:modelValue"],J2=["onUpdate:modelValue","placeholder"],Z2=["onUpdate:modelValue","placeholder"],ek=["onClick"];function tk(e,t,n,r,s,i){return y(),C("form",Q2,[(y(!0),C(fe,null,Ue(n.rules,(o,l)=>(y(),C("div",{key:l},[J(c("input",{type:"checkbox","onUpdate:modelValue":a=>o.regex=a},null,8,Y2),[[ye,o.regex]]),t[3]||(t[3]=c("label",null,"Regex",-1)),J(c("input",{type:"checkbox","onUpdate:modelValue":a=>o.allow=a},null,8,X2),[[ye,o.allow]]),t[4]||(t[4]=c("label",null,"Allow",-1)),o.regex?J((y(),C("input",{key:0,onKeypress:t[0]||(t[0]=Ne(Ge(()=>{},["prevent"]),["enter"])),type:"text","onUpdate:modelValue":a=>o.regexp.raw=a,placeholder:e.$t("settings.insertRegex")},null,40,J2)),[[Re,o.regexp.raw]]):J((y(),C("input",{key:1,onKeypress:t[1]||(t[1]=Ne(Ge(()=>{},["prevent"]),["enter"])),type:"text","onUpdate:modelValue":a=>o.path=a,placeholder:e.$t("settings.insertPath")},null,40,Z2)),[[Re,o.path]]),c("button",{class:"button button--red",onClick:a=>i.remove(a,l)}," - ",8,ek)]))),128)),c("div",null,[c("button",{class:"button",onClick:t[2]||(t[2]=(...o)=>i.create&&i.create(...o)),default:"false"},g(e.$t("buttons.new")),1)])])}const zu=De(W2,[["render",tk]]),nk={name:"permissions",props:["perm"],computed:{admin:{get(){return this.perm.admin},set(e){if(e)for(const t in this.perm)this.perm[t]=!0;this.perm.admin=e}},isExecEnabled:()=>ln}},rk={class:"small"},ok=["disabled"],sk=["disabled"],ik=["disabled"],ak=["disabled"],lk={key:0},uk=["disabled"],ck=["disabled"],dk=["disabled"];function fk(e,t,n,r,s,i){return y(),C("div",null,[c("h3",null,g(e.$t("settings.permissions")),1),c("p",rk,g(e.$t("settings.permissionsHelp")),1),c("p",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=o=>i.admin=o)},null,512),[[ye,i.admin]]),re(" "+g(e.$t("settings.administrator")),1)]),c("p",null,[J(c("input",{type:"checkbox",disabled:i.admin,"onUpdate:modelValue":t[1]||(t[1]=o=>n.perm.create=o)},null,8,ok),[[ye,n.perm.create]]),re(" "+g(e.$t("settings.perm.create")),1)]),c("p",null,[J(c("input",{type:"checkbox",disabled:i.admin,"onUpdate:modelValue":t[2]||(t[2]=o=>n.perm.delete=o)},null,8,sk),[[ye,n.perm.delete]]),re(" "+g(e.$t("settings.perm.delete")),1)]),c("p",null,[J(c("input",{type:"checkbox",disabled:i.admin,"onUpdate:modelValue":t[3]||(t[3]=o=>n.perm.download=o)},null,8,ik),[[ye,n.perm.download]]),re(" "+g(e.$t("settings.perm.download")),1)]),c("p",null,[J(c("input",{type:"checkbox",disabled:i.admin,"onUpdate:modelValue":t[4]||(t[4]=o=>n.perm.modify=o)},null,8,ak),[[ye,n.perm.modify]]),re(" "+g(e.$t("settings.perm.modify")),1)]),i.isExecEnabled?(y(),C("p",lk,[J(c("input",{type:"checkbox",disabled:i.admin,"onUpdate:modelValue":t[5]||(t[5]=o=>n.perm.execute=o)},null,8,uk),[[ye,n.perm.execute]]),re(" "+g(e.$t("settings.perm.execute")),1)])):B("",!0),c("p",null,[J(c("input",{type:"checkbox",disabled:i.admin,"onUpdate:modelValue":t[6]||(t[6]=o=>n.perm.rename=o)},null,8,ck),[[ye,n.perm.rename]]),re(" "+g(e.$t("settings.perm.rename")),1)]),c("p",null,[J(c("input",{type:"checkbox",disabled:i.admin,"onUpdate:modelValue":t[7]||(t[7]=o=>n.perm.share=o)},null,8,dk),[[ye,n.perm.share]]),re(" "+g(e.$t("settings.perm.share")),1)])])}const pk=De(nk,[["render",fk]]),hk={name:"permissions",props:["commands"],computed:{raw:{get(){return this.commands.join(" ")},set(e){e!==""?this.$emit("update:commands",e.split(" ")):this.$emit("update:commands",[])}}}},mk={class:"small"};function vk(e,t,n,r,s,i){return y(),C("div",null,[c("h3",null,g(e.$t("settings.userCommands")),1),c("p",mk,[re(g(e.$t("settings.userCommandsHelp"))+" ",1),t[1]||(t[1]=c("i",null,"git svn hg",-1)),t[2]||(t[2]=re(". "))]),J(c("input",{class:"input input--block",type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>i.raw=o)},null,512),[[Re,i.raw,void 0,{trim:!0}]])])}const gk=De(hk,[["render",vk]]),bk={key:0},yk={for:"username"},wk={key:1},_k={for:"password"},$k=["placeholder"],Sk={for:"scope"},Ek=["disabled","placeholder"],kk={key:2,class:"small"},Ck={for:"locale"},Tk={key:3},Pk=["disabled"],Ak={key:5},Rk={class:"small"},Hu=ie({__name:"UserForm",props:{user:{},isNew:{type:Boolean},isDefault:{type:Boolean},createUserDir:{type:Boolean}},setup(e){const{t}=ke(),n=G(null),r=G(null),s=e;Oe(()=>{s.user.scope&&(r.value=s.user.scope,n.value=s.createUserDir)});const i=W(()=>s.isNew?"":t("settings.avoidChanges")),o=W(()=>n.value?t("settings.userScopeGenerationPlaceholder"):""),l=W(()=>s.isNew&&n.value);return we(()=>s.user,()=>{var a,u;(u=(a=s.user)==null?void 0:a.perm)!=null&&u.admin&&(s.user.lockPassword=!1)}),we(n,()=>{var a,u;(a=s.user)!=null&&a.scope&&(s.user.scope=n.value?"":(u=r.value)!=null?u:"")}),(a,u)=>{var d;return y(),C("div",null,[!a.isDefault&&s.user!==null?(y(),C("p",bk,[c("label",yk,g(m(t)("settings.username")),1),J(c("input",{class:"input input--block",type:"text","onUpdate:modelValue":u[0]||(u[0]=f=>a.user.username=f),id:"username"},null,512),[[Re,a.user.username]])])):B("",!0),a.isDefault?B("",!0):(y(),C("p",wk,[c("label",_k,g(m(t)("settings.password")),1),J(c("input",{class:"input input--block",type:"password",placeholder:i.value,"onUpdate:modelValue":u[1]||(u[1]=f=>a.user.password=f),id:"password"},null,8,$k),[[Re,a.user.password]])])),c("p",null,[c("label",Sk,g(m(t)("settings.scope")),1),J(c("input",{disabled:(d=n.value)!=null?d:!1,placeholder:o.value,class:"input input--block",type:"text","onUpdate:modelValue":u[2]||(u[2]=f=>a.user.scope=f),id:"scope"},null,8,Ek),[[Re,a.user.scope]])]),l.value?(y(),C("p",kk,[J(c("input",{type:"checkbox","onUpdate:modelValue":u[3]||(u[3]=f=>n.value=f)},null,512),[[ye,n.value]]),re(" "+g(m(t)("settings.createUserHomeDirectory")),1)])):B("",!0),c("p",null,[c("label",Ck,g(m(t)("settings.language")),1),ne(ju,{class:"input input--block",id:"locale",locale:a.user.locale,"onUpdate:locale":u[4]||(u[4]=f=>a.user.locale=f)},null,8,["locale"])]),!a.isDefault&&a.user.perm?(y(),C("p",Tk,[J(c("input",{type:"checkbox",disabled:a.user.perm.admin,"onUpdate:modelValue":u[5]||(u[5]=f=>a.user.lockPassword=f)},null,8,Pk),[[ye,a.user.lockPassword]]),re(" "+g(m(t)("settings.lockPassword")),1)])):B("",!0),ne(pk,{perm:a.user.perm,"onUpdate:perm":u[6]||(u[6]=f=>a.user.perm=f)},null,8,["perm"]),m(ln)?(y(),te(gk,{key:4,commands:a.user.commands,"onUpdate:commands":u[7]||(u[7]=f=>a.user.commands=f)},null,8,["commands"])):B("",!0),a.isDefault?B("",!0):(y(),C("div",Ak,[c("h3",null,g(m(t)("settings.rules")),1),c("p",Rk,g(m(t)("settings.rulesHelp")),1),ne(zu,{rules:a.user.rules,"onUpdate:rules":u[8]||(u[8]=f=>a.user.rules=f)},null,8,["rules"])]))])}}}),Ok={key:1,class:"row"},Dk={class:"column"},Uk={class:"card-title"},Lk={key:0},Ik={key:1},xk={key:0,class:"card-content"},Bk={class:"card-action"},Nk=["aria-label","title"],Mk=["aria-label","title"],Fk=["value"],jk=ie({__name:"User",setup(e){const t=G(),n=G(),r=G(),s=G(!1),i=Se("$showError"),o=Se("$showSuccess"),l=Le(),a=ue(),u=Xe(),d=vn(),{t:f}=ke();Oe(()=>{h()});const p=W(()=>u.path==="/settings/users/new");we(u,()=>h()),we(r,()=>{var S;(S=r.value)!=null&&S.perm.admin&&(r.value.lockPassword=!1)});const h=async()=>{a.loading=!0;try{if(p.value){const{defaults:S,createUserDir:k}=await Uu();s.value=k,r.value={...S,username:"",password:"",rules:[],lockPassword:!1,id:0}}else{const S=Array.isArray(u.params.id)?u.params.id.join(""):u.params.id;r.value={...await U0(parseInt(S))}}}catch(S){S instanceof Error&&(t.value=S)}finally{a.loading=!1}},$=()=>a.showHover({prompt:"deleteUser",confirm:v}),v=async S=>{if(S.preventDefault(),!r.value)return!1;try{await I0(r.value.id),d.push({path:"/settings/users"}),o(f("settings.userDeleted"))}catch(k){k instanceof wt?k.status===403?i(f("errors.forbidden")):i(k):k instanceof Error&&i(k)}return!0},_=async S=>{var k;if(S.preventDefault(),!r.value)return!1;try{if(p.value){const E={...n==null?void 0:n.value,...r.value},P=await L0(E);d.push({path:P||"/settings/users"}),o(f("settings.userCreated"))}else await lr(r.value),r.value.id===((k=l.user)==null?void 0:k.id)&&l.updateUser(r.value),o(f("settings.userUpdated"))}catch(E){i(E)}return!0};return(S,k)=>{var P,T;const E=xe("router-link");return t.value?(y(),te(yt,{key:0,errorCode:t.value.status},null,8,["errorCode"])):m(a).loading?B("",!0):(y(),C("div",Ok,[c("div",Dk,[c("form",{onSubmit:_,class:"card"},[c("div",Uk,[((P=r.value)==null?void 0:P.id)===0?(y(),C("h2",Lk,g(S.$t("settings.newUser")),1)):(y(),C("h2",Ik,g(S.$t("settings.user"))+" "+g((T=r.value)==null?void 0:T.username),1))]),r.value?(y(),C("div",xk,[ne(Hu,{user:r.value,"onUpdate:user":k[0]||(k[0]=x=>r.value=x),createUserDir:s.value,"onUpdate:createUserDir":k[1]||(k[1]=x=>s.value=x),isDefault:!1,isNew:p.value},null,8,["user","createUserDir","isNew"])])):B("",!0),c("div",Bk,[p.value?B("",!0):(y(),C("button",{key:0,onClick:Ge($,["prevent"]),type:"button",class:"button button--flat button--red","aria-label":S.$t("buttons.delete"),title:S.$t("buttons.delete")},g(S.$t("buttons.delete")),9,Nk)),ne(E,{to:"/settings/users"},{default:Ce(()=>[c("button",{class:"button button--flat button--grey","aria-label":S.$t("buttons.cancel"),title:S.$t("buttons.cancel")},g(S.$t("buttons.cancel")),9,Mk)]),_:1}),c("input",{class:"button button--flat",type:"submit",value:S.$t("buttons.save")},null,8,Fk)])],32)])]))}}}),zk={class:"dashboard"},Hk={id:"nav"},qk={class:"wrapper"},Vk={key:0},Gk={class:"message delayed"},Kk=ie({__name:"Settings",setup(e){const{t}=ke(),n=Le(),r=ue(),s=W(()=>n.user),i=W(()=>r.loading);return(o,l)=>{var d,f,p;const a=xe("router-link"),u=xe("router-view");return y(),C("div",zk,[ne(dr,{showMenu:"",showLogo:""}),c("div",Hk,[c("div",qk,[c("ul",null,[ne(a,{to:"/settings/profile"},{default:Ce(()=>[c("li",{class:Pe({active:o.$route.path==="/settings/profile"})},g(m(t)("settings.profileSettings")),3)]),_:1}),(d=s.value)!=null&&d.perm.share?(y(),te(a,{key:0,to:"/settings/shares"},{default:Ce(()=>[c("li",{class:Pe({active:o.$route.path==="/settings/shares"})},g(m(t)("settings.shareManagement")),3)]),_:1})):B("",!0),(f=s.value)!=null&&f.perm.admin?(y(),te(a,{key:1,to:"/settings/global"},{default:Ce(()=>[c("li",{class:Pe({active:o.$route.path==="/settings/global"})},g(m(t)("settings.globalSettings")),3)]),_:1})):B("",!0),(p=s.value)!=null&&p.perm.admin?(y(),te(a,{key:2,to:"/settings/users"},{default:Ce(()=>[c("li",{class:Pe({active:o.$route.path==="/settings/users"||o.$route.name==="User"})},g(m(t)("settings.userManagement")),3)]),_:1})):B("",!0)])])]),i.value?(y(),C("div",Vk,[c("h2",Gk,[l[0]||(l[0]=c("div",{class:"spinner"},[c("div",{class:"bounce1"}),c("div",{class:"bounce2"}),c("div",{class:"bounce3"})],-1)),c("span",null,g(m(t)("files.loading")),1)])])):B("",!0),ne(u)])}}}),Wk=["value"],Qk={value:""},Yk={value:"light"},Xk={value:"dark"},Jk=ie({__name:"Themes",props:{theme:{}},emits:["update:theme"],setup(e,{emit:t}){const{t:n}=ke(),r=t,s=i=>{var o;r("update:theme",(o=i.target)==null?void 0:o.value)};return(i,o)=>(y(),C("select",{onChange:s,value:i.theme},[c("option",Qk,g(m(n)("settings.themes.default")),1),c("option",Yk,g(m(n)("settings.themes.light")),1),c("option",Xk,g(m(n)("settings.themes.dark")),1)],40,Wk))}}),qu=()=>document.documentElement.className||Na,Vu=e=>{const t=document.documentElement;e?t.className=e:t.className=Gu()},Gu=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",Zk={key:1,class:"row"},eC={class:"column"},tC={class:"card-title"},nC={class:"card-content"},rC={class:"small"},oC={class:"small"},sC={key:0},iC={class:"small"},aC={class:"link",target:"_blank",href:"https://filebrowser.org/configuration/custom-branding"},lC={for:"theme"},uC={for:"branding-name"},cC={for:"branding-files"},dC={class:"small"},fC={class:"tusConditionalSettings"},pC={for:"tus-chunkSize"},hC={for:"tus-retryCount"},mC={class:"card-action"},vC=["value"],gC={class:"column"},bC={class:"card-title"},yC={class:"card-content"},wC={class:"small"},_C={class:"card-action"},$C=["value"],SC={class:"column"},EC={class:"card-title"},kC={class:"card-content"},CC={class:"link",target:"_blank",href:"https://filebrowser.org/configuration/command-runner"},TC=["id"],PC=["for"],AC={class:"collapse"},RC=["onUpdate:modelValue"],OC={class:"card-action"},DC=["value"],UC=ie({__name:"Global",setup(e){const t=G(null),n=G(null),r=G(null),s=G(null),i=G({}),o=G(""),l=Se("$showError"),a=Se("$showSuccess"),{t:u}=ke(),d=ue(),f=W({get(){var _,S,k,E;return(S=(_=r==null?void 0:r.value)==null?void 0:_.tus)!=null&&S.chunkSize?v((E=(k=r==null?void 0:r.value)==null?void 0:k.tus)==null?void 0:E.chunkSize):""},set(_){s.value&&clearTimeout(s.value),s.value=window.setTimeout(()=>{r.value&&(r.value.tus.chunkSize=$(_))},1500)}}),p=(_,S="_")=>{S==="caps"&&(S=/(?=[A-Z])/);const k=_.split(S);_="";for(let E=0;E<k.length;E++)_+=k[E].charAt(0).toUpperCase()+k[E].slice(1)+" ";return _.slice(0,-1)},h=async()=>{var k,E;if(r.value===null)return!1;const _={...r.value,shell:(E=(k=r.value)==null?void 0:k.shell.join(" ").trim().split(" ").filter(P=>P!==""))!=null?E:[],commands:{}},S=Object.keys(r.value.commands);for(const P of S){const T=i.value[P];T&&(Array.isArray(T)?_.commands[P]=T:P in i.value&&(_.commands[P]=T.split("\n").filter(x=>x!=="")))}_.shell=o.value.split("\n"),_.branding.theme!==qu()&&Vu(_.branding.theme);try{await B0(_),a(u("settings.settingsUpdated"))}catch(P){l(P)}return!0},$=_=>{const S=/^(\d+)(\.\d+)?(B|K|KB|M|MB|G|GB|T|TB)?$/i,k=_.match(S);if(k){const E=parseFloat(k[1].concat(k[2]||""));let P=k[3].toUpperCase();P.endsWith("B")||(P+="B");const T={KB:1024,MB:1024**2,GB:1024**3,TB:1024**4};return E*(T[P]||1)}else return 1024**2},v=_=>{const S=["B","KB","MB","GB","TB"];let k=_,E=0;for(;k>=1024&&E<S.length-1;)k/=1024,E++;return"".concat(k).concat(S[E])};return Oe(async()=>{try{d.loading=!0;const _=await Uu(),S={..._,commands:{}},k=Object.keys(_.commands);for(const E of k)S.commands[E]=_.commands[E],i.value[E]=_.commands[E].join("\n");n.value=_,r.value=S,o.value=S.shell.join("\n")}catch(_){_ instanceof Error&&(t.value=_)}finally{d.loading=!1}}),Ot(()=>{s.value&&clearTimeout(s.value)}),(_,S)=>{const k=xe("i18n-t"),E=xe("vue-number-input");return t.value?(y(),te(yt,{key:0,errorCode:t.value.status},null,8,["errorCode"])):!m(d).loading&&r.value!==null?(y(),C("div",Zk,[c("div",eC,[c("form",{class:"card",onSubmit:Ge(h,["prevent"])},[c("div",tC,[c("h2",null,g(m(u)("settings.globalSettings")),1)]),c("div",nC,[c("p",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":S[0]||(S[0]=P=>r.value.signup=P)},null,512),[[ye,r.value.signup]]),re(" "+g(m(u)("settings.allowSignup")),1)]),c("p",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":S[1]||(S[1]=P=>r.value.createUserDir=P)},null,512),[[ye,r.value.createUserDir]]),re(" "+g(m(u)("settings.createUserDir")),1)]),c("div",null,[c("p",rC,g(m(u)("settings.userHomeBasePath")),1),J(c("input",{class:"input input--block",type:"text","onUpdate:modelValue":S[2]||(S[2]=P=>r.value.userHomeBasePath=P)},null,512),[[Re,r.value.userHomeBasePath]])]),c("h3",null,g(m(u)("settings.rules")),1),c("p",oC,g(m(u)("settings.globalRules")),1),ne(zu,{rules:r.value.rules,"onUpdate:rules":S[3]||(S[3]=P=>r.value.rules=P)},null,8,["rules"]),m(ln)?(y(),C("div",sC,[c("h3",null,g(m(u)("settings.executeOnShell")),1),c("p",iC,g(m(u)("settings.executeOnShellDescription")),1),J(c("input",{class:"input input--block",type:"text",placeholder:"bash -c, cmd /c, ...","onUpdate:modelValue":S[4]||(S[4]=P=>o.value=P)},null,512),[[Re,o.value]])])):B("",!0),c("h3",null,g(m(u)("settings.branding")),1),ne(k,{keypath:"settings.brandingHelp",tag:"p",class:"small",scope:"global"},{default:Ce(()=>[c("a",aC,g(m(u)("settings.documentation")),1)]),_:1}),c("p",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":S[5]||(S[5]=P=>r.value.branding.disableExternal=P),id:"branding-links"},null,512),[[ye,r.value.branding.disableExternal]]),re(" "+g(m(u)("settings.disableExternalLinks")),1)]),c("p",null,[J(c("input",{type:"checkbox","onUpdate:modelValue":S[6]||(S[6]=P=>r.value.branding.disableUsedPercentage=P),id:"branding-used-disk"},null,512),[[ye,r.value.branding.disableUsedPercentage]]),re(" "+g(m(u)("settings.disableUsedDiskPercentage")),1)]),c("p",null,[c("label",lC,g(m(u)("settings.themes.title")),1),ne(Jk,{class:"input input--block",theme:r.value.branding.theme,"onUpdate:theme":S[7]||(S[7]=P=>r.value.branding.theme=P),id:"theme"},null,8,["theme"])]),c("p",null,[c("label",uC,g(m(u)("settings.instanceName")),1),J(c("input",{class:"input input--block",type:"text","onUpdate:modelValue":S[8]||(S[8]=P=>r.value.branding.name=P),id:"branding-name"},null,512),[[Re,r.value.branding.name]])]),c("p",null,[c("label",cC,g(m(u)("settings.brandingDirectoryPath")),1),J(c("input",{class:"input input--block",type:"text","onUpdate:modelValue":S[9]||(S[9]=P=>r.value.branding.files=P),id:"branding-files"},null,512),[[Re,r.value.branding.files]])]),c("h3",null,g(m(u)("settings.tusUploads")),1),c("p",dC,g(m(u)("settings.tusUploadsHelp")),1),c("div",fC,[c("p",null,[c("label",pC,g(m(u)("settings.tusUploadsChunkSize")),1),J(c("input",{class:"input input--block",type:"text","onUpdate:modelValue":S[10]||(S[10]=P=>f.value=P),id:"tus-chunkSize"},null,512),[[Re,f.value]])]),c("p",null,[c("label",hC,g(m(u)("settings.tusUploadsRetryCount")),1),ne(E,{controls:"",modelValue:r.value.tus.retryCount,"onUpdate:modelValue":S[11]||(S[11]=P=>r.value.tus.retryCount=P),modelModifiers:{number:!0},id:"tus-retryCount",min:0},null,8,["modelValue"])])])]),c("div",mC,[c("input",{class:"button button--flat",type:"submit",value:m(u)("buttons.update")},null,8,vC)])],32)]),c("div",gC,[c("form",{class:"card",onSubmit:Ge(h,["prevent"])},[c("div",bC,[c("h2",null,g(m(u)("settings.userDefaults")),1)]),c("div",yC,[c("p",wC,g(m(u)("settings.defaultUserDescription")),1),ne(Hu,{isNew:!1,isDefault:!0,user:r.value.defaults,"onUpdate:user":S[12]||(S[12]=P=>r.value.defaults=P)},null,8,["user"])]),c("div",_C,[c("input",{class:"button button--flat",type:"submit",value:m(u)("buttons.update")},null,8,$C)])],32)]),c("div",SC,[m(ln)?(y(),C("form",{key:0,class:"card",onSubmit:Ge(h,["prevent"])},[c("div",EC,[c("h2",null,g(m(u)("settings.commandRunner")),1)]),c("div",kC,[ne(k,{keypath:"settings.commandRunnerHelp",tag:"p",class:"small",scope:"global"},{default:Ce(()=>[S[13]||(S[13]=c("code",null,"FILE",-1)),S[14]||(S[14]=c("code",null,"SCOPE",-1)),c("a",CC,g(m(u)("settings.documentation")),1)]),_:1}),(y(!0),C(fe,null,Ue(r.value.commands,(P,T)=>(y(),C("div",{key:T,class:"collapsible"},[c("input",{id:T,type:"checkbox"},null,8,TC),c("label",{for:T},[c("p",null,g(p(T)),1),S[15]||(S[15]=c("i",{class:"material-icons"},"arrow_drop_down",-1))],8,PC),c("div",AC,[J(c("textarea",{class:"input input--block input--textarea","onUpdate:modelValue":x=>i.value[T]=x},null,8,RC),[[Re,i.value[T],void 0,{trim:!0}]])])]))),128))]),c("div",OC,[c("input",{class:"button button--flat",type:"submit",value:m(u)("buttons.update")},null,8,DC)])],32)):B("",!0)])])):B("",!0)}}}),LC={class:"row"},IC={class:"column"},xC={class:"card-title"},BC={class:"card-content"},NC={class:"card-action"},MC=["value"],FC={class:"column"},jC={class:"card-title"},zC={class:"card-content"},HC=["placeholder"],qC=["placeholder"],VC={class:"card-action"},GC=["value"],KC=ie({__name:"Profile",setup(e){const t=ue(),n=Le(),{t:r}=ke(),s=Se("$showSuccess"),i=Se("$showError"),o=G(""),l=G(""),a=G(!1),u=G(!1),d=G(!1),f=G(""),p=W(()=>{const v="input input--block";return o.value===""&&l.value===""?v:o.value===l.value?"".concat(v," input--green"):"".concat(v," input--red")});Oe(()=>(t.loading=!0,n.user===null?!1:(f.value=n.user.locale,a.value=n.user.hideDotfiles,u.value=n.user.singleClick,d.value=n.user.dateFormat,t.loading=!1,!0)));const h=async v=>{if(v.preventDefault(),!(o.value!==l.value||o.value===""||n.user===null))try{const _={...n.user,id:n.user.id,password:o.value};await lr(_,["password"]),n.updateUser(_),s(r("settings.passwordUpdated"))}catch(_){i(_)}finally{o.value=l.value=""}},$=async v=>{v.preventDefault();try{if(n.user===null)throw new Error("User is not set!");const _={...n.user,id:n.user.id,locale:f.value,hideDotfiles:a.value,singleClick:u.value,dateFormat:d.value};await lr(_,["locale","hideDotfiles","singleClick","dateFormat"]),n.updateUser(_),s(r("settings.settingsUpdated"))}catch(_){_ instanceof Error&&i(_)}};return(v,_)=>{var S;return y(),C("div",LC,[c("div",IC,[c("form",{class:"card",onSubmit:$},[c("div",xC,[c("h2",null,g(m(r)("settings.profileSettings")),1)]),c("div",BC,[c("p",null,[J(c("input",{type:"checkbox",name:"hideDotfiles","onUpdate:modelValue":_[0]||(_[0]=k=>a.value=k)},null,512),[[ye,a.value]]),re(" "+g(m(r)("settings.hideDotfiles")),1)]),c("p",null,[J(c("input",{type:"checkbox",name:"singleClick","onUpdate:modelValue":_[1]||(_[1]=k=>u.value=k)},null,512),[[ye,u.value]]),re(" "+g(m(r)("settings.singleClick")),1)]),c("p",null,[J(c("input",{type:"checkbox",name:"dateFormat","onUpdate:modelValue":_[2]||(_[2]=k=>d.value=k)},null,512),[[ye,d.value]]),re(" "+g(m(r)("settings.setDateFormat")),1)]),c("h3",null,g(m(r)("settings.language")),1),ne(ju,{class:"input input--block",locale:f.value,"onUpdate:locale":_[3]||(_[3]=k=>f.value=k)},null,8,["locale"])]),c("div",NC,[c("input",{class:"button button--flat",type:"submit",name:"submitProfile",value:m(r)("buttons.update")},null,8,MC)])],32)]),c("div",FC,[(S=m(n).user)!=null&&S.lockPassword?B("",!0):(y(),C("form",{key:0,class:"card",onSubmit:h},[c("div",jC,[c("h2",null,g(m(r)("settings.changePassword")),1)]),c("div",zC,[J(c("input",{class:Pe(p.value),type:"password",placeholder:m(r)("settings.newPassword"),"onUpdate:modelValue":_[4]||(_[4]=k=>o.value=k),name:"password"},null,10,HC),[[Re,o.value]]),J(c("input",{class:Pe(p.value),type:"password",placeholder:m(r)("settings.newPasswordConfirm"),"onUpdate:modelValue":_[5]||(_[5]=k=>l.value=k),name:"passwordConf"},null,10,qC),[[Re,l.value]])]),c("div",VC,[c("input",{class:"button button--flat",type:"submit",name:"submitPassword",value:m(r)("buttons.update")},null,8,GC)])],32))])])}}}),WC={key:1,class:"row"},QC={class:"column"},YC={class:"card"},XC={class:"card-title"},JC={key:0,class:"card-content full"},ZC={key:0},eT=["href"],tT={key:0},nT={class:"small"},rT=["onClick","aria-label","title"],oT={class:"small"},sT=["aria-label","title","onClick"],iT={key:1,class:"message"},aT=ie({__name:"Shares",setup(e){const t=Se("$showError"),n=Se("$showSuccess"),{t:r}=ke(),s=ue(),i=Le(),o=G(null),l=G([]);Oe(async()=>{var p;s.loading=!0;try{const h=await O0();if((p=i.user)!=null&&p.perm.admin){const $=new Map;for(const v of await Du())$.set(v.id,v.username);for(const v of h)v.userID&&$.has(v.userID)&&(v.username=$.get(v.userID))}l.value=h}catch(h){h instanceof Error&&(o.value=h)}finally{s.loading=!1}});const a=p=>{mn({text:p}).then(()=>{n(r("success.linkCopied"))},()=>{mn({text:p},{permission:!0}).then(()=>{n(r("success.linkCopied"))},h=>{t(h)})})},u=async(p,h)=>{p.preventDefault(),s.showHover({prompt:"share-delete",confirm:()=>{s.closeHovers();try{Ru(h.hash),l.value=l.value.filter($=>$.hash!==h.hash),n(r("settings.shareDeleted"))}catch($){$ instanceof Error&&t($)}}})},d=p=>dt(p*1e3).fromNow(),f=p=>Ou(p);return(p,h)=>{var $;return o.value?(y(),te(yt,{key:0,errorCode:o.value.status},null,8,["errorCode"])):m(s).loading?B("",!0):(y(),C("div",WC,[c("div",QC,[c("div",YC,[c("div",XC,[c("h2",null,g(m(r)("settings.shareManagement")),1)]),l.value.length>0?(y(),C("div",JC,[c("table",null,[c("tr",null,[c("th",null,g(m(r)("settings.path")),1),c("th",null,g(m(r)("settings.shareDuration")),1),($=m(i).user)!=null&&$.perm.admin?(y(),C("th",ZC,g(m(r)("settings.username")),1)):B("",!0),h[0]||(h[0]=c("th",null,null,-1)),h[1]||(h[1]=c("th",null,null,-1))]),(y(!0),C(fe,null,Ue(l.value,v=>{var _;return y(),C("tr",{key:v.hash},[c("td",null,[c("a",{href:f(v),target:"_blank"},g(v.path),9,eT)]),c("td",null,[v.expire!==0?(y(),C(fe,{key:0},[re(g(d(v.expire)),1)],64)):(y(),C(fe,{key:1},[re(g(m(r)("permanent")),1)],64))]),(_=m(i).user)!=null&&_.perm.admin?(y(),C("td",tT,g(v.username),1)):B("",!0),c("td",nT,[c("button",{class:"action",onClick:S=>u(S,v),"aria-label":m(r)("buttons.delete"),title:m(r)("buttons.delete")},h[2]||(h[2]=[c("i",{class:"material-icons"},"delete",-1)]),8,rT)]),c("td",oT,[c("button",{class:"action copy-clipboard","aria-label":m(r)("buttons.copyToClipboard"),title:m(r)("buttons.copyToClipboard"),onClick:S=>a(f(v))},h[3]||(h[3]=[c("i",{class:"material-icons"},"content_paste",-1)]),8,sT)])])}),128))])])):(y(),C("h2",iT,[h[4]||(h[4]=c("i",{class:"material-icons"},"sentiment_dissatisfied",-1)),c("span",null,g(m(r)("files.lonely")),1)]))])])]))}}}),lT={Login:"sidebar.login",Share:"buttons.share",Files:"files.files",Settings:"sidebar.settings",ProfileSettings:"settings.profileSettings",Shares:"settings.shareManagement",GlobalSettings:"settings.globalSettings",Users:"settings.users",User:"settings.user",Forbidden:"errors.forbidden",NotFound:"errors.notFound",InternalServerError:"errors.internal"},uT=[{path:"/login",name:"Login",component:Tb},{path:"/share",component:wo,children:[{path:":path*",name:"Share",component:U2}]},{path:"/files",component:wo,meta:{requiresAuth:!0},children:[{path:":path*",name:"Files",component:ME}]},{path:"/settings",component:wo,meta:{requiresAuth:!0},children:[{path:"",name:"Settings",component:Kk,redirect:{path:"/settings/profile"},children:[{path:"profile",name:"ProfileSettings",component:KC},{path:"shares",name:"Shares",component:aT},{path:"global",name:"GlobalSettings",component:UC,meta:{requiresAdmin:!0}},{path:"users",name:"Users",component:H2,meta:{requiresAdmin:!0}},{path:"users/:id",name:"User",component:jk,meta:{requiresAdmin:!0}}]}]},{path:"/403",name:"Forbidden",component:yt,props:{errorCode:403,showHeader:!0}},{path:"/404",name:"NotFound",component:yt,props:{errorCode:404,showHeader:!0}},{path:"/500",name:"InternalServerError",component:yt,props:{errorCode:500,showHeader:!0}},{path:"/:catchAll(.*)*",redirect:e=>"/files/".concat([...e.params.catchAll].join("/"))}];async function cT(){Ba?await vb():await nu("","",""),Pn&&await new Promise(e=>{const t=()=>{typeof window.grecaptcha>"u"?setTimeout(t,100):e()};t()})}const fr=Eh({history:Zp(ot),routes:uT});fr.beforeResolve(async(e,t,n)=>{const r=Yo.global.t(lT[e.name]);document.title=r+" - "+Xo;const s=Le();if(t.name==null)try{await cT()}catch(i){console.error(i)}if(e.path.endsWith("/login")&&s.isLoggedIn){n({path:"/files/"});return}if(e.matched.some(i=>i.meta.requiresAuth)){if(!s.isLoggedIn){n({path:"/login",query:{redirect:e.fullPath}});return}if(e.matched.some(i=>i.meta.requiresAdmin)&&(s.user===null||!s.user.perm.admin)){n({path:"/403"});return}}n()});const dT=ie({__name:"App",setup(e){const{locale:t}=ke(),n=G(qu()||Gu());return Oe(()=>{Vu(n.value),As(t.value);const r=document.getElementById("loading");r==null||r.classList.add("done"),setTimeout(function(){var s;(s=r==null?void 0:r.parentNode)==null||s.removeChild(r)},200)}),we(t,r=>{r&&As(r)}),(r,s)=>{const i=xe("router-view");return y(),C("div",null,[ne(i)])}}}),fT={class:"t-container"},pT=ie({__name:"CustomToast",props:{message:{},reportText:{},isReport:{type:Boolean}},setup(e){const t=()=>{window.open("https://github.com/filebrowser/filebrowser/issues/new/choose")};return(n,r)=>(y(),C("div",fT,[c("span",null,g(n.message),1),n.isReport?(y(),C("button",{key:0,class:"action",onClick:Ge(t,["stop"])},g(n.reportText),1)):B("",!0)]))}}),Ku=De(pT,[["__scopeId","data-v-50e7ff04"]]);dt.extend(ac);dt.extend(lc);dt.extend(uc);const hT=$p(fr),mT=mf(),Ze=Pa(dT);Ze.component(Rr.name||"vue-number-input",Rr);Ze.use(Kc);Ze.use(mp,{transition:"Vue-Toastification__bounce",maxToasts:10,newestOnTop:!0});Ze.use(mT);Ze.use(Yo);Ze.use(hT);Ze.use(fr);Ze.mixin({mounted(){this.$el.__vue__=this}});Ze.directive("focus",{mounted:async e=>{e.focus()}});const Wu={position:Wn.BOTTOM_CENTER,timeout:4e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0};Ze.provide("$showSuccess",e=>{Sl().success({component:Ku,props:{message:e}},{...Wu,rtl:Oa()})});Ze.provide("$showError",(e,t=!0)=>{Sl().error({component:Ku,props:{message:e.message||e,isReport:!Da&&t,reportText:Yo.global.t("buttons.reportIssue")}},{...Wu,timeout:0,rtl:Oa()})});fr.isReady().then(()=>Ze.mount("#app"));export{me as _,vT as __vite_legacy_guard,Le as a,ue as b,Xe as c,vn as d,Me as e,rt as f,qu as g,dr as h,Bu as i,De as j,wT as k,$T as l,R0 as m,cr as n,ST as o,_T as p,Qt as q,yT as r,Zn as t,Ee as u};
